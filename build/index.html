
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#templates-examples" class="toc-h1 toc-link" data-title="templates-examples">Templates/examples</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-example" class="toc-h2 toc-link" data-title="post-example">POST example</a>
                  </li>
                  <li>
                    <a href="#get-example" class="toc-h2 toc-link" data-title="get-example">GET example</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#activation" class="toc-h1 toc-link" data-title="activation">Activation</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#check-vet-activation-code" class="toc-h2 toc-link" data-title="check-vet-activation-code">Check vet activation code</a>
                  </li>
                  <li>
                    <a href="#sign-up-a-user" class="toc-h2 toc-link" data-title="sign-up-a-user">Sign up a user</a>
                  </li>
                  <li>
                    <a href="#get-vet_pets" class="toc-h2 toc-link" data-title="get-vet_pets">Get vet_pets</a>
                  </li>
                  <li>
                    <a href="#sync-existing-pet-with-vet_pet" class="toc-h2 toc-link" data-title="sync-existing-pet-with-vet_pet">Sync existing pet with vet_pet</a>
                  </li>
                  <li>
                    <a href="#create-pet-from-vet_pet" class="toc-h2 toc-link" data-title="create-pet-from-vet_pet">Create pet from vet_pet</a>
                  </li>
                  <li>
                    <a href="#send-vet_user-verification-link" class="toc-h2 toc-link" data-title="send-vet_user-verification-link">Send vet_user verification link</a>
                  </li>
                  <li>
                    <a href="#verify-vet_user-token-and-link-account" class="toc-h2 toc-link" data-title="verify-vet_user-token-and-link-account">Verify vet_user token and link account</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#activation-v2" class="toc-h1 toc-link" data-title="activation-v2">Activation V2</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#find-available-vet-integrations-for-user" class="toc-h2 toc-link" data-title="find-available-vet-integrations-for-user">Find available vet integrations for user</a>
                  </li>
                  <li>
                    <a href="#link-user-with-vet_user" class="toc-h2 toc-link" data-title="link-user-with-vet_user">Link user with vet_user</a>
                  </li>
                  <li>
                    <a href="#send-account-linking-token" class="toc-h2 toc-link" data-title="send-account-linking-token">Send account linking token</a>
                  </li>
                  <li>
                    <a href="#validate-and-consume-email-phone-token" class="toc-h2 toc-link" data-title="validate-and-consume-email-phone-token">Validate and consume email/phone token</a>
                  </li>
                  <li>
                    <a href="#find-vet-integrations-for-email-phone" class="toc-h2 toc-link" data-title="find-vet-integrations-for-email-phone">Find vet integrations for email/phone</a>
                  </li>
                  <li>
                    <a href="#send-account-creation-token" class="toc-h2 toc-link" data-title="send-account-creation-token">Send account creation token</a>
                  </li>
                  <li>
                    <a href="#create-user-account-from-vet_user-account" class="toc-h2 toc-link" data-title="create-user-account-from-vet_user-account">Create user account from vet_user account</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#machine-learning-algo-tagging" class="toc-h1 toc-link" data-title="machine-learning-algo-tagging">Machine learning/algo tagging</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#query-algorithm" class="toc-h2 toc-link" data-title="query-algorithm">Query algorithm</a>
                  </li>
                  <li>
                    <a href="#get-pending-feedback" class="toc-h2 toc-link" data-title="get-pending-feedback">Get pending feedback</a>
                  </li>
                  <li>
                    <a href="#submit-feedback" class="toc-h2 toc-link" data-title="submit-feedback">Submit feedback</a>
                  </li>
                  <li>
                    <a href="#delete-pending-feedback-item" class="toc-h2 toc-link" data-title="delete-pending-feedback-item">Delete pending feedback item</a>
                  </li>
                  <li>
                    <a href="#refit" class="toc-h2 toc-link" data-title="refit">Refit</a>
                  </li>
                  <li>
                    <a href="#save-state" class="toc-h2 toc-link" data-title="save-state">Save state</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#medications" class="toc-h1 toc-link" data-title="medications">Medications</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-built-in-medications" class="toc-h2 toc-link" data-title="get-all-built-in-medications">Get all built-in medications</a>
                  </li>
                  <li>
                    <a href="#get-all-of-a-pet-39-s-medications" class="toc-h2 toc-link" data-title="get-all-of-a-pet-s-medications">Get all of a pet's medications</a>
                  </li>
                  <li>
                    <a href="#create-pet-medication" class="toc-h2 toc-link" data-title="create-pet-medication">Create pet medication</a>
                  </li>
                  <li>
                    <a href="#update-pet-medication" class="toc-h2 toc-link" data-title="update-pet-medication">Update pet medication</a>
                  </li>
                  <li>
                    <a href="#delete-pet-medication" class="toc-h2 toc-link" data-title="delete-pet-medication">Delete pet medication</a>
                  </li>
                  <li>
                    <a href="#get-suggested-pet-medications" class="toc-h2 toc-link" data-title="get-suggested-pet-medications">Get suggested pet medications</a>
                  </li>
                  <li>
                    <a href="#reject-suggested-pet-medication" class="toc-h2 toc-link" data-title="reject-suggested-pet-medication">Reject suggested pet medication</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#payments" class="toc-h1 toc-link" data-title="payments">Payments</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#update-payment-information" class="toc-h2 toc-link" data-title="update-payment-information">Update payment information</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#places" class="toc-h1 toc-link" data-title="places">Places</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#add-new-place" class="toc-h2 toc-link" data-title="add-new-place">Add new place</a>
                  </li>
                  <li>
                    <a href="#places-search" class="toc-h2 toc-link" data-title="places-search">Places search</a>
                  </li>
                  <li>
                    <a href="#create-appointment-request-at-a-place" class="toc-h2 toc-link" data-title="create-appointment-request-at-a-place">Create appointment request at a place</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#reminders-v2" class="toc-h1 toc-link" data-title="reminders-v2">Reminders v2</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-reminders" class="toc-h2 toc-link" data-title="get-all-reminders">Get all reminders</a>
                  </li>
                  <li>
                    <a href="#get-specific-reminder" class="toc-h2 toc-link" data-title="get-specific-reminder">Get specific reminder</a>
                  </li>
                  <li>
                    <a href="#create-a-reminder" class="toc-h2 toc-link" data-title="create-a-reminder">Create a reminder</a>
                  </li>
                  <li>
                    <a href="#update-a-reminder" class="toc-h2 toc-link" data-title="update-a-reminder">Update a reminder</a>
                  </li>
                  <li>
                    <a href="#delete-a-reminder" class="toc-h2 toc-link" data-title="delete-a-reminder">Delete a reminder</a>
                  </li>
                  <li>
                    <a href="#update-settings" class="toc-h2 toc-link" data-title="update-settings">Update settings</a>
                  </li>
                  <li>
                    <a href="#update-settings-vet_reminder" class="toc-h2 toc-link" data-title="update-settings-vet_reminder">Update settings (vet_reminder)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#requests-v1" class="toc-h1 toc-link" data-title="requests-v1">Requests v1</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#check-if-promo-code-is-valid" class="toc-h2 toc-link" data-title="check-if-promo-code-is-valid">Check if promo code is valid</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#requests-v2" class="toc-h1 toc-link" data-title="requests-v2">Requests v2</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-products" class="toc-h2 toc-link" data-title="get-all-products">Get all products</a>
                  </li>
                  <li>
                    <a href="#basic-order-preview" class="toc-h2 toc-link" data-title="basic-order-preview">Basic order - preview</a>
                  </li>
                  <li>
                    <a href="#basic-order-execute" class="toc-h2 toc-link" data-title="basic-order-execute">Basic order - execute</a>
                  </li>
                  <li>
                    <a href="#full-order-preview" class="toc-h2 toc-link" data-title="full-order-preview">Full order - preview</a>
                  </li>
                  <li>
                    <a href="#full-order-execute" class="toc-h2 toc-link" data-title="full-order-execute">Full order - execute</a>
                  </li>
                  <li>
                    <a href="#rush-upgrade-preview" class="toc-h2 toc-link" data-title="rush-upgrade-preview">Rush upgrade - preview</a>
                  </li>
                  <li>
                    <a href="#rush-upgrade-execute" class="toc-h2 toc-link" data-title="rush-upgrade-execute">Rush upgrade - execute</a>
                  </li>
                  <li>
                    <a href="#full-order-new-pricing-preview" class="toc-h2 toc-link" data-title="full-order-new-pricing-preview">Full order (new pricing) - preview</a>
                  </li>
                  <li>
                    <a href="#full-order-new-pricing-execute" class="toc-h2 toc-link" data-title="full-order-new-pricing-execute">Full order (new pricing) - execute</a>
                  </li>
                  <li>
                    <a href="#is-pet-linked" class="toc-h2 toc-link" data-title="is-pet-linked">Is pet linked</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#sharing" class="toc-h1 toc-link" data-title="sharing">Sharing</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#share-pet-records" class="toc-h2 toc-link" data-title="share-pet-records">Share pet records</a>
                  </li>
                  <li>
                    <a href="#check-pet-invite-code" class="toc-h2 toc-link" data-title="check-pet-invite-code">Check pet invite code</a>
                  </li>
                  <li>
                    <a href="#create-pet-invite-code" class="toc-h2 toc-link" data-title="create-pet-invite-code">Create pet invite code</a>
                  </li>
                  <li>
                    <a href="#use-pet-invite-code" class="toc-h2 toc-link" data-title="use-pet-invite-code">Use pet invite code</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='templates-examples'>Templates/examples</h1>
<p>Use these as a template by copying and pasting them.</p>
<h2 id='post-example'>POST example</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"Hey"</span><span class="p">,</span><span class="w"> </span><span class="s2">"there"</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-20T21:00:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">340</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Summary of the API and remarks go here.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /user/:uriparameter/example/:anotheruriparameter</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>int</td>
<td>ID from the <code>user</code> table.</td>
</tr>
<tr>
<td>pet_id</td>
<td>int</td>
<td>ID from the <code>pet</code></td>
</tr>
<tr>
<td>notes</td>
<td>array of strings</td>
<td>Notes</td>
</tr>
<tr>
<td>timestamp</td>
<td>datetime</td>
<td>February twentieth</td>
</tr>
</tbody></table>
<h2 id='get-example'>GET example</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">340</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets a user profile by <code>user.id</code>.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /user/:userid</code></p>
<h3 id='query-string-parameters'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>since</td>
<td>datetime</td>
<td>Gets updates made since this time.</td>
</tr>
<tr>
<td>$top</td>
<td>int</td>
<td>Limits the number of results.</td>
</tr>
<tr>
<td>$skip</td>
<td>int</td>
<td>Results start at this index.</td>
</tr>
</tbody></table>
<h1 id='activation'>Activation</h1>
<p>For inviting, onboarding and account linking.</p>
<h2 id='check-vet-activation-code'>Check vet activation code</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"vetBanner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/banner.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"vetName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint Demo Veterinary"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">106539</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="err">'johnsmith@example.com'</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">15555551234</span><span class="err">'</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Checks if a vet activation code exists. This is for onboarding or linking a vet account. Some vet information
and user information is returned, which can be used to pre-populate fields for account creation.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /user/activation/:code</code></p>
<h2 id='sign-up-a-user'>Sign up a user</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p4ssw0rd"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">49.1111</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-23.1111</span><span class="p">,</span><span class="w">
    </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"425-753-6174"</span><span class="p">,</span><span class="w">

    </span><span class="err">//</span><span class="w"> </span><span class="err">Activation</span><span class="w"> </span><span class="err">code</span><span class="w">
    </span><span class="s2">"activation_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">106539</span><span class="w">

    </span><span class="err">//</span><span class="w"> </span><span class="err">Facebook</span><span class="w"> </span><span class="err">signup</span><span class="w"> </span><span class="err">only</span><span class="w">
    </span><span class="s2">"facebookid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10700061"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"avcbjhgaWXt"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Signs up a user, according to one of the following flows:</p>
<h4 id='facebook'>Facebook</h4>
<p>If a facebook <code>access_token</code> and <code>facebookid</code> are provided, then the user information is obtained via facebook.</p>
<h4 id='biz-invite-code'>Biz invite code</h4>
<p>Deprecated scenario. If an <code>activation_code</code> is provided, and the code exists in the <code>activation_code</code> table where <code>activation_code.user_id</code> is not null,
then there should already be a user account created with <code>type = 4</code> (&quot;ghost user&quot;). The &quot;ghost user&quot; is activated by setting <code>type = 1</code> (regular user)
and setting the password.</p>
<h4 id='vet-activation-code'>Vet activation code</h4>
<p>If an <code>activation_code</code> is provided, and the code exists in the <code>activation_code</code> table where <code>activation_code.user_id</code> is null,
then <code>activation_code.vet_user_id</code> is expected to be not null. User information is copied from the <code>vet_user</code> table into the <code>user</code> table
and a new account is created.</p>

<aside class="notice">
The activation code will be deleted after the user has been created.
</aside>
<h4 id='regular'>Regular</h4>
<p>If no Facebook information or access code was provided, then a new user account is created.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /user/signup</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>User&#39;s email address</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>User&#39;s password, should be 6 or more characters</td>
</tr>
<tr>
<td>firstName</td>
<td>string?</td>
<td>User&#39;s first name</td>
</tr>
<tr>
<td>lastName</td>
<td>string?</td>
<td>User&#39;s last name</td>
</tr>
<tr>
<td>phone</td>
<td>string?</td>
<td>User&#39;s phone number</td>
</tr>
<tr>
<td>lat</td>
<td>number?</td>
<td>User&#39;s GPS latitude; appears to be unused (maybe for business?)</td>
</tr>
<tr>
<td>lng</td>
<td>number?</td>
<td>User&#39;s GPS longitude; appears to be unused (maybe for business?)</td>
</tr>
<tr>
<td>facebookid</td>
<td>string?</td>
<td>User&#39;s Facebook ID</td>
</tr>
<tr>
<td>access_token</td>
<td>string?</td>
<td>Facebook access token provided by the Facebook client</td>
</tr>
<tr>
<td>activation_code</td>
<td>string?</td>
<td>Activation code</td>
</tr>
</tbody></table>
<h2 id='get-vet_pets'>Get vet_pets</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">797204</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ein"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2009-06-29T07:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"adoption_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dog"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Corgi (Pembroke)"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"weight"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"neuter"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"microchip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3258889"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets the vet_pets associated with the user. The user must be linked with a vet integration account in order
for this to work.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET /user/vet_pets</code></p>
<h2 id='sync-existing-pet-with-vet_pet'>Sync existing pet with vet_pet</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"vet_pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">600528</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Updates an entry in the <code>pet</code> table with data from an existing <code>vet_pet</code>. If any field(s) in <code>pet</code> are blank, they are filled in
with the corresponding field(s) from <code>vet_pet</code>; existing <code>pet</code> data is not overwritten.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST /user/sync_pet</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pet_id</td>
<td>int</td>
<td>ID from the <code>pet</code> table.</td>
</tr>
<tr>
<td>vet_pet_id</td>
<td>int</td>
<td>ID from the <code>vet_pet</code> table.</td>
</tr>
</tbody></table>
<h2 id='create-pet-from-vet_pet'>Create pet from vet_pet</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vet_pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">600528</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Creates a new entry in the <code>pet</code> table from an existing <code>vet_pet</code>.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST /user/create_pet</code></p>
<h3 id='post-parameters-3'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vet_pet_id</td>
<td>int</td>
<td>ID from the <code>vet_pet</code> table.</td>
</tr>
</tbody></table>
<h2 id='send-vet_user-verification-link'>Send vet_user verification link</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5555551234"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Sends a verification link to a phone number or email address. <code>type</code> must be either <code>email</code> or <code>phone</code>;
and either the <code>email</code> or <code>phone</code> field is required depending on the value for <code>type</code>.
When this endpoint is called, a token is generated in the <code>vet_user.verification_token</code> field, and the verification
link (a Branch URL) contains this token.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST /user/send_vet_user_verification</code></p>
<h3 id='post-parameters-4'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Either <code>email</code> or <code>phone</code>.</td>
</tr>
<tr>
<td>email</td>
<td>string?</td>
<td>Send verification link to this email address.</td>
</tr>
<tr>
<td>phone</td>
<td>string?</td>
<td>Send verification link via SMS to this phone number.</td>
</tr>
</tbody></table>
<h2 id='verify-vet_user-token-and-link-account'>Verify vet_user token and link account</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"verification_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"badf-0339-19def8-c0e0b0f048ee98fc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"activation_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9989899"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"verification_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sms"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Checks a verification token against the vet_user table and sets its status to verified. Links vet_user account
with an existing user account. The verification token is generated by the <code>send_vet_user_verification</code> call,
and the vet_user&#39;s activation code is in the <code>activation_code</code> table.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST /user/verify_vet_user</code></p>
<h3 id='post-parameters-5'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>verification_token</td>
<td>string</td>
<td>The token in the verification link.</td>
</tr>
<tr>
<td>activation_code</td>
<td>string</td>
<td>The activation code for the vet_user.</td>
</tr>
<tr>
<td>verification_type</td>
<td>string?</td>
<td>Should be &#39;email&#39; or &#39;sms&#39;; for stat tracking only and has no functional effect.</td>
</tr>
</tbody></table>
<h1 id='activation-v2'>Activation V2</h1>
<p>For inviting, onboarding and account linking.
Expected scenarios:</p>

<ul>
<li>User is logged in to an existing Pawprint account. The flow should be:

<ol>
<li>Call <code>/user/v2/activation/vet_integrations</code></li>
<li>To link an account that has <code>verified: true</code>,  call <code>/user/v2/activation/link_vet_user</code>, and enter the pet linking flow.</li>
<li>To link an account that has <code>verified: false</code>, call <code>/user/v2/activation/send_link_token</code> to get a Branch link with a verification token.</li>
<li>Call <code>/user/v2/activation/validate</code> with the verification token</li>
<li>Call <code>/user/v2/activation/link_vet_user</code>.</li>
<li>Enter the pet linking flow.</li>
</ol></li>
<li>User has an account in <code>vet_user</code>, but no Pawprint account. Create a Pawprint account from the vet_user account like this:

<ol>
<li>Have the user enter an email address or phone number associated with the <code>vet_user</code> account.</li>
<li>Call <code>/activation/vet_integrations</code> with an email address or phone number, which returns <code>vet_user_ids</code>.</li>
<li>Call <code>/user/v2/activation/send_create_token</code> with a <code>vet_user_id</code>. This sends a Branch link with a verification token to the email/phone associated with the <code>vet_user</code> account.</li>
<li>Call <code>/user/v2/activation/create_from_vet_account</code> with the verification token, new email and password.</li>
<li>Enter the pet linking flow.</li>
</ol></li>
</ul>
<h2 id='find-available-vet-integrations-for-user'>Find available vet integrations for user</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
    </span><span class="s2">"vet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint Demo Veterinary"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vet_banner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/banner.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"vet_user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-1234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
     </span><span class="p">}]</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>
<p>Checks for available vet integrations for a user. Looks for the user&#39;s email address and phone number in the
<code>vet_user</code> table (that haven&#39;t been linked already, i.e. <code>vet_user.user_id</code> is null) and returns matching vet integrations.
If an entry contains <code>verified: true</code> then you can directl call <code>/v2/activation/send_link_token</code> without having to verify
the email or phone number first.</p>

<p>If the same email address or phone number is used for multiple accounts within the same vet (e.g. husband/wife accounts),
then the &quot;users&quot; array will contain multiple elements.
If the same email address or phone number is used for multiple accounts across different vets, (e.g. one pet, multiple vets)
then the root-level array will contain multiple elements.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /user/v2/activation/vet_integrations</code></p>
<h2 id='link-user-with-vet_user'>Link user with vet_user</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"vet_user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p><strong>For an existing user.</strong> Links a user with a vet_user, not including pets. Each user account has a list of verified email addresses and phone numbers;
if this list does not contain the <code>vet_user.email</code> or <code>vet_user.phone</code>, HTTP 403 is returned. Emails and phones can be added to the
list of verified emails/phones with other API calls in this section.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /user/v2/activation/link_vet_user</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vet_user_id</td>
<td>int</td>
<td>ID from the <code>vet_user</code> table to link.</td>
</tr>
</tbody></table>
<h2 id='send-account-linking-token'>Send account linking token</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vet_user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p><strong>For an existing user.</strong> Generates a verification token for the email address or phone number, then sends a Branch link containing that token to the
specified email/phone. Only one of <code>&quot;email&quot;</code> or <code>&quot;phone&quot;</code> should be specified for the <code>type</code> parameter.</p>

<p>The Branch link will contain <code>context: account_link</code>, <code>vet_user_id</code> and <code>verificationToken</code> in its payload. <code>context</code> can be used
for navigation, and <code>verificationToken</code> should be saved and sent for the next call in the flow.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /user/v2/activation/send_link_token</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td><code>&quot;email&quot;</code> or <code>&quot;phone&quot;</code>.</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>email address if <code>type</code> was <code>&quot;email&quot;</code>.</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>phone number if <code>type</code> was <code>&quot;phone&quot;</code>.</td>
</tr>
<tr>
<td>vet_user_id</td>
<td>int</td>
<td>ID from the <code>vet_user</code> table.</td>
</tr>
</tbody></table>
<h2 id='validate-and-consume-email-phone-token'>Validate and consume email/phone token</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6d43b6a1-2154-42de-9961-1a35396cdef8"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p><strong>For an existing user.</strong> Verifies a token and adds the user&#39;s email and/or phone to the list of verified emails/phones.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST /user/v2/activation/validate</code></p>
<h3 id='post-parameters-3'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>string</td>
<td>Verification token from the Branch link (emailed or SMSed by an earlier call in the flow).</td>
</tr>
</tbody></table>
<h2 id='find-vet-integrations-for-email-phone'>Find vet integrations for email/phone</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
    </span><span class="s2">"vet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint Demo Veterinary"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vet_banner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/banner.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"vet_user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"already_linked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
     </span><span class="p">}]</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>
<p><strong>For creating new users.</strong> Checks for <code>vet_users</code> for the given email address or phone number.
Only <code>email</code> or <code>phone</code> should be specified as a <code>GET</code> parameter; if both are specified, only <code>email</code> will be taken.
The response includes <code>vet_user</code> accounts that are already linked; these are ineligible for account creation.</p>

<aside class="notice">
This is a public API and does not require authentication.
Only the `vet_user`'s `vet_user_id`, first name and account linking status are returned.
</aside>

<p>If the same email address or phone number is used for multiple accounts within the same vet (e.g. husband/wife accounts),
then the &quot;users&quot; array will contain multiple elements.
If the same email address or phone number is used for multiple accounts across different vets, (e.g. one pet, multiple vets)
then the root-level array will contain multiple elements.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET /activation/vet_integrations</code></p>
<h3 id='get-parameters'>GET parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string?</td>
<td>Email address</td>
</tr>
<tr>
<td>phone</td>
<td>string?</td>
<td>Phone number</td>
</tr>
</tbody></table>
<h2 id='send-account-creation-token'>Send account creation token</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vet_user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p><strong>For creating new users.</strong> Generates a verification token for the given <code>vet_user</code>.
A Branch link is sent to the email/phone. The Branch link will contain
<code>context: sign_up</code>, <code>verificationToken</code>, <code>first_name</code>, <code>last_name</code>, <code>email</code>, <code>phone</code>, <code>vet_name</code> and <code>vet_banner</code>
in its payload.
<code>context</code> can be used for navigation, and <code>verificationToken</code> should be saved and sent for the next call in the flow.
The rest of the Branch link payload is for pre-populating fields in user account creation.</p>

<p>If the <code>vet_user</code> is already linked, an HTTP 400 error will be returned.
If <code>type:email</code> is specified and the <code>vet_user</code> does not have an email address, an HTTP 400 error will be returned.
Same behavior for <code>type: phone</code>.</p>

<aside class="notice">
This is a public API and does not require authentication.
</aside>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST /user/v2/activation/send_create_token</code></p>
<h3 id='post-parameters-4'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vet_user_id</td>
<td>string</td>
<td>The <code>vet_user</code> that will receive the account creation token.</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td><code>&quot;email&quot;</code> or <code>&quot;phone&quot;</code>.</td>
</tr>
</tbody></table>
<h2 id='create-user-account-from-vet_user-account'>Create user account from vet_user account</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6d43b6a1-2154-42de-9961-1a35396cdef8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"passw3rd"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"authToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth_token_here"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1009</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>For creating new users.</strong> Checks the given <code>token</code> against the <code>vet_user.verification_token</code> column. If there is a match,
a new user account is created and the token is consumed. An auth token is returned so the user can immediately start using the app.</p>

<aside class="notice">
This is a public API and does not require authentication.
</aside>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST /user/v2/activation/create_from_vet_account</code></p>
<h3 id='post-parameters-5'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Email address to be used as the login email.</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>New password. This is stored in salted and hashed form on the server.</td>
</tr>
<tr>
<td>token</td>
<td>string</td>
<td>Verification token included with the Branch link sent from a previous call in the flow.</td>
</tr>
</tbody></table>
<h1 id='machine-learning-algo-tagging'>Machine learning/algo tagging</h1>
<p>For demo pages and machine learning feedback. The state of the machine learning model must be explicitly saved;
if the virtual machine/container which hosts the machine learning service (https://173.255.119.25) is reset, then model changes after
the last save will be lost.</p>
<h2 id='query-algorithm'>Query algorithm</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reminder_event"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
    </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Parvovirus"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"score"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.654672550128199</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Queries the machine learning model with free text. The response contains the table name (<code>reminder_event</code> or <code>medication</code>), ID and name
of the most probable match, and returns the probability (between 0 and 1) in the <code>score</code> field. In the response example,
&quot;Parvovirus&quot; is the best match with a 65.46% probability.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /ml/query</code></p>
<h3 id='query-string-parameters'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>q</td>
<td>string</td>
<td>Input string for the algorithm.</td>
</tr>
</tbody></table>
<h2 id='get-pending-feedback'>Get pending feedback</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prom"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medication"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vocab_string"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PromAce, Aceproject"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rabies annual"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reminder_event"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vocab_string"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rabies"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets all pending feedback for the machine learning algorithm that was submitted from vet portals in a list.
This will return an empty list if a refit (see below) was run recently.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /ml/feedback</code></p>
<h2 id='submit-feedback'>Submit feedback</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rabies annual"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"reminder_event"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_correct"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Add a training example to the machine learning feedback table. These are eventually fed back
into the training algorithm to produce a new prediction model.</p>

<p>If you called <code>GET /ml/query</code> and the result was <strong>correct</strong>, then you would call <code>POST /vet/ml/feedback</code> with
<code>is_correct: true</code>, and the <code>type</code> and <code>id</code> from the result. This gives positive reinforcement for the query.</p>

<p>If the result was <strong>incorrect</strong> , then you would call <code>POST /vet/ml/feedback</code> with <code>is_correct: false</code>, and the
<code>type</code> and <code>id</code> of the correct entry, e.g. (<code>type: reminder_event</code>, <code>id: 24</code>, which corresponds to rabies.) The next
time the training algorithm is run, the new model should not return that incorrect result again.</p>

<p>To get the correct entry, you can call <code>GET /user/medications</code> to get a list of all medications and <code>GET /user/reminder_events</code>
to get a list of all reminder_events.</p>

<aside class="notice">
Must be logged in as a vet to call this. That is, the auth token must be for a user ID in pawprint_vet.user_id.
</aside>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /vet/ml/feedback</code></p>
<h2 id='delete-pending-feedback-item'>Delete pending feedback item</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Deletes a pending feedback item. Expected to be called from the ML refitting page in the admin dashboard.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>DELETE /admin/ml/feedback/:feedback_id</code></p>
<h2 id='refit'>Refit</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Refits all pending feedback items into the machine learning model.</p>

<aside class="notice">
Must be logged in as an admin to call this. That is, the auth token must be for a user ID in user where type = 0.
</aside>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST /admin/ml/refit</code></p>
<h2 id='save-state'>Save state</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Saves the state of the machine learning model to Google Cloud Storage. If the virtual machine or container hosting the machine learning service
is reset, the state of the machine learning model will be restored.</p>

<aside class="notice">
Must be logged in as an admin to call this. That is, the auth token must be for a user ID in user where type = 0.
</aside>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST /admin/ml/save</code></p>
<h1 id='medications'>Medications</h1>
<p>Medications - both built-in and user-added medications.</p>
<h2 id='get-all-built-in-medications'>Get all built-in medications</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">485</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seresto"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flea/tick collar"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"active_ingredient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"imidacloprid, flumethrin"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">284</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProHeart 6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Heartworm preventative"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"active_ingredient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"moxidectin"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">479</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scalibor"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flea/tick collar"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"active_ingredient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flumethrin, imidacloprid"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">483</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sentry Flea/Tick Collar"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flea/tick collar"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"active_ingredient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deltamethrin"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets all medications built in with Pawprint.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /user/medications</code></p>
<h2 id='get-all-of-a-pet-39-s-medications'>Get all of a pet&#39;s medications</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
                </span><span class="s2">"medication_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">464</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3523</span><span class="p">,</span><span class="w">
                </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">68795</span><span class="p">,</span><span class="w">
                </span><span class="s2">"dosage_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"dosage_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tablet"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"times"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"frequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"weekly"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Heartgard Plus"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"reminder_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Heartworm/intestinal worm preventative"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"active_ingredient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ivermectin, pyrantel pamoate"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oral"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"warning"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"prescription"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"marked_done"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
                </span><span class="s2">"medication_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4040</span><span class="p">,</span><span class="w">
                </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">68795</span><span class="p">,</span><span class="w">
                </span><span class="s2">"dosage_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"dosage_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tablet"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"times"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"frequency"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"For anxiety"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Xanax"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"reminder_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14182</span><span class="p">,</span><span class="w">
                </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sedative"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"active_ingredient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alprazolam"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oral"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"warning"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"prescription"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"marked_done"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets a medication for a pet. Medications come from the <code>pet_medication</code> table.</p>

<p>, in which case the <code>source</code> field will have the value <code>pet_medication</code>,
or the <code>inferred_medication_raw</code> table, in which case the <code>source</code> field will have the value <code>inferred</code>. Inferred medications come from the output of a
natural language processing algorithm run over the <code>vet_pet_history</code>, <code>vet_reminder</code> and <code>vet_invoice</code> tables, so they cannot be deleted.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /user/v2/pets/:petid/medications/</code></p>
<h2 id='create-pet-medication'>Create pet medication</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"dosage_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dosage_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tablet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"For anxiety"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Xanax"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"medication_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reminder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"daily"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Xanax"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I'm a medication reminder"</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Create a pet medication. The <code>reminder</code> field is optional and follows the format of creating a V2 reminder, except
pet_id and type do not need to be specified.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/medication</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dosage_number</td>
<td>int?</td>
<td>Size of a dose of the medication</td>
</tr>
<tr>
<td>dosage_unit</td>
<td>string?</td>
<td>Units for the dose</td>
</tr>
<tr>
<td>notes</td>
<td>string?</td>
<td>Notes</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the medication</td>
</tr>
<tr>
<td>medication_id</td>
<td>int?</td>
<td>Foreign key into the <code>medication</code> table; null if the medication doesn&#39;t exist in our system</td>
</tr>
<tr>
<td>reminder</td>
<td>object</td>
<td>Reminder object; see documentation for Reminders V2 - Create a reminder</td>
</tr>
<tr>
<td>times</td>
<td>int?</td>
<td>deprecated; is stored in database but has no effect.</td>
</tr>
<tr>
<td>frequency</td>
<td>string?</td>
<td>deprecated; is stored in database but has no effect.</td>
</tr>
</tbody></table>
<h2 id='update-pet-medication'>Update pet medication</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"dosage_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dosage_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tablet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"For anxiety"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Xanax"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"medication_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reminder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"daily"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Afoxolaner"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I'm a medication reminder"</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Updates a pet medication.
<code>:petid</code> is an ID from the <code>pet</code> table, while <code>:medicationid</code> is an ID from the <code>pet_medication</code> table.
If a <code>reminder</code> object is supplied, either the existing reminder is updated or a new reminder is created.
If a <code>reminder</code> object is not supplied in the request, but there is an existing reminder for that medication,
the reminder will be deleted.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>PUT /user/v2/pets/:petid/medication/:medicationid</code></p>
<h3 id='put-parameters'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dosage_number</td>
<td>int?</td>
<td>Size of a dose of the medication</td>
</tr>
<tr>
<td>dosage_unit</td>
<td>string?</td>
<td>Units for the dose</td>
</tr>
<tr>
<td>notes</td>
<td>string?</td>
<td>Notes</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the medication</td>
</tr>
<tr>
<td>medication_id</td>
<td>int?</td>
<td>Foreign key into the <code>medication</code> table; null if the medication doesn&#39;t exist in our system</td>
</tr>
<tr>
<td>reminder</td>
<td>object</td>
<td>Reminder object; see documentation for Reminders V2 - Create a reminder</td>
</tr>
<tr>
<td>times</td>
<td>int?</td>
<td>deprecated; is stored in database but has no effect.</td>
</tr>
<tr>
<td>frequency</td>
<td>string?</td>
<td>deprecated; is stored in database but has no effect.</td>
</tr>
</tbody></table>
<h2 id='delete-pet-medication'>Delete pet medication</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Deletes a pet medication.
<code>:petid</code> is an ID from the <code>pet</code> table, while <code>:medicationid</code> is an ID from the <code>pet_medication</code> table.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>DELETE /user/v2/pets/:petid/medication/:medicationid</code></p>
<h2 id='get-suggested-pet-medications'>Get suggested pet medications</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8161</span><span class="p">,</span><span class="w">
        </span><span class="s2">"medication_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67543</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alprazolam (Xanax)"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sedative"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"active_ingredient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alprazolam"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"From vet"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets suggested medications for a pet. These suggestions come from running algo tagging on the <code>vet_pet_history</code>, <code>vet_reminder</code> and <code>vet_invoice</code> tables.
Users should be able to accept or reject these suggestions - accepting will go to the &quot;Add Medication&quot; page with the
fields pre-populated by this API, and then a new medication will be added to the <code>pet_medication</code> table.
Medications already in the <code>pet_medication</code> table will not appear in the suggested medications queue.</p>

<p>If the suggestion is rejected, then the medication will not appear in the queue again unless there is more vet data
at a later date which suggests the same medication.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>GET /user/v2/pets/:petid/medication/suggested</code></p>
<h2 id='reject-suggested-pet-medication'>Reject suggested pet medication</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Rejects a suggested medication from the queue. The medication will not appear in the queue again unless there is more vet data
at a later date which suggests the same medication.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>DELETE /user/v2/pets/:petid/medication/suggested/:suggestionid</code></p>
<h1 id='payments'>Payments</h1>
<p>We use <a href="http://stripe.com/">Stripe</a> for managing payments.</p>
<h2 id='update-payment-information'>Update payment information</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tok_b3ad9ff2c01vcf"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Sets the user&#39;s payment source with the given Stripe token. If a Stripe customer doesn&#39;t exist yet,
the token is used to create a Stripe customer with a payment source. If the Stripe customer does exist,
the token is used to update the Stripe customer&#39;s payment source.</p>

<aside class="notice">
Stripe tokens can be used only once, and then they are considered consumed.
It is generated from payment information by the client, and can be used to
either set up an account with a payment source, or update the payment source on
an existing account.
</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /user/stripe/:userid/source</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>string</td>
<td>Stripe token returned by the client-side Stripe API.</td>
</tr>
</tbody></table>
<h1 id='places'>Places</h1>
<p>Places are backed by the <code>place</code> table and are referenced by a lot of other
tables, such as <code>request</code>, <code>business_pet</code>, and <code>event</code>.</p>
<h2 id='add-new-place'>Add new place</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Super Test Vet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"621 Escondido Rd, Stanford, CA 94305"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"supertestvet@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ8d3CFNe6j4AR21tyt88xx2g"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15555551234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15555556789"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11440</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Super Test Vet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contactMethod"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-05T04:38:37.090Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-05T04:38:37.090Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ8d3CFNe6j4AR21tyt88xx2g"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"621 Escondido Rd, Stanford, CA 94305"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15555551234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"supertestvet@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hours"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vetstreet_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15555556789"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pawprint_note"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"twilio_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"appointment_email_opt_out"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Adds a new place to the <code>place</code> table and returns the entire row. If the place existed already
(based on matching name &amp; address or matching Google Places ID), the existing place is returned
and no new place is added.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /user/places</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String?</td>
<td>The place&#39;s name</td>
</tr>
<tr>
<td>address</td>
<td>String?</td>
<td>The place&#39;s physical location address</td>
</tr>
<tr>
<td>email</td>
<td>String?</td>
<td>The place&#39;s email address</td>
</tr>
<tr>
<td>website</td>
<td>String?</td>
<td>The place&#39;s web site address</td>
</tr>
<tr>
<td>placesid</td>
<td>String?</td>
<td>A Google Place ID</td>
</tr>
<tr>
<td>fax</td>
<td>String?</td>
<td>The place&#39;s fax number</td>
</tr>
<tr>
<td>phone</td>
<td>String?</td>
<td>The place&#39;s phone number</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>&quot;vet&quot; if it&#39;s a vet (so far the only values in the database are &quot;vet&quot;, blank or &quot;unknown&quot;</td>
</tr>
</tbody></table>
<h2 id='places-search'>Places search</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">609</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ08cxkN1oYogRJfpZbg5DPHM"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"googlePlaceID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ08cxkN1oYogRJfpZbg5DPHM"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trusty Vet - Affordable Pet Care - Research Park"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"practiceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trusty Vet - Affordable Pet Care - Research Park"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6945 Highway 72 West, Huntsville, AL 35806undefined"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2564898387"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2564898353"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.trustyvet.com/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"unformattedPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2564898387"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"twilio_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2564898387"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"custom_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"canFormatPhone"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11748</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ_____8-9uokRdyo3YP5dbAA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"googlePlaceID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ_____8-9uokRdyo3YP5dbAA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affordable Veterinary Services of Virginia"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"practiceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affordable Veterinary Services of Virginia"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5457 Indian River Rd, Virginia Beach, VA 23464"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9077453219"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://affordableveterinaryservices.com/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"unformattedPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"907-745-3219"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"twilio_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"custom_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This vet is walk-in only."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJv7y3eRQ-ZIgRIa8WUeIUzwo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJv7y3eRQ-ZIgRIa8WUeIUzwo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"googlePlaceID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJv7y3eRQ-ZIgRIa8WUeIUzwo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affordable Veterinary Care"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"practiceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affordable Veterinary Care"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11314 Lebanon Rd, Mt Juliet, TN 37122"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16157888008"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.veterinarianmtjuliet.com/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"unformattedPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+1 615-788-8008"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"canFormatPhone"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Searches the <code>place</code> table, Google Vets, and Google Businesses. Results are unified
into a single format, then certains fields like phone and address are formatted, and finally,
the results are de-duped by ID, address, phone number, and name,
with a preference for keeping items from the <code>place</code> table over Google results.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /user/places</code></p>
<h3 id='get-parameters'>GET parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>String</td>
<td>Search term</td>
</tr>
</tbody></table>
<h2 id='create-appointment-request-at-a-place'>Create appointment request at a place</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"echoi@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"425-555-1234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pumpkin"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cat"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Domestic shorthair"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"appointment_type_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"2017-12-15T08:00:00-06:00"</span><span class="p">],</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Testing"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eric Choi"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Creates an appointment request to the given place.</p>

<p>If the place is linked to an onboarded Pawprint vet, an email is automatically sent to the vet
with the appointment request, and the automated email will show up in the request&#39;s contact log.
An onboarded Pawprint vet can be associated with multiple places; the join table is <code>pawprint_vet_place</code>.</p>

<p>If the place is not linked to an onboarded Pawprint vet, the appointment request will show as a new
request on the admin dashboard, and one of the admins will handle it.</p>

<aside class="notice">
The requested time(s) are displayed in the user's time zone; however, the accepted time will appear in the admin's time zone.
For example, the requested times will appear as US/Eastern, but if the admin page is viewed in San Francisco,
the accepted time will appear as US/Pacific.
</aside>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /place/:placeid/appointment</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_name</td>
<td>String</td>
<td>The user&#39;s name</td>
</tr>
<tr>
<td>user_id</td>
<td>int?</td>
<td>The user&#39;s ID, if the user is logged in</td>
</tr>
<tr>
<td>email</td>
<td>String?</td>
<td>The user&#39;s email</td>
</tr>
<tr>
<td>phone</td>
<td>String?</td>
<td>The place&#39;s phone number</td>
</tr>
<tr>
<td>pet_id</td>
<td>int?</td>
<td>An ID from the <code>pet</code> table, if the user is logged in</td>
</tr>
<tr>
<td>pet_name</td>
<td>String</td>
<td>The pet&#39;s name</td>
</tr>
<tr>
<td>pet_species</td>
<td>String?</td>
<td>The pet&#39;s species, e.g. &quot;cat&quot;, &quot;dog&quot;</td>
</tr>
<tr>
<td>pet_breed</td>
<td>String?</td>
<td>The pet&#39;s breed, e.g. &quot;Pit bull mix&quot;</td>
</tr>
<tr>
<td>appointment_type_id</td>
<td>int</td>
<td>Appointment type ID from the <code>appointment_type</code> table</td>
</tr>
<tr>
<td>time</td>
<td>json</td>
<td>JSON list of requested times</td>
</tr>
<tr>
<td>notes</td>
<td>String?</td>
<td>Note to vet</td>
</tr>
</tbody></table>
<h1 id='reminders-v2'>Reminders v2</h1>
<p>V2 reminders. These can be one-shot reminders, or be scheduled to repeat at specific intervals
and with specified start/end dates. A user can have multiple reminders attached to it.
Timing details are stored in the <code>custom_reminder_v2</code> table, while per-user settings
are stored in the <code>user_reminder_v2</code> table. All operations on specific reminders
use <code>user_reminder_v2.id</code> as the parameter; only the creator can modify a reminder.</p>
<h2 id='get-all-reminders'>Get all reminders</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"reminders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reminder_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">39654</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67555</span><span class="p">,</span><span class="w">
            </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T21:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"marked_done"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">schedules</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">dw</span><span class="se">\"</span><span class="s2">:[2,4,6]}],</span><span class="se">\"</span><span class="s2">exceptions</span><span class="se">\"</span><span class="s2">:[]}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My reminder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Grain-free only"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">340</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reminder_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">311</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">39654</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67555</span><span class="p">,</span><span class="w">
            </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T21:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-25T21:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"marked_done"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"days"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
            </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My updated reminder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"z/d only"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">134402</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reminder_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">134402</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">37851</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67543</span><span class="p">,</span><span class="w">
            </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-01T08:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lepto vaccination"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Palmer Veterinary Clinic"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vet_reminder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"marked_done"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets all active and non-active reminders for a user. Deleted reminders are omitted.
<strong>This also includes (non-ignored) reminders from the vet_reminder table.</strong></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /user/v2/all_reminders</code></p>
<h2 id='get-specific-reminder'>Get specific reminder</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">340</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reminder_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">311</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">39654</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67555</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T21:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-25T21:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"marked_done"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"days"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
    </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My updated reminder"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"z/d only"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets a specific reminder by <code>user_reminder_v2.id</code>.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /user/v2/reminder/:userreminderid</code></p>
<h2 id='create-a-reminder'>Create a reminder</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67555</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">schedules</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">dw</span><span class="se">\"</span><span class="s2">:[7]}],</span><span class="se">\"</span><span class="s2">exceptions</span><span class="se">\"</span><span class="s2">:[]}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My reminder"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Grain-free only"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">340</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the <code>user_reminder_v2.id</code> of the newly created reminder. Only one of <code>schedule</code> or
the tuple (<code>frequency_unit</code>, <code>frequency_count</code>) should be specified. <code>schedule</code> is used
for day-of-week reminders while <code>frequency_unit</code> and <code>frequency_count</code> are used for everything else.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /user/v2/reminder</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pet_id</td>
<td>int</td>
<td>ID from the <code>pet</code> table.</td>
</tr>
<tr>
<td>start_date</td>
<td>string</td>
<td>When the first reminder should go off. For time zone reasons, this is a pass-through string.</td>
</tr>
<tr>
<td>until_date</td>
<td>string</td>
<td>When the reminder should end; leave this null for a one-shot reminder. For time zone reasons, this is a pass-through string.</td>
</tr>
<tr>
<td>frequency_unit</td>
<td>string</td>
<td>Unit of measure for <code>frequency_count</code>, e.g. <code>days</code>.</td>
</tr>
<tr>
<td>frequency_count</td>
<td>int</td>
<td>How often the reminder should repeat; combined with <code>frequency_unit</code>.</td>
</tr>
<tr>
<td>schedule</td>
<td>string</td>
<td>JSON object parsable by <a href="https://bunkat.github.io/later/">later.js</a>.</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Reminder title.</td>
</tr>
<tr>
<td>notes</td>
<td>string</td>
<td>Reminder notes.</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>ID from the <code>eventtype</code> table.</td>
</tr>
</tbody></table>
<h2 id='update-a-reminder'>Update a reminder</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">schedules</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">dw</span><span class="se">\"</span><span class="s2">:[7]}],</span><span class="se">\"</span><span class="s2">exceptions</span><span class="se">\"</span><span class="s2">:[]}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My reminder"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Grain-free only"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Updates a reminder. Only the creator can update a reminder; otherwise HTTP 403/Forbidden is returned.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>PUT /user/v2/reminder/:userreminderid</code></p>
<h3 id='put-parameters'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>start_date</td>
<td>string</td>
<td>When the first reminder should go off. For time zone reasons, this is a pass-through string.</td>
</tr>
<tr>
<td>until_date</td>
<td>string</td>
<td>When the reminder should end; leave this null for a one-shot reminder. For time zone reasons, this is a pass-through string.</td>
</tr>
<tr>
<td>frequency_unit</td>
<td>string</td>
<td>Unit of measure for <code>frequency_count</code>, e.g. <code>days</code>.</td>
</tr>
<tr>
<td>frequency_count</td>
<td>int</td>
<td>How often the reminder should repeat; combined with <code>frequency_unit</code>.</td>
</tr>
<tr>
<td>schedule</td>
<td>string</td>
<td>JSON object parsable by <a href="https://bunkat.github.io/later/">later.js</a>.</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Reminder title.</td>
</tr>
<tr>
<td>notes</td>
<td>string</td>
<td>Reminder notes.</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>ID from the <code>eventtype</code> table.</td>
</tr>
</tbody></table>
<h2 id='delete-a-reminder'>Delete a reminder</h2>
<p>(Soft) Deletes a reminder. Only the creator can delete a reminder; otherwise HTTP 403/Forbidden is returned.
To deactivate a reminder, non-creators can use the <code>/v2/reminder/user/:userreminderid/settings</code> endpoint.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>DELETE /user/v2/reminder/:userreminderid</code></p>
<h2 id='update-settings'>Update settings</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"remove"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Both creators and non-creators can update their reminder settings. One or both parameters can be specified.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>PUT /user/v2/reminder/user/:userreminderid/settings</code></p>
<h3 id='put-parameters-2'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>active</td>
<td>boolean</td>
<td>Turns a reminder on/off, only for the calling user.</td>
</tr>
<tr>
<td>remove</td>
<td>boolean</td>
<td>Soft deletes a reminder, only for the calling user, even if they&#39;re not its creator.</td>
</tr>
</tbody></table>
<h2 id='update-settings-vet_reminder'>Update settings (vet_reminder)</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"done"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Both marks a <code>vet_reminder</code> as ignored or complete from the home page. One or both parameters can be specified.
Effectively, there is no difference in behavior if a reminder was ignored vs. marked as done.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>PUT /user/v2/reminder/vet/:vetreminderid/settings</code></p>
<h3 id='put-parameters-3'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>active</td>
<td>boolean</td>
<td>Ignores the reminder if set to <code>true</code>.</td>
</tr>
<tr>
<td>done</td>
<td>boolean</td>
<td>Marks the reminder as done if set to <code>true</code>.</td>
</tr>
</tbody></table>
<h1 id='requests-v1'>Requests v1</h1>
<p>Hopefully deprecated soon</p>
<h2 id='check-if-promo-code-is-valid'>Check if promo code is valid</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The code foo has expired."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Checks if a promo code is valid.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /user/request/:code</code></p>
<h1 id='requests-v2'>Requests v2</h1>
<p>This follows the pattern of POST /request/{producttype}/preview, which returns a preview invoice,
then a follow-up POST /request/{producttype}/order with the same request object to execute the transaction.</p>
<h2 id='get-all-products'>Get all products</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic record request"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic record request. Proof of vaccination for groomers and boarders."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rush request"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rush request; order will be processed within 48 hours"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.99"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full medical records request"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full medical records and your order will be processed within 48 hours"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional vet for full medical records"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.99"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free rush service"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free rush service provided to user"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full medical records request"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full medical records for 1 pet at 1 vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional pet at a vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional pet at a vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.99"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets all products in the product catalog.</p>

<aside class="notice">
Product IDs will not change; new products that are added will get new IDs, so you can
hard code product IDs into the app.
</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /v2/products</code></p>
<h2 id='basic-order-preview'>Basic order - preview</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"selected_vets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">2037</span><span class="p">,</span><span class="w"> </span><span class="mi">1984</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic records for Apple from Yorktown Animal Hospital: Gariboldi Rita T DVM"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic records for Apple from Animal Kind Veterinary Hospital"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the order preview for basic record requests (should be free).</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/request/basic/preview</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>selected_vets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>place</code> table.</td>
</tr>
</tbody></table>
<h2 id='basic-order-execute'>Basic order - execute</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"selected_vets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">2037</span><span class="p">,</span><span class="w"> </span><span class="mi">1984</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/sig.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"May be under my maiden name (Wilson)"</span><span class="p">,</span><span class="w"> </span><span class="s2">"May be under my husband's name (Russell)"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="mi">18613</span><span class="p">,</span><span class="w">
    </span><span class="mi">18614</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Returns an array of the newly created request IDs.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/request/basic/order</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>selected_vets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>place</code> table.</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>URL to the image file containing the client&#39;s signature.</td>
</tr>
<tr>
<td>note</td>
<td>array of strings</td>
<td>Array of notes to each vet, in the same order as selected_vets.</td>
</tr>
</tbody></table>
<h2 id='full-order-preview'>Full order - preview</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"selected_vets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">2037</span><span class="p">,</span><span class="w"> </span><span class="mi">1984</span><span class="w"> </span><span class="p">],</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request for full medical records for Apple from Yorktown Animal Hospital: Gariboldi Rita T DVM"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional request for medical records for Apple from Animal Kind Veterinary Hospital"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.99</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.98</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">16.48</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the order preview for full record requests.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/request/full/preview</code></p>
<h3 id='post-parameters-3'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>selected_vets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>place</code> table.</td>
</tr>
</tbody></table>
<h2 id='full-order-execute'>Full order - execute</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"selected_vets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">2037</span><span class="p">,</span><span class="w"> </span><span class="mi">1984</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/sig.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"May be under my maiden name (Wilson)"</span><span class="p">,</span><span class="w"> </span><span class="s2">"May be under my husband's name (Russell)"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="mi">18615</span><span class="p">,</span><span class="w">
    </span><span class="mi">18616</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Charges the customer&#39;s credit/debit card (see Payment section) and creates the record requests.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/request/full/order</code></p>
<h3 id='post-parameters-4'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>selected_vets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>place</code> table.</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>URL to the image file containing the client&#39;s signature.</td>
</tr>
<tr>
<td>note</td>
<td>array of strings</td>
<td>Array of notes to each vet, in the same order as selected_vets.</td>
</tr>
</tbody></table>
<h2 id='rush-upgrade-preview'>Rush upgrade - preview</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"request_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">17767</span><span class="p">,</span><span class="w"> </span><span class="mi">17768</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Upgrade request for Apple from Yorktown Animal Hospital: Gariboldi Rita T DVM"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.99</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Upgrade request for Apple from Animal Kind Veterinary Hospital"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.99</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.98</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.98</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the order preview for upgrading a basic record request to a rush request.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/request/rush/preview</code></p>
<h3 id='post-parameters-5'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>request_ids</td>
<td>array of ints</td>
<td>Array of IDs from the <code>request</code> table.</td>
</tr>
</tbody></table>
<h2 id='rush-upgrade-execute'>Rush upgrade - execute</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"request_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">17767</span><span class="p">,</span><span class="w"> </span><span class="mi">17768</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Charges the customer&#39;s credit/debit card (see Payment section) and prioritizes the given requests.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/request/rush/order</code></p>
<h3 id='post-parameters-6'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>request_ids</td>
<td>array of ints</td>
<td>Array of IDs from the <code>request</code> table.</td>
</tr>
</tbody></table>
<h2 id='full-order-new-pricing-preview'>Full order (new pricing) - preview</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"2037"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"1984"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"promocode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mars"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request for full medical records for Apple from Yorktown Animal Hospital: Gariboldi Rita T DVM"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request for full medical records for Apple from Animal Kind Veterinary Hospital"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional pet: Bowser"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.99</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">29.97</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.00</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">32.97</span><span class="p">,</span><span class="w">
    </span><span class="s2">"discount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the order preview for full record requests. Pricing is as follows: $10 for each vet, and $10
for each pet after the first one (regardless of how many vets). So if you have 2 places and 2 pets, the
total cost comes out to $10 * 2 vets + $10 * 1 additional pet = $30.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>POST /user/v2/request/full/preview</code></p>
<h3 id='post-parameters-7'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vets</td>
<td>object</td>
<td>Keys are IDs from the <code>place</code> table; values are objects as described below</td>
</tr>
<tr>
<td>vets[place_id].pets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>pet</code> table.</td>
</tr>
<tr>
<td>promocode</td>
<td>string</td>
<td>If specified, attempts to apply the promo code to the order. If the promo code didn&#39;t work, HTTP 400 is returned along with an error message.</td>
</tr>
</tbody></table>
<h2 id='full-order-new-pricing-execute'>Full order (new pricing) - execute</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"2037"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"May be under my maiden name (Wilson)"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"1984"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"May be under my husband's name (Russell)"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/sig.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"checkout_notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Checkout note to Pawprint"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"promocode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mars"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="mi">18617</span><span class="p">,</span><span class="w">
    </span><span class="mi">18618</span><span class="p">,</span><span class="w">
    </span><span class="mi">18619</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Charges the customer&#39;s credit/debit card (see Payment section) and creates the record requests.
Returns array of the newly created request IDs.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>POST /user/v2/request/full/order</code></p>
<h3 id='post-parameters-8'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vets</td>
<td>object</td>
<td>Keys are IDs from the <code>place</code> table; values are objects as described below</td>
</tr>
<tr>
<td>vets[place_id].pets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>pet</code> table.</td>
</tr>
<tr>
<td>vets[place_id].note</td>
<td>string</td>
<td>Note to this particular vet.</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>URL to the image file containing the client&#39;s signature.</td>
</tr>
<tr>
<td>checkout_notes</td>
<td>string</td>
<td>Checkout note to Pawprint.</td>
</tr>
<tr>
<td>promocode</td>
<td>string</td>
<td>If specified, attempts to apply the promo code to the order. If the promo code didn&#39;t work, HTTP 400 is returned along with an error message.</td>
</tr>
</tbody></table>
<h2 id='is-pet-linked'>Is pet linked</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"isPetLinked"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Checks if a pet is linked to a Pawprint vet associated with the given place.
Also handles cases where the Pawprint vet has multiple places/locations.</p>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>GET /user/pets/is_pet_linked/:petid/:placeid</code></p>
<h1 id='sharing'>Sharing</h1>
<p>For inviting, onboarding and account linking.</p>
<h2 id='share-pet-records'>Share pet records</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"recipients"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com, demo2@getpawprint.com"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Shares pet records via email. The email contains the pet&#39;s name, vaccinations, and links to PDFs were both
user-uploaded and admin-uploaded (from a records request).</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /user/pets/:petid/share</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>recipients</td>
<td>string</td>
<td>Comma-separated list of recipient emails</td>
</tr>
</tbody></table>
<h2 id='check-pet-invite-code'>Check pet invite code</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">pet_id</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Checks if an invite code exists. This is when you share a pet. Returns the pet ID associated with the invite code.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /invite_code/:inviteCode</code></p>
<h2 id='create-pet-invite-code'>Create pet invite code</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"access"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456</span><span class="p">,</span><span class="w">
    </span><span class="s2">"access"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-01T12:00:00Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Creates a pet invite code for the purpose of sharing pet ownership with another user.
Access levels are 1 for full ownership and 2 for limited ownership; however, access levels are deprecated.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /user/pets/:petid/invite_code</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access</td>
<td>int</td>
<td>Deprecated. 1 for full ownership; 2 for limited ownership.</td>
</tr>
</tbody></table>
<h2 id='use-pet-invite-code'>Use pet invite code</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">pet_id</span><span class="p">:</span><span class="w"> </span><span class="mi">53540</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Uses a pet invite code. Note that this is a GET and not a POST; this is an old API.
When the pet invite code is used, a relationship is created in the <code>user_pet</code> table between the pet
and the calling user, and all pet reminders are copied to the user&#39;s reminders in <code>user_reminder_v2</code> as well.
The proper design would specify this as a POST and v2 may change the verb in the future.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET /user/invite_code/:code</code></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
          </div>
      </div>
    </div>
  </body>
</html>
