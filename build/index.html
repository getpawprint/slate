
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#templates-examples" class="toc-h1 toc-link" data-title="templates-examples">Templates/examples</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-example" class="toc-h2 toc-link" data-title="post-example">POST example</a>
                  </li>
                  <li>
                    <a href="#get-example" class="toc-h2 toc-link" data-title="get-example">GET example</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#activation" class="toc-h1 toc-link" data-title="activation">Activation</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#check-pet-invite-code" class="toc-h2 toc-link" data-title="check-pet-invite-code">Check pet invite code</a>
                  </li>
                  <li>
                    <a href="#check-vet-activation-code" class="toc-h2 toc-link" data-title="check-vet-activation-code">Check vet activation code</a>
                  </li>
                  <li>
                    <a href="#sign-up-a-user" class="toc-h2 toc-link" data-title="sign-up-a-user">Sign up a user</a>
                  </li>
                  <li>
                    <a href="#get-vet_pets" class="toc-h2 toc-link" data-title="get-vet_pets">Get vet_pets</a>
                  </li>
                  <li>
                    <a href="#sync-existing-pet-with-vet_pet" class="toc-h2 toc-link" data-title="sync-existing-pet-with-vet_pet">Sync existing pet with vet_pet</a>
                  </li>
                  <li>
                    <a href="#create-pet-from-vet_pet" class="toc-h2 toc-link" data-title="create-pet-from-vet_pet">Create pet from vet_pet</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#machine-learning-algo-tagging" class="toc-h1 toc-link" data-title="machine-learning-algo-tagging">Machine learning/algo tagging</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#query-algorithm" class="toc-h2 toc-link" data-title="query-algorithm">Query algorithm</a>
                  </li>
                  <li>
                    <a href="#get-pending-feedback" class="toc-h2 toc-link" data-title="get-pending-feedback">Get pending feedback</a>
                  </li>
                  <li>
                    <a href="#submit-feedback" class="toc-h2 toc-link" data-title="submit-feedback">Submit feedback</a>
                  </li>
                  <li>
                    <a href="#refit" class="toc-h2 toc-link" data-title="refit">Refit</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#payments" class="toc-h1 toc-link" data-title="payments">Payments</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#update-payment-information" class="toc-h2 toc-link" data-title="update-payment-information">Update payment information</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#places" class="toc-h1 toc-link" data-title="places">Places</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#add-new-place" class="toc-h2 toc-link" data-title="add-new-place">Add new place</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#reminders-v2" class="toc-h1 toc-link" data-title="reminders-v2">Reminders v2</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-reminders" class="toc-h2 toc-link" data-title="get-all-reminders">Get all reminders</a>
                  </li>
                  <li>
                    <a href="#get-specific-reminder" class="toc-h2 toc-link" data-title="get-specific-reminder">Get specific reminder</a>
                  </li>
                  <li>
                    <a href="#create-a-reminder" class="toc-h2 toc-link" data-title="create-a-reminder">Create a reminder</a>
                  </li>
                  <li>
                    <a href="#update-a-reminder" class="toc-h2 toc-link" data-title="update-a-reminder">Update a reminder</a>
                  </li>
                  <li>
                    <a href="#delete-a-reminder" class="toc-h2 toc-link" data-title="delete-a-reminder">Delete a reminder</a>
                  </li>
                  <li>
                    <a href="#update-settings" class="toc-h2 toc-link" data-title="update-settings">Update settings</a>
                  </li>
                  <li>
                    <a href="#update-settings-vet_reminder" class="toc-h2 toc-link" data-title="update-settings-vet_reminder">Update settings (vet_reminder)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#requests-v1" class="toc-h1 toc-link" data-title="requests-v1">Requests v1</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#check-if-promo-code-is-valid" class="toc-h2 toc-link" data-title="check-if-promo-code-is-valid">Check if promo code is valid</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#requests-v2" class="toc-h1 toc-link" data-title="requests-v2">Requests v2</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-products" class="toc-h2 toc-link" data-title="get-all-products">Get all products</a>
                  </li>
                  <li>
                    <a href="#basic-order-preview" class="toc-h2 toc-link" data-title="basic-order-preview">Basic order - preview</a>
                  </li>
                  <li>
                    <a href="#basic-order-execute" class="toc-h2 toc-link" data-title="basic-order-execute">Basic order - execute</a>
                  </li>
                  <li>
                    <a href="#full-order-preview" class="toc-h2 toc-link" data-title="full-order-preview">Full order - preview</a>
                  </li>
                  <li>
                    <a href="#full-order-execute" class="toc-h2 toc-link" data-title="full-order-execute">Full order - execute</a>
                  </li>
                  <li>
                    <a href="#rush-upgrade-preview" class="toc-h2 toc-link" data-title="rush-upgrade-preview">Rush upgrade - preview</a>
                  </li>
                  <li>
                    <a href="#rush-upgrade-execute" class="toc-h2 toc-link" data-title="rush-upgrade-execute">Rush upgrade - execute</a>
                  </li>
                  <li>
                    <a href="#full-order-new-pricing-preview" class="toc-h2 toc-link" data-title="full-order-new-pricing-preview">Full order (new pricing) - preview</a>
                  </li>
                  <li>
                    <a href="#full-order-new-pricing-execute" class="toc-h2 toc-link" data-title="full-order-new-pricing-execute">Full order (new pricing) - execute</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#activation" class="toc-h1 toc-link" data-title="activation">Activation</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#share-pet-records" class="toc-h2 toc-link" data-title="share-pet-records">Share pet records</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='templates-examples'>Templates/examples</h1>
<p>Use these as a template by copying and pasting them.</p>
<h2 id='post-example'>POST example</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"Hey"</span><span class="p">,</span><span class="w"> </span><span class="s2">"there"</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-20T21:00:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">340</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Summary of the API and remarks go here.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /user/:uriparameter/example/:anotheruriparameter</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>int</td>
<td>ID from the <code>user</code> table.</td>
</tr>
<tr>
<td>pet_id</td>
<td>int</td>
<td>ID from the <code>pet</code></td>
</tr>
<tr>
<td>notes</td>
<td>array of strings</td>
<td>Notes</td>
</tr>
<tr>
<td>timestamp</td>
<td>datetime</td>
<td>February twentieth</td>
</tr>
</tbody></table>
<h2 id='get-example'>GET example</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">340</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets a user profile by <code>user.id</code>.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /user/:userid</code></p>
<h3 id='query-string-parameters'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>since</td>
<td>datetime</td>
<td>Gets updates made since this time.</td>
</tr>
<tr>
<td>$top</td>
<td>int</td>
<td>Limits the number of results.</td>
</tr>
<tr>
<td>$skip</td>
<td>int</td>
<td>Results start at this index.</td>
</tr>
</tbody></table>
<h1 id='activation'>Activation</h1>
<p>For inviting, onboarding and account linking.</p>
<h2 id='check-pet-invite-code'>Check pet invite code</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">pet_id</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Checks if an invite code exists. This is when you share a pet. Returns the pet ID associated with the invite code.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /invite_code/:inviteCode</code></p>
<h2 id='check-vet-activation-code'>Check vet activation code</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"vetBanner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/banner.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"vetName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint Demo Veterinary"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">106539</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="err">'johnsmith@example.com'</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">15555551234</span><span class="err">'</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Checks if a vet activation code exists. This is for onboarding or linking a vet account. Some vet information
and user information is returned, which can be used to pre-populate fields for account creation.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /user/activation/:code</code></p>
<h2 id='sign-up-a-user'>Sign up a user</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p4ssw0rd"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">49.1111</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-23.1111</span><span class="p">,</span><span class="w">
    </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"425-753-6174"</span><span class="p">,</span><span class="w">

    </span><span class="err">//</span><span class="w"> </span><span class="err">Activation</span><span class="w"> </span><span class="err">code</span><span class="w">
    </span><span class="s2">"activation_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">106539</span><span class="w">

    </span><span class="err">//</span><span class="w"> </span><span class="err">Facebook</span><span class="w"> </span><span class="err">signup</span><span class="w"> </span><span class="err">only</span><span class="w">
    </span><span class="s2">"facebookid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10700061"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"avcbjhgaWXt"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Signs up a user, according to one of the following flows:</p>
<h4 id='facebook'>Facebook</h4>
<p>If a facebook <code>access_token</code> and <code>facebookid</code> are provided, then the user information is obtained via facebook.</p>
<h4 id='pet-invite-code'>Pet invite code</h4>
<p>If an <code>activation_code</code> is provided, and the code exists in the <code>activation_code</code> table where <code>activation_code.user_id</code> is not null,
then there should already be a user account created with <code>type = 4</code> (&quot;ghost user&quot;). The &quot;ghost user&quot; is activated by setting <code>type = 1</code> (regular user)
and setting the password.</p>
<h4 id='vet-activation-code'>Vet activation code</h4>
<p>If an <code>activation_code</code> is provided, and the code exists in the <code>activation_code</code> table where <code>activation_code.user_id</code> is null,
then <code>activation_code.vet_user_id</code> is expected to be not null. User information is copied from the <code>vet_user</code> table into the <code>user</code> table
and a new account is created.</p>

<aside class="notice">
The activation code will be deleted after the user has been created.
</aside>
<h4 id='regular'>Regular</h4>
<p>If no Facebook information or access code was provided, then a new user account is created.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /user/signup</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>User&#39;s email address</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>User&#39;s password, should be 6 or more characters</td>
</tr>
<tr>
<td>firstName</td>
<td>string?</td>
<td>User&#39;s first name</td>
</tr>
<tr>
<td>lastName</td>
<td>string?</td>
<td>User&#39;s last name</td>
</tr>
<tr>
<td>phone</td>
<td>string?</td>
<td>User&#39;s phone number</td>
</tr>
<tr>
<td>lat</td>
<td>number?</td>
<td>User&#39;s GPS latitude; appears to be unused (maybe for business?)</td>
</tr>
<tr>
<td>lng</td>
<td>number?</td>
<td>User&#39;s GPS longitude; appears to be unused (maybe for business?)</td>
</tr>
<tr>
<td>facebookid</td>
<td>string?</td>
<td>User&#39;s Facebook ID</td>
</tr>
<tr>
<td>access_token</td>
<td>string?</td>
<td>Facebook access token provided by the Facebook client</td>
</tr>
<tr>
<td>activation_code</td>
<td>string?</td>
<td>Activation code</td>
</tr>
</tbody></table>
<h2 id='get-vet_pets'>Get vet_pets</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">797204</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ein"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2009-06-29T07:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"adoption_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dog"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Corgi (Pembroke)"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"weight"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"neuter"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"microchip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3258889"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets the vet_pets associated with the user. The user must be linked with a vet integration account in order
for this to work.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET /user/vet_pets</code></p>
<h2 id='sync-existing-pet-with-vet_pet'>Sync existing pet with vet_pet</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"vet_pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">600528</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Updates an entry in the <code>pet</code> table with data from an existing <code>vet_pet</code>. If any field(s) in <code>pet</code> are blank, they are filled in
with the corresponding field(s) from <code>vet_pet</code>; existing <code>pet</code> data is not overwritten.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST /user/sync_pet</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pet_id</td>
<td>int</td>
<td>ID from the <code>pet</code> table.</td>
</tr>
<tr>
<td>vet_pet_id</td>
<td>int</td>
<td>ID from the <code>vet_pet</code> table.</td>
</tr>
</tbody></table>
<h2 id='create-pet-from-vet_pet'>Create pet from vet_pet</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vet_pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">600528</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Creates a new entry in the <code>pet</code> table from an existing <code>vet_pet</code>.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST /user/create_pet</code></p>
<h3 id='post-parameters-3'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vet_pet_id</td>
<td>int</td>
<td>ID from the <code>vet_pet</code> table.</td>
</tr>
</tbody></table>
<h1 id='machine-learning-algo-tagging'>Machine learning/algo tagging</h1>
<p>For demo pages and machine learning feedback.</p>
<h2 id='query-algorithm'>Query algorithm</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reminder_event"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
    </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Parvovirus"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"score"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.654672550128199</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Queries the machine learning model with free text. The response contains the table name (<code>reminder_event</code> or <code>medication</code>), ID and name
of the most probable match, and returns the probability (between 0 and 1) in the <code>score</code> field. In the response example,
&quot;Parvovirus&quot; is the best match with a 65.46% probability.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /ml/query</code></p>
<h3 id='query-string-parameters'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>q</td>
<td>string</td>
<td>Input string for the algorithm.</td>
</tr>
</tbody></table>
<h2 id='get-pending-feedback'>Get pending feedback</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prom"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medication"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vocab_string"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PromAce, Aceproject"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rabies annual"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reminder_event"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vocab_string"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rabies"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets all pending feedback for the machine learning algorithm that was submitted from vet portals in a list.
This will return an empty list if a refit (see below) was run recently.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /ml/feedback</code></p>
<h2 id='submit-feedback'>Submit feedback</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rabies annual"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"reminder_event"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_correct"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Add a training example to the machine learning feedback table. These are eventually fed back
into the training algorithm to produce a new prediction model.</p>

<p>If you called <code>GET /ml/query</code> and the result was <strong>correct</strong>, then you would call <code>POST /vet/ml/feedback</code> with
<code>is_correct: true</code>, and the <code>type</code> and <code>id</code> from the result. This gives positive reinforcement for the query.</p>

<p>If the result was <strong>incorrect</strong> , then you would call <code>POST /vet/ml/feedback</code> with <code>is_correct: false</code>, and the
<code>type</code> and <code>id</code> of the correct entry, e.g. (<code>type: reminder_event</code>, <code>id: 24</code>, which corresponds to rabies.) The next
time the training algorithm is run, the new model should not return that incorrect result again.</p>

<p>To get the correct entry, you can call <code>GET /user/medications</code> to get a list of all medications and <code>GET /user/reminder_events</code>
to get a list of all reminder_events.</p>

<aside class="notice">
Must be logged in as a vet to call this. That is, the auth token must be for a user ID in pawprint_vet.user_id.
</aside>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /vet/ml/feedback</code></p>
<h2 id='refit'>Refit</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Refits all pending feedback items into the machine learning model.</p>

<aside class="notice">
Must be logged in as an admin to call this. That is, the auth token must be for a user ID in user where type = 0.
</aside>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST /admin/ml/refit</code></p>
<h1 id='payments'>Payments</h1>
<p>We use <a href="http://stripe.com/">Stripe</a> for managing payments.</p>
<h2 id='update-payment-information'>Update payment information</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tok_b3ad9ff2c01vcf"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Sets the user&#39;s payment source with the given Stripe token. If a Stripe customer doesn&#39;t exist yet,
the token is used to create a Stripe customer with a payment source. If the Stripe customer does exist,
the token is used to update the Stripe customer&#39;s payment source.</p>

<aside class="notice">
Stripe tokens can be used only once, and then they are considered consumed.
It is generated from payment information by the client, and can be used to
either set up an account with a payment source, or update the payment source on
an existing account.
</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /user/stripe/:userid/source</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>string</td>
<td>Stripe token returned by the client-side Stripe API.</td>
</tr>
</tbody></table>
<h1 id='places'>Places</h1>
<p>Places are backed by the <code>place</code> table and are referenced by a lot of other
tables, such as <code>request</code>, <code>business_pet</code>, and <code>event</code>.</p>
<h2 id='add-new-place'>Add new place</h2>
<blockquote>
<p>Request examples</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Super Test Vet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"621 Escondido Rd, Stanford, CA 94305"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"supertestvet@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ8d3CFNe6j4AR21tyt88xx2g"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15555551234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15555556789"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11440</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Super Test Vet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contactMethod"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-05T04:38:37.090Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-05T04:38:37.090Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ8d3CFNe6j4AR21tyt88xx2g"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"621 Escondido Rd, Stanford, CA 94305"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15555551234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"supertestvet@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hours"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vetstreet_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15555556789"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pawprint_note"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"twilio_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"appointment_email_opt_out"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Adds a new place to the <code>place</code> table and returns the entire row. If the place existed already
(based on matching name &amp; address or matching Google Places ID), the existing place is returned
and no new place is added.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /user/places</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String?</td>
<td>The place&#39;s name</td>
</tr>
<tr>
<td>address</td>
<td>String?</td>
<td>The place&#39;s physical location address</td>
</tr>
<tr>
<td>email</td>
<td>String?</td>
<td>The place&#39;s email address</td>
</tr>
<tr>
<td>website</td>
<td>String?</td>
<td>The place&#39;s web site address</td>
</tr>
<tr>
<td>placesid</td>
<td>String?</td>
<td>A Google Place ID</td>
</tr>
<tr>
<td>fax</td>
<td>String?</td>
<td>The place&#39;s fax number</td>
</tr>
<tr>
<td>phone</td>
<td>String?</td>
<td>The place&#39;s phone number</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>&quot;vet&quot; if it&#39;s a vet (so far the only values in the database are &quot;vet&quot;, blank or &quot;unknown&quot;</td>
</tr>
</tbody></table>
<h1 id='reminders-v2'>Reminders v2</h1>
<p>V2 reminders. These can be one-shot reminders, or be scheduled to repeat at specific intervals
and with specified start/end dates. A user can have multiple reminders attached to it.
Timing details are stored in the <code>custom_reminder_v2</code> table, while per-user settings
are stored in the <code>user_reminder_v2</code> table. All operations on specific reminders
use <code>user_reminder_v2.id</code> as the parameter; only the creator can modify a reminder.</p>
<h2 id='get-all-reminders'>Get all reminders</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"reminders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reminder_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">39654</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67555</span><span class="p">,</span><span class="w">
            </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T21:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"marked_done"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">schedules</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">dw</span><span class="se">\"</span><span class="s2">:[2,4,6]}],</span><span class="se">\"</span><span class="s2">exceptions</span><span class="se">\"</span><span class="s2">:[]}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My reminder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Grain-free only"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">340</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reminder_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">311</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">39654</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67555</span><span class="p">,</span><span class="w">
            </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T21:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-25T21:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"marked_done"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"days"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
            </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My updated reminder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"z/d only"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">134402</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reminder_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">134402</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">37851</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67543</span><span class="p">,</span><span class="w">
            </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-01T08:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lepto vaccination"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Palmer Veterinary Clinic"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vet_reminder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"marked_done"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets all active and non-active reminders for a user. Deleted reminders are omitted.
<strong>This also includes (non-ignored) reminders from the vet_reminder table.</strong></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /user/v2/all_reminders</code></p>
<h2 id='get-specific-reminder'>Get specific reminder</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">340</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reminder_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">311</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">39654</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67555</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T21:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-25T21:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"marked_done"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"days"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
    </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My updated reminder"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"z/d only"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets a specific reminder by <code>user_reminder_v2.id</code>.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /user/v2/reminder/:userreminderid</code></p>
<h2 id='create-a-reminder'>Create a reminder</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67555</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">schedules</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">dw</span><span class="se">\"</span><span class="s2">:[7]}],</span><span class="se">\"</span><span class="s2">exceptions</span><span class="se">\"</span><span class="s2">:[]}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My reminder"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Grain-free only"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">340</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the <code>user_reminder_v2.id</code> of the newly created reminder. Only one of <code>schedule</code> or
the tuple (<code>frequency_unit</code>, <code>frequency_count</code>) should be specified. <code>schedule</code> is used
for day-of-week reminders while <code>frequency_unit</code> and <code>frequency_count</code> are used for everything else.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /user/v2/reminder</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pet_id</td>
<td>int</td>
<td>ID from the <code>pet</code> table.</td>
</tr>
<tr>
<td>start_date</td>
<td>string</td>
<td>When the first reminder should go off. For time zone reasons, this is a pass-through string.</td>
</tr>
<tr>
<td>until_date</td>
<td>string</td>
<td>When the reminder should end; leave this null for a one-shot reminder. For time zone reasons, this is a pass-through string.</td>
</tr>
<tr>
<td>frequency_unit</td>
<td>string</td>
<td>Unit of measure for <code>frequency_count</code>, e.g. <code>days</code>.</td>
</tr>
<tr>
<td>frequency_count</td>
<td>int</td>
<td>How often the reminder should repeat; combined with <code>frequency_unit</code>.</td>
</tr>
<tr>
<td>schedule</td>
<td>string</td>
<td>JSON object parsable by <a href="https://bunkat.github.io/later/">later.js</a>.</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Reminder title.</td>
</tr>
<tr>
<td>notes</td>
<td>string</td>
<td>Reminder notes.</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>ID from the <code>eventtype</code> table.</td>
</tr>
</tbody></table>
<h2 id='update-a-reminder'>Update a reminder</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">schedules</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">dw</span><span class="se">\"</span><span class="s2">:[7]}],</span><span class="se">\"</span><span class="s2">exceptions</span><span class="se">\"</span><span class="s2">:[]}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My reminder"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Grain-free only"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Updates a reminder. Only the creator can update a reminder; otherwise HTTP 403/Forbidden is returned.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>PUT /user/v2/reminder/:userreminderid</code></p>
<h3 id='put-parameters'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>start_date</td>
<td>string</td>
<td>When the first reminder should go off. For time zone reasons, this is a pass-through string.</td>
</tr>
<tr>
<td>until_date</td>
<td>string</td>
<td>When the reminder should end; leave this null for a one-shot reminder. For time zone reasons, this is a pass-through string.</td>
</tr>
<tr>
<td>frequency_unit</td>
<td>string</td>
<td>Unit of measure for <code>frequency_count</code>, e.g. <code>days</code>.</td>
</tr>
<tr>
<td>frequency_count</td>
<td>int</td>
<td>How often the reminder should repeat; combined with <code>frequency_unit</code>.</td>
</tr>
<tr>
<td>schedule</td>
<td>string</td>
<td>JSON object parsable by <a href="https://bunkat.github.io/later/">later.js</a>.</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Reminder title.</td>
</tr>
<tr>
<td>notes</td>
<td>string</td>
<td>Reminder notes.</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>ID from the <code>eventtype</code> table.</td>
</tr>
</tbody></table>
<h2 id='delete-a-reminder'>Delete a reminder</h2>
<p>(Soft) Deletes a reminder. Only the creator can delete a reminder; otherwise HTTP 403/Forbidden is returned.
To deactivate a reminder, non-creators can use the <code>/v2/reminder/user/:userreminderid/settings</code> endpoint.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>DELETE /user/v2/reminder/:userreminderid</code></p>
<h2 id='update-settings'>Update settings</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"remove"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Both creators and non-creators can update their reminder settings. One or both parameters can be specified.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>PUT /user/v2/reminder/user/:userreminderid/settings</code></p>
<h3 id='put-parameters-2'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>active</td>
<td>boolean</td>
<td>Turns a reminder on/off, only for the calling user.</td>
</tr>
<tr>
<td>remove</td>
<td>boolean</td>
<td>Soft deletes a reminder, only for the calling user, even if they&#39;re not its creator.</td>
</tr>
</tbody></table>
<h2 id='update-settings-vet_reminder'>Update settings (vet_reminder)</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"done"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Both marks a <code>vet_reminder</code> as ignored or complete from the home page. One or both parameters can be specified.
Effectively, there is no difference in behavior if a reminder was ignored vs. marked as done.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>PUT /user/v2/reminder/vet/:vetreminderid/settings</code></p>
<h3 id='put-parameters-3'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>active</td>
<td>boolean</td>
<td>Ignores the reminder if set to <code>true</code>.</td>
</tr>
<tr>
<td>done</td>
<td>boolean</td>
<td>Marks the reminder as done if set to <code>true</code>.</td>
</tr>
</tbody></table>
<h1 id='requests-v1'>Requests v1</h1>
<p>Hopefully deprecated soon</p>
<h2 id='check-if-promo-code-is-valid'>Check if promo code is valid</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The code foo has expired."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Checks if a promo code is valid.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /user/request/:code</code></p>
<h1 id='requests-v2'>Requests v2</h1>
<p>This follows the pattern of POST /request/{producttype}/preview, which returns a preview invoice,
then a follow-up POST /request/{producttype}/order with the same request object to execute the transaction.</p>
<h2 id='get-all-products'>Get all products</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic record request"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic record request. Proof of vaccination for groomers and boarders."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rush request"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rush request; order will be processed within 48 hours"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.99"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full medical records request"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full medical records and your order will be processed within 48 hours"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional vet for full medical records"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.99"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free rush service"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free rush service provided to user"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full medical records request"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full medical records for 1 pet at 1 vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional pet at a vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional pet at a vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.99"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets all products in the product catalog.</p>

<aside class="notice">
Product IDs will not change; new products that are added will get new IDs, so you can
hard code product IDs into the app.
</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /v2/products</code></p>
<h2 id='basic-order-preview'>Basic order - preview</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"selected_vets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">2037</span><span class="p">,</span><span class="w"> </span><span class="mi">1984</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic records for Apple from Yorktown Animal Hospital: Gariboldi Rita T DVM"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic records for Apple from Animal Kind Veterinary Hospital"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the order preview for basic record requests (should be free).</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/request/basic/preview</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>selected_vets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>place</code> table.</td>
</tr>
</tbody></table>
<h2 id='basic-order-execute'>Basic order - execute</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"selected_vets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">2037</span><span class="p">,</span><span class="w"> </span><span class="mi">1984</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/sig.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"May be under my maiden name (Wilson)"</span><span class="p">,</span><span class="w"> </span><span class="s2">"May be under my husband's name (Russell)"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="mi">18613</span><span class="p">,</span><span class="w">
    </span><span class="mi">18614</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Returns an array of the newly created request IDs.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/request/basic/order</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>selected_vets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>place</code> table.</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>URL to the image file containing the client&#39;s signature.</td>
</tr>
<tr>
<td>note</td>
<td>array of strings</td>
<td>Array of notes to each vet, in the same order as selected_vets.</td>
</tr>
</tbody></table>
<h2 id='full-order-preview'>Full order - preview</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"selected_vets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">2037</span><span class="p">,</span><span class="w"> </span><span class="mi">1984</span><span class="w"> </span><span class="p">],</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request for full medical records for Apple from Yorktown Animal Hospital: Gariboldi Rita T DVM"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional request for medical records for Apple from Animal Kind Veterinary Hospital"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.99</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.98</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">16.48</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the order preview for full record requests.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/request/full/preview</code></p>
<h3 id='post-parameters-3'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>selected_vets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>place</code> table.</td>
</tr>
</tbody></table>
<h2 id='full-order-execute'>Full order - execute</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"selected_vets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">2037</span><span class="p">,</span><span class="w"> </span><span class="mi">1984</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/sig.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"May be under my maiden name (Wilson)"</span><span class="p">,</span><span class="w"> </span><span class="s2">"May be under my husband's name (Russell)"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="mi">18615</span><span class="p">,</span><span class="w">
    </span><span class="mi">18616</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Charges the customer&#39;s credit/debit card (see Payment section) and creates the record requests.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/request/full/order</code></p>
<h3 id='post-parameters-4'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>selected_vets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>place</code> table.</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>URL to the image file containing the client&#39;s signature.</td>
</tr>
<tr>
<td>note</td>
<td>array of strings</td>
<td>Array of notes to each vet, in the same order as selected_vets.</td>
</tr>
</tbody></table>
<h2 id='rush-upgrade-preview'>Rush upgrade - preview</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"request_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">17767</span><span class="p">,</span><span class="w"> </span><span class="mi">17768</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Upgrade request for Apple from Yorktown Animal Hospital: Gariboldi Rita T DVM"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.99</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Upgrade request for Apple from Animal Kind Veterinary Hospital"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.99</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.98</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.98</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the order preview for upgrading a basic record request to a rush request.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/request/rush/preview</code></p>
<h3 id='post-parameters-5'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>request_ids</td>
<td>array of ints</td>
<td>Array of IDs from the <code>request</code> table.</td>
</tr>
</tbody></table>
<h2 id='rush-upgrade-execute'>Rush upgrade - execute</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"request_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">17767</span><span class="p">,</span><span class="w"> </span><span class="mi">17768</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Charges the customer&#39;s credit/debit card (see Payment section) and prioritizes the given requests.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/request/rush/order</code></p>
<h3 id='post-parameters-6'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>request_ids</td>
<td>array of ints</td>
<td>Array of IDs from the <code>request</code> table.</td>
</tr>
</tbody></table>
<h2 id='full-order-new-pricing-preview'>Full order (new pricing) - preview</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"2037"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"1984"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"promocode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mars"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request for full medical records for Apple from Yorktown Animal Hospital: Gariboldi Rita T DVM"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request for full medical records for Apple from Animal Kind Veterinary Hospital"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional pet: Bowser"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.99</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">29.97</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.00</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">32.97</span><span class="p">,</span><span class="w">
    </span><span class="s2">"discount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the order preview for full record requests. Pricing is as follows: $10 for each vet, and $10
for each pet after the first one (regardless of how many vets). So if you have 2 places and 2 pets, the
total cost comes out to $10 * 2 vets + $10 * 1 additional pet = $30.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>POST /user/v2/request/full/preview</code></p>
<h3 id='post-parameters-7'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vets</td>
<td>object</td>
<td>Keys are IDs from the <code>place</code> table; values are objects as described below</td>
</tr>
<tr>
<td>vets[place_id].pets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>pet</code> table.</td>
</tr>
<tr>
<td>promocode</td>
<td>string</td>
<td>If specified, attempts to apply the promo code to the order. If the promo code didn&#39;t work, HTTP 400 is returned along with an error message.</td>
</tr>
</tbody></table>
<h2 id='full-order-new-pricing-execute'>Full order (new pricing) - execute</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"2037"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"May be under my maiden name (Wilson)"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"1984"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"May be under my husband's name (Russell)"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/sig.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"checkout_notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Checkout note to Pawprint"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"promocode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mars"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="mi">18617</span><span class="p">,</span><span class="w">
    </span><span class="mi">18618</span><span class="p">,</span><span class="w">
    </span><span class="mi">18619</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Charges the customer&#39;s credit/debit card (see Payment section) and creates the record requests.
Returns array of the newly created request IDs.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>POST /user/v2/request/full/order</code></p>
<h3 id='post-parameters-8'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vets</td>
<td>object</td>
<td>Keys are IDs from the <code>place</code> table; values are objects as described below</td>
</tr>
<tr>
<td>vets[place_id].pets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>pet</code> table.</td>
</tr>
<tr>
<td>vets[place_id].note</td>
<td>string</td>
<td>Note to this particular vet.</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>URL to the image file containing the client&#39;s signature.</td>
</tr>
<tr>
<td>checkout_notes</td>
<td>string</td>
<td>Checkout note to Pawprint.</td>
</tr>
<tr>
<td>promocode</td>
<td>string</td>
<td>If specified, attempts to apply the promo code to the order. If the promo code didn&#39;t work, HTTP 400 is returned along with an error message.</td>
</tr>
</tbody></table>
<h1 id='activation'>Activation</h1>
<p>For inviting, onboarding and account linking.</p>
<h2 id='share-pet-records'>Share pet records</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"recipients"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com, demo2@getpawprint.com"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Shares pet records via email. The email contains the pet&#39;s name, vaccinations, and links to PDFs were both
user-uploaded and admin-uploaded (from a records request).</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /user/pet/:petid/share</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>recipients</td>
<td>string</td>
<td>Comma-separated list of recipient emails</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
          </div>
      </div>
    </div>
  </body>
</html>
