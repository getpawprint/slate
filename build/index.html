
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#templates-examples" class="toc-h1 toc-link" data-title="templates-examples">Templates/examples</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-example" class="toc-h2 toc-link" data-title="post-example">POST example</a>
                  </li>
                  <li>
                    <a href="#get-example" class="toc-h2 toc-link" data-title="get-example">GET example</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#activation" class="toc-h1 toc-link" data-title="activation">Activation</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#check-vet-activation-code" class="toc-h2 toc-link" data-title="check-vet-activation-code">Check vet activation code</a>
                  </li>
                  <li>
                    <a href="#sign-up-a-user" class="toc-h2 toc-link" data-title="sign-up-a-user">Sign up a user</a>
                  </li>
                  <li>
                    <a href="#get-vet_pets" class="toc-h2 toc-link" data-title="get-vet_pets">Get vet_pets</a>
                  </li>
                  <li>
                    <a href="#sync-existing-pet-with-vet_pet" class="toc-h2 toc-link" data-title="sync-existing-pet-with-vet_pet">Sync existing pet with vet_pet</a>
                  </li>
                  <li>
                    <a href="#create-pet-from-vet_pet" class="toc-h2 toc-link" data-title="create-pet-from-vet_pet">Create pet from vet_pet</a>
                  </li>
                  <li>
                    <a href="#send-vet_user-verification-link" class="toc-h2 toc-link" data-title="send-vet_user-verification-link">Send vet_user verification link</a>
                  </li>
                  <li>
                    <a href="#verify-vet_user-token-and-link-account" class="toc-h2 toc-link" data-title="verify-vet_user-token-and-link-account">Verify vet_user token and link account</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#activation-v2" class="toc-h1 toc-link" data-title="activation-v2">Activation V2</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#find-available-vet-integrations-for-user" class="toc-h2 toc-link" data-title="find-available-vet-integrations-for-user">Find available vet integrations for user</a>
                  </li>
                  <li>
                    <a href="#search-for-email-address" class="toc-h2 toc-link" data-title="search-for-email-address">Search for email address</a>
                  </li>
                  <li>
                    <a href="#send-activation-link-to-vet_user" class="toc-h2 toc-link" data-title="send-activation-link-to-vet_user">Send activation link to vet_user</a>
                  </li>
                  <li>
                    <a href="#create-pawprint-user-from-vet-user-via-token" class="toc-h2 toc-link" data-title="create-pawprint-user-from-vet-user-via-token">Create Pawprint user from vet user via token</a>
                  </li>
                  <li>
                    <a href="#link-existing-user-with-vet_user" class="toc-h2 toc-link" data-title="link-existing-user-with-vet_user">Link existing user with vet_user</a>
                  </li>
                  <li>
                    <a href="#send-account-linking-token" class="toc-h2 toc-link" data-title="send-account-linking-token">Send account linking token</a>
                  </li>
                  <li>
                    <a href="#validate-and-consume-email-phone-token" class="toc-h2 toc-link" data-title="validate-and-consume-email-phone-token">Validate and consume email/phone token</a>
                  </li>
                  <li>
                    <a href="#find-vet-integrations-for-email-phone" class="toc-h2 toc-link" data-title="find-vet-integrations-for-email-phone">Find vet integrations for email/phone</a>
                  </li>
                  <li>
                    <a href="#send-account-creation-token" class="toc-h2 toc-link" data-title="send-account-creation-token">Send account creation token</a>
                  </li>
                  <li>
                    <a href="#create-user-account-from-vet_user-account" class="toc-h2 toc-link" data-title="create-user-account-from-vet_user-account">Create user account from vet_user account</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#admin-portal" class="toc-h1 toc-link" data-title="admin-portal">Admin portal</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-list-of-admins" class="toc-h2 toc-link" data-title="get-list-of-admins">Get list of admins</a>
                  </li>
                  <li>
                    <a href="#get-request-counts-by-status" class="toc-h2 toc-link" data-title="get-request-counts-by-status">Get request counts by status</a>
                  </li>
                  <li>
                    <a href="#get-list-of-requests" class="toc-h2 toc-link" data-title="get-list-of-requests">Get list of requests</a>
                  </li>
                  <li>
                    <a href="#get-an-individual-request" class="toc-h2 toc-link" data-title="get-an-individual-request">Get an individual request</a>
                  </li>
                  <li>
                    <a href="#update-request" class="toc-h2 toc-link" data-title="update-request">Update request</a>
                  </li>
                  <li>
                    <a href="#notify-user-of-request-completion" class="toc-h2 toc-link" data-title="notify-user-of-request-completion">Notify user of request completion</a>
                  </li>
                  <li>
                    <a href="#get-update-any-user" class="toc-h2 toc-link" data-title="get-update-any-user">Get/Update any user</a>
                  </li>
                  <li>
                    <a href="#get-update-any-pet" class="toc-h2 toc-link" data-title="get-update-any-pet">Get/Update any pet</a>
                  </li>
                  <li>
                    <a href="#create-a-place" class="toc-h2 toc-link" data-title="create-a-place">Create a place</a>
                  </li>
                  <li>
                    <a href="#get-update-any-place" class="toc-h2 toc-link" data-title="get-update-any-place">Get/Update any place</a>
                  </li>
                  <li>
                    <a href="#get-contact-history-for-a-request" class="toc-h2 toc-link" data-title="get-contact-history-for-a-request">Get contact history for a request</a>
                  </li>
                  <li>
                    <a href="#add-to-contact-history-for-a-request" class="toc-h2 toc-link" data-title="add-to-contact-history-for-a-request">Add to contact history for a request</a>
                  </li>
                  <li>
                    <a href="#update-contact-history-log-entry" class="toc-h2 toc-link" data-title="update-contact-history-log-entry">Update contact history log entry</a>
                  </li>
                  <li>
                    <a href="#delete-contact-history-log-entry" class="toc-h2 toc-link" data-title="delete-contact-history-log-entry">Delete contact history log entry</a>
                  </li>
                  <li>
                    <a href="#get-all-contact-history-regarding-a-certain-user-pet-place" class="toc-h2 toc-link" data-title="get-all-contact-history-regarding-a-certain-user-pet-place">Get all contact history regarding a certain user/pet/place</a>
                  </li>
                  <li>
                    <a href="#get-pdf-records-from-a-request" class="toc-h2 toc-link" data-title="get-pdf-records-from-a-request">Get PDF records from a request</a>
                  </li>
                  <li>
                    <a href="#upload-pdf-record-to-a-request" class="toc-h2 toc-link" data-title="upload-pdf-record-to-a-request">Upload PDF record to a request</a>
                  </li>
                  <li>
                    <a href="#delete-pdf-record-to-a-request" class="toc-h2 toc-link" data-title="delete-pdf-record-to-a-request">Delete PDF record to a request</a>
                  </li>
                  <li>
                    <a href="#update-regenerate-consent-form" class="toc-h2 toc-link" data-title="update-regenerate-consent-form">Update/regenerate consent form</a>
                  </li>
                  <li>
                    <a href="#send-request-to-vet-via-email" class="toc-h2 toc-link" data-title="send-request-to-vet-via-email">Send request to vet via email</a>
                  </li>
                  <li>
                    <a href="#send-request-to-vet-via-fax" class="toc-h2 toc-link" data-title="send-request-to-vet-via-fax">Send request to vet via fax</a>
                  </li>
                  <li>
                    <a href="#get-contacts-for-a-vet" class="toc-h2 toc-link" data-title="get-contacts-for-a-vet">Get contacts for a vet</a>
                  </li>
                  <li>
                    <a href="#add-contact-at-a-vet" class="toc-h2 toc-link" data-title="add-contact-at-a-vet">Add contact at a vet</a>
                  </li>
                  <li>
                    <a href="#update-contact" class="toc-h2 toc-link" data-title="update-contact">Update contact</a>
                  </li>
                  <li>
                    <a href="#delete-contact" class="toc-h2 toc-link" data-title="delete-contact">Delete contact</a>
                  </li>
                  <li>
                    <a href="#get-all-medications" class="toc-h2 toc-link" data-title="get-all-medications">Get all medications</a>
                  </li>
                  <li>
                    <a href="#get-all-reminder-events" class="toc-h2 toc-link" data-title="get-all-reminder-events">Get all reminder events</a>
                  </li>
                  <li>
                    <a href="#get-events-in-pet-record" class="toc-h2 toc-link" data-title="get-events-in-pet-record">Get events in pet record</a>
                  </li>
                  <li>
                    <a href="#add-event-to-pet-record" class="toc-h2 toc-link" data-title="add-event-to-pet-record">Add event to pet record</a>
                  </li>
                  <li>
                    <a href="#update-event-in-pet-record" class="toc-h2 toc-link" data-title="update-event-in-pet-record">Update event in pet record</a>
                  </li>
                  <li>
                    <a href="#delete-event-from-pet-record" class="toc-h2 toc-link" data-title="delete-event-from-pet-record">Delete event from pet record</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#admin-portal-v2" class="toc-h1 toc-link" data-title="admin-portal-v2">Admin portal V2</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-status-counts" class="toc-h2 toc-link" data-title="get-status-counts">Get status counts</a>
                  </li>
                  <li>
                    <a href="#get-record-requests" class="toc-h2 toc-link" data-title="get-record-requests">Get record requests</a>
                  </li>
                  <li>
                    <a href="#get-a-record-request" class="toc-h2 toc-link" data-title="get-a-record-request">Get a record request</a>
                  </li>
                  <li>
                    <a href="#get-appointment-requests" class="toc-h2 toc-link" data-title="get-appointment-requests">Get appointment requests</a>
                  </li>
                  <li>
                    <a href="#get-an-appointment-request" class="toc-h2 toc-link" data-title="get-an-appointment-request">Get an appointment request</a>
                  </li>
                  <li>
                    <a href="#get-insurance-claims" class="toc-h2 toc-link" data-title="get-insurance-claims">Get insurance claims</a>
                  </li>
                  <li>
                    <a href="#get-an-insurance-claim" class="toc-h2 toc-link" data-title="get-an-insurance-claim">Get an insurance claim</a>
                  </li>
                  <li>
                    <a href="#get-intake-forms" class="toc-h2 toc-link" data-title="get-intake-forms">Get intake forms</a>
                  </li>
                  <li>
                    <a href="#get-an-intake-form" class="toc-h2 toc-link" data-title="get-an-intake-form">Get an intake form</a>
                  </li>
                  <li>
                    <a href="#update-intake-form-admin" class="toc-h2 toc-link" data-title="update-intake-form-admin">Update intake form (admin)</a>
                  </li>
                  <li>
                    <a href="#regenerate-pawprint-summary" class="toc-h2 toc-link" data-title="regenerate-pawprint-summary">Regenerate Pawprint Summary</a>
                  </li>
                  <li>
                    <a href="#get-intakes-for-pet" class="toc-h2 toc-link" data-title="get-intakes-for-pet">Get intakes for pet</a>
                  </li>
                  <li>
                    <a href="#get-insurance-claims-for-pet" class="toc-h2 toc-link" data-title="get-insurance-claims-for-pet">Get insurance claims for pet</a>
                  </li>
                  <li>
                    <a href="#get-appointment-requests-for-pet" class="toc-h2 toc-link" data-title="get-appointment-requests-for-pet">Get appointment requests for pet</a>
                  </li>
                  <li>
                    <a href="#get-places" class="toc-h2 toc-link" data-title="get-places">Get places</a>
                  </li>
                  <li>
                    <a href="#add-intake-log-entry" class="toc-h2 toc-link" data-title="add-intake-log-entry">Add intake log entry</a>
                  </li>
                  <li>
                    <a href="#get-intake-logs" class="toc-h2 toc-link" data-title="get-intake-logs">Get intake logs</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#appointments" class="toc-h1 toc-link" data-title="appointments">Appointments</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-appointment-types" class="toc-h2 toc-link" data-title="get-appointment-types">Get appointment types</a>
                  </li>
                  <li>
                    <a href="#book-an-appointment" class="toc-h2 toc-link" data-title="book-an-appointment">Book an appointment</a>
                  </li>
                  <li>
                    <a href="#get-appointment-requests" class="toc-h2 toc-link" data-title="get-appointment-requests">Get appointment requests</a>
                  </li>
                  <li>
                    <a href="#get-upcoming-appointments" class="toc-h2 toc-link" data-title="get-upcoming-appointments">Get upcoming appointments</a>
                  </li>
                  <li>
                    <a href="#cancel-an-appointment-request" class="toc-h2 toc-link" data-title="cancel-an-appointment-request">Cancel an appointment request</a>
                  </li>
                  <li>
                    <a href="#confirm-a-pawprint-vet-appointment" class="toc-h2 toc-link" data-title="confirm-a-pawprint-vet-appointment">Confirm a Pawprint vet appointment</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#events-v2" class="toc-h1 toc-link" data-title="events-v2">Events V2</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-pet-events" class="toc-h2 toc-link" data-title="get-pet-events">Get pet events</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#followup-surveys" class="toc-h1 toc-link" data-title="followup-surveys">Followup surveys</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#update-a-followup-survey" class="toc-h2 toc-link" data-title="update-a-followup-survey">Update a followup survey</a>
                  </li>
                  <li>
                    <a href="#get-pending-followup-surveys-for-approval" class="toc-h2 toc-link" data-title="get-pending-followup-surveys-for-approval">Get pending followup surveys for approval</a>
                  </li>
                  <li>
                    <a href="#approve-or-reject-a-followup-survey" class="toc-h2 toc-link" data-title="approve-or-reject-a-followup-survey">Approve or reject a followup survey</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#insurance-claims" class="toc-h1 toc-link" data-title="insurance-claims">Insurance claims</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-insurance-companies" class="toc-h2 toc-link" data-title="get-insurance-companies">Get insurance companies</a>
                  </li>
                  <li>
                    <a href="#add-a-pet-insurance-policy" class="toc-h2 toc-link" data-title="add-a-pet-insurance-policy">Add a pet insurance policy</a>
                  </li>
                  <li>
                    <a href="#delete-a-pet-39-s-insurance-policies" class="toc-h2 toc-link" data-title="delete-a-pet-s-insurance-policies">Delete a pet's insurance policies</a>
                  </li>
                  <li>
                    <a href="#create-a-claim" class="toc-h2 toc-link" data-title="create-a-claim">Create a claim</a>
                  </li>
                  <li>
                    <a href="#get-user-39-s-existing-claims-summary" class="toc-h2 toc-link" data-title="get-user-s-existing-claims-summary">Get user's existing claims (summary)</a>
                  </li>
                  <li>
                    <a href="#get-specific-claim-details" class="toc-h2 toc-link" data-title="get-specific-claim-details">Get specific claim details</a>
                  </li>
                  <li>
                    <a href="#record-request-preview-from-a-claim" class="toc-h2 toc-link" data-title="record-request-preview-from-a-claim">Record request preview from a claim</a>
                  </li>
                  <li>
                    <a href="#record-request-order-from-a-claim" class="toc-h2 toc-link" data-title="record-request-order-from-a-claim">Record request order from a claim</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#intake-forms" class="toc-h1 toc-link" data-title="intake-forms">Intake forms</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-intake-form-vet" class="toc-h2 toc-link" data-title="create-intake-form-vet">Create intake form (vet)</a>
                  </li>
                  <li>
                    <a href="#get-intake-form-user" class="toc-h2 toc-link" data-title="get-intake-form-user">Get intake form (user)</a>
                  </li>
                  <li>
                    <a href="#update-intake-form-user" class="toc-h2 toc-link" data-title="update-intake-form-user">Update intake form (user)</a>
                  </li>
                  <li>
                    <a href="#get-place-info" class="toc-h2 toc-link" data-title="get-place-info">Get place info</a>
                  </li>
                  <li>
                    <a href="#create-complete-intake-form-user" class="toc-h2 toc-link" data-title="create-complete-intake-form-user">Create complete intake form (user)</a>
                  </li>
                  <li>
                    <a href="#update-pet-profile-pic-user" class="toc-h2 toc-link" data-title="update-pet-profile-pic-user">Update pet profile pic (user)</a>
                  </li>
                  <li>
                    <a href="#update-intake-appointment-user" class="toc-h2 toc-link" data-title="update-intake-appointment-user">Update intake appointment (user)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#vet-intake-portal" class="toc-h1 toc-link" data-title="vet-intake-portal">Vet intake portal</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#login" class="toc-h2 toc-link" data-title="login">Login</a>
                  </li>
                  <li>
                    <a href="#change-password" class="toc-h2 toc-link" data-title="change-password">Change password</a>
                  </li>
                  <li>
                    <a href="#send-password-reset-token" class="toc-h2 toc-link" data-title="send-password-reset-token">Send password reset token</a>
                  </li>
                  <li>
                    <a href="#validate-password-reset-token" class="toc-h2 toc-link" data-title="validate-password-reset-token">Validate password reset token</a>
                  </li>
                  <li>
                    <a href="#reset-forgotten-password-from-token" class="toc-h2 toc-link" data-title="reset-forgotten-password-from-token">Reset forgotten password from token</a>
                  </li>
                  <li>
                    <a href="#reset-forgotten-password-admin" class="toc-h2 toc-link" data-title="reset-forgotten-password-admin">Reset forgotten password (admin)</a>
                  </li>
                  <li>
                    <a href="#get-partner-place-info" class="toc-h2 toc-link" data-title="get-partner-place-info">Get partner place info</a>
                  </li>
                  <li>
                    <a href="#get-list-of-intakes" class="toc-h2 toc-link" data-title="get-list-of-intakes">Get list of intakes</a>
                  </li>
                  <li>
                    <a href="#get-intake-details" class="toc-h2 toc-link" data-title="get-intake-details">Get intake details</a>
                  </li>
                  <li>
                    <a href="#update-intake-vet" class="toc-h2 toc-link" data-title="update-intake-vet">Update intake (vet)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#machine-learning-algo-tagging" class="toc-h1 toc-link" data-title="machine-learning-algo-tagging">Machine learning/algo tagging</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#query-algorithm" class="toc-h2 toc-link" data-title="query-algorithm">Query algorithm</a>
                  </li>
                  <li>
                    <a href="#get-pending-feedback" class="toc-h2 toc-link" data-title="get-pending-feedback">Get pending feedback</a>
                  </li>
                  <li>
                    <a href="#submit-feedback" class="toc-h2 toc-link" data-title="submit-feedback">Submit feedback</a>
                  </li>
                  <li>
                    <a href="#delete-pending-feedback-item" class="toc-h2 toc-link" data-title="delete-pending-feedback-item">Delete pending feedback item</a>
                  </li>
                  <li>
                    <a href="#refit" class="toc-h2 toc-link" data-title="refit">Refit</a>
                  </li>
                  <li>
                    <a href="#save-state" class="toc-h2 toc-link" data-title="save-state">Save state</a>
                  </li>
                  <li>
                    <a href="#get-a-page-of-reminders" class="toc-h2 toc-link" data-title="get-a-page-of-reminders">Get a page of reminders</a>
                  </li>
                  <li>
                    <a href="#get-a-page-of-invoices" class="toc-h2 toc-link" data-title="get-a-page-of-invoices">Get a page of invoices</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#medications" class="toc-h1 toc-link" data-title="medications">Medications</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-built-in-medications" class="toc-h2 toc-link" data-title="get-all-built-in-medications">Get all built-in medications</a>
                  </li>
                  <li>
                    <a href="#get-all-of-a-pet-39-s-medications" class="toc-h2 toc-link" data-title="get-all-of-a-pet-s-medications">Get all of a pet's medications</a>
                  </li>
                  <li>
                    <a href="#create-pet-medication" class="toc-h2 toc-link" data-title="create-pet-medication">Create pet medication</a>
                  </li>
                  <li>
                    <a href="#update-pet-medication" class="toc-h2 toc-link" data-title="update-pet-medication">Update pet medication</a>
                  </li>
                  <li>
                    <a href="#delete-pet-medication" class="toc-h2 toc-link" data-title="delete-pet-medication">Delete pet medication</a>
                  </li>
                  <li>
                    <a href="#get-suggested-pet-medications" class="toc-h2 toc-link" data-title="get-suggested-pet-medications">Get suggested pet medications</a>
                  </li>
                  <li>
                    <a href="#reject-suggested-pet-medication" class="toc-h2 toc-link" data-title="reject-suggested-pet-medication">Reject suggested pet medication</a>
                  </li>
                  <li>
                    <a href="#get-medications-for-a-pet-medication-admin" class="toc-h2 toc-link" data-title="get-medications-for-a-pet-medication-admin">Get medications for a pet medication (admin)</a>
                  </li>
                  <li>
                    <a href="#add-pet-medication-admin" class="toc-h2 toc-link" data-title="add-pet-medication-admin">Add pet medication (admin)</a>
                  </li>
                  <li>
                    <a href="#update-pet-medication-admin" class="toc-h2 toc-link" data-title="update-pet-medication-admin">Update pet medication (admin)</a>
                  </li>
                  <li>
                    <a href="#delete-pet-medication-admin" class="toc-h2 toc-link" data-title="delete-pet-medication-admin">Delete pet medication (admin)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#payments" class="toc-h1 toc-link" data-title="payments">Payments</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#update-payment-information" class="toc-h2 toc-link" data-title="update-payment-information">Update payment information</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#places" class="toc-h1 toc-link" data-title="places">Places</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#add-new-place" class="toc-h2 toc-link" data-title="add-new-place">Add new place</a>
                  </li>
                  <li>
                    <a href="#places-search" class="toc-h2 toc-link" data-title="places-search">Places search</a>
                  </li>
                  <li>
                    <a href="#create-appointment-request-at-a-place" class="toc-h2 toc-link" data-title="create-appointment-request-at-a-place">Create appointment request at a place</a>
                  </li>
                  <li>
                    <a href="#create-place-entry-from-google-place-id" class="toc-h2 toc-link" data-title="create-place-entry-from-google-place-id">Create place entry from Google Place ID</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#places-v3" class="toc-h1 toc-link" data-title="places-v3">Places V3</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#location-aware-search" class="toc-h2 toc-link" data-title="location-aware-search">Location-aware search</a>
                  </li>
                  <li>
                    <a href="#suggest-a-city" class="toc-h2 toc-link" data-title="suggest-a-city">Suggest a city</a>
                  </li>
                  <li>
                    <a href="#merge-two-places" class="toc-h2 toc-link" data-title="merge-two-places">Merge two places</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#postcards" class="toc-h1 toc-link" data-title="postcards">Postcards</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-pending-postcards-for-approval" class="toc-h2 toc-link" data-title="get-pending-postcards-for-approval">Get pending postcards for approval</a>
                  </li>
                  <li>
                    <a href="#approve-or-reject-a-postcard" class="toc-h2 toc-link" data-title="approve-or-reject-a-postcard">Approve or reject a postcard</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#reminders-v2" class="toc-h1 toc-link" data-title="reminders-v2">Reminders v2</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-reminders" class="toc-h2 toc-link" data-title="get-all-reminders">Get all reminders</a>
                  </li>
                  <li>
                    <a href="#get-specific-reminder" class="toc-h2 toc-link" data-title="get-specific-reminder">Get specific reminder</a>
                  </li>
                  <li>
                    <a href="#create-a-reminder" class="toc-h2 toc-link" data-title="create-a-reminder">Create a reminder</a>
                  </li>
                  <li>
                    <a href="#update-a-reminder" class="toc-h2 toc-link" data-title="update-a-reminder">Update a reminder</a>
                  </li>
                  <li>
                    <a href="#delete-a-reminder" class="toc-h2 toc-link" data-title="delete-a-reminder">Delete a reminder</a>
                  </li>
                  <li>
                    <a href="#update-settings" class="toc-h2 toc-link" data-title="update-settings">Update settings</a>
                  </li>
                  <li>
                    <a href="#update-settings-vet_reminder" class="toc-h2 toc-link" data-title="update-settings-vet_reminder">Update settings (vet_reminder)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#requests-v1" class="toc-h1 toc-link" data-title="requests-v1">Requests v1</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#check-if-promo-code-is-valid" class="toc-h2 toc-link" data-title="check-if-promo-code-is-valid">Check if promo code is valid</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#requests-v2" class="toc-h1 toc-link" data-title="requests-v2">Requests v2</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-products" class="toc-h2 toc-link" data-title="get-all-products">Get all products</a>
                  </li>
                  <li>
                    <a href="#basic-order-preview" class="toc-h2 toc-link" data-title="basic-order-preview">Basic order - preview</a>
                  </li>
                  <li>
                    <a href="#basic-order-execute" class="toc-h2 toc-link" data-title="basic-order-execute">Basic order - execute</a>
                  </li>
                  <li>
                    <a href="#full-order-preview" class="toc-h2 toc-link" data-title="full-order-preview">Full order - preview</a>
                  </li>
                  <li>
                    <a href="#full-order-execute" class="toc-h2 toc-link" data-title="full-order-execute">Full order - execute</a>
                  </li>
                  <li>
                    <a href="#rush-upgrade-preview" class="toc-h2 toc-link" data-title="rush-upgrade-preview">Rush upgrade - preview</a>
                  </li>
                  <li>
                    <a href="#rush-upgrade-execute" class="toc-h2 toc-link" data-title="rush-upgrade-execute">Rush upgrade - execute</a>
                  </li>
                  <li>
                    <a href="#full-order-new-pricing-preview" class="toc-h2 toc-link" data-title="full-order-new-pricing-preview">Full order (new pricing) - preview</a>
                  </li>
                  <li>
                    <a href="#full-order-new-pricing-execute" class="toc-h2 toc-link" data-title="full-order-new-pricing-execute">Full order (new pricing) - execute</a>
                  </li>
                  <li>
                    <a href="#web-basic-order-preview" class="toc-h2 toc-link" data-title="web-basic-order-preview">Web basic order - preview</a>
                  </li>
                  <li>
                    <a href="#web-basic-order-execute" class="toc-h2 toc-link" data-title="web-basic-order-execute">Web basic order - execute</a>
                  </li>
                  <li>
                    <a href="#web-full-order-preview" class="toc-h2 toc-link" data-title="web-full-order-preview">Web full order - preview</a>
                  </li>
                  <li>
                    <a href="#web-full-order-execute" class="toc-h2 toc-link" data-title="web-full-order-execute">Web full order - execute</a>
                  </li>
                  <li>
                    <a href="#is-pet-linked" class="toc-h2 toc-link" data-title="is-pet-linked">Is pet linked</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#requests-v3" class="toc-h1 toc-link" data-title="requests-v3">Requests v3</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-current-products" class="toc-h2 toc-link" data-title="get-current-products">Get current products</a>
                  </li>
                  <li>
                    <a href="#preview-order" class="toc-h2 toc-link" data-title="preview-order">Preview order</a>
                  </li>
                  <li>
                    <a href="#execute-order" class="toc-h2 toc-link" data-title="execute-order">Execute order</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#sharing" class="toc-h1 toc-link" data-title="sharing">Sharing</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#share-pet-records" class="toc-h2 toc-link" data-title="share-pet-records">Share pet records</a>
                  </li>
                  <li>
                    <a href="#check-pet-invite-code" class="toc-h2 toc-link" data-title="check-pet-invite-code">Check pet invite code</a>
                  </li>
                  <li>
                    <a href="#create-pet-invite-code" class="toc-h2 toc-link" data-title="create-pet-invite-code">Create pet invite code</a>
                  </li>
                  <li>
                    <a href="#use-pet-invite-code" class="toc-h2 toc-link" data-title="use-pet-invite-code">Use pet invite code</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#user" class="toc-h1 toc-link" data-title="user">User</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-and-email-password-reset-token-v1" class="toc-h2 toc-link" data-title="create-and-email-password-reset-token-v1">Create and email password reset token (v1)</a>
                  </li>
                  <li>
                    <a href="#create-and-email-password-reset-token-v2" class="toc-h2 toc-link" data-title="create-and-email-password-reset-token-v2">Create and email password reset token (v2)</a>
                  </li>
                  <li>
                    <a href="#render-reset-page-for-token" class="toc-h2 toc-link" data-title="render-reset-page-for-token">Render reset page for token</a>
                  </li>
                  <li>
                    <a href="#reset-password" class="toc-h2 toc-link" data-title="reset-password">Reset password</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#web-requests" class="toc-h1 toc-link" data-title="web-requests">Web requests</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-a-user" class="toc-h2 toc-link" data-title="create-a-user">Create a user</a>
                  </li>
                  <li>
                    <a href="#update-a-user" class="toc-h2 toc-link" data-title="update-a-user">Update a user</a>
                  </li>
                  <li>
                    <a href="#create-a-pet" class="toc-h2 toc-link" data-title="create-a-pet">Create a pet</a>
                  </li>
                  <li>
                    <a href="#update-a-pet" class="toc-h2 toc-link" data-title="update-a-pet">Update a pet</a>
                  </li>
                  <li>
                    <a href="#get-user-39-s-pets" class="toc-h2 toc-link" data-title="get-user-s-pets">Get user's pets</a>
                  </li>
                  <li>
                    <a href="#delete-a-web-pet-from-a-request" class="toc-h2 toc-link" data-title="delete-a-web-pet-from-a-request">Delete a web pet from a request</a>
                  </li>
                  <li>
                    <a href="#create-a-new-request" class="toc-h2 toc-link" data-title="create-a-new-request">Create a new request</a>
                  </li>
                  <li>
                    <a href="#update-a-request" class="toc-h2 toc-link" data-title="update-a-request">Update a request</a>
                  </li>
                  <li>
                    <a href="#get-existing-request" class="toc-h2 toc-link" data-title="get-existing-request">Get existing request</a>
                  </li>
                  <li>
                    <a href="#get-consent-form" class="toc-h2 toc-link" data-title="get-consent-form">Get consent form</a>
                  </li>
                  <li>
                    <a href="#preview-a-complete-request" class="toc-h2 toc-link" data-title="preview-a-complete-request">Preview a (complete) request</a>
                  </li>
                  <li>
                    <a href="#get-consent-form-for-a-complete-request" class="toc-h2 toc-link" data-title="get-consent-form-for-a-complete-request">Get consent form for a (complete) request</a>
                  </li>
                  <li>
                    <a href="#submit-a-complete-request" class="toc-h2 toc-link" data-title="submit-a-complete-request">Submit a (complete) request</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#web-requests-onboarded-vets" class="toc-h1 toc-link" data-title="web-requests-onboarded-vets">Web requests - Onboarded vets</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#send-records-amp-recruiting-email-deprecated" class="toc-h2 toc-link" data-title="send-records-amp-recruiting-email-deprecated">Send records &amp; recruiting email (Deprecated)</a>
                  </li>
                  <li>
                    <a href="#find-vet-integrations-for-email-phone" class="toc-h2 toc-link" data-title="find-vet-integrations-for-email-phone">Find vet integrations for email/phone</a>
                  </li>
                  <li>
                    <a href="#create-vet_user-pin" class="toc-h2 toc-link" data-title="create-vet_user-pin">Create vet_user PIN</a>
                  </li>
                  <li>
                    <a href="#verify-pin-and-send-pet-records" class="toc-h2 toc-link" data-title="verify-pin-and-send-pet-records">Verify PIN and send pet records</a>
                  </li>
                  <li>
                    <a href="#submit-branded-request" class="toc-h2 toc-link" data-title="submit-branded-request">Submit branded request</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#vetstoria" class="toc-h1 toc-link" data-title="vetstoria">Vetstoria</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-vetstoria-booking-details" class="toc-h2 toc-link" data-title="get-vetstoria-booking-details">Get Vetstoria booking details</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='templates-examples'>Templates/examples</h1>
<p>Use these as a template by copying and pasting them.</p>
<h2 id='post-example'>POST example</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"Hey"</span><span class="p">,</span><span class="w"> </span><span class="s2">"there"</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-20T21:00:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">340</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Summary of the API and remarks go here.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /user/:uriparameter/example/:anotheruriparameter</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>int</td>
<td>ID from the <code>user</code> table.</td>
</tr>
<tr>
<td>pet_id</td>
<td>int</td>
<td>ID from the <code>pet</code></td>
</tr>
<tr>
<td>notes</td>
<td>array of strings</td>
<td>Notes</td>
</tr>
<tr>
<td>timestamp</td>
<td>datetime</td>
<td>February twentieth</td>
</tr>
</tbody></table>
<h2 id='get-example'>GET example</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">340</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets a user profile by <code>user.id</code>.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /user/:userid</code></p>
<h3 id='query-string-parameters'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>since</td>
<td>datetime</td>
<td>Gets updates made since this time.</td>
</tr>
<tr>
<td>$top</td>
<td>int</td>
<td>Limits the number of results.</td>
</tr>
<tr>
<td>$skip</td>
<td>int</td>
<td>Results start at this index.</td>
</tr>
</tbody></table>
<h1 id='activation'>Activation</h1>
<p>For inviting, onboarding and account linking.</p>
<h2 id='check-vet-activation-code'>Check vet activation code</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"vetBanner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/banner.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"vetName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint Demo Veterinary"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">106539</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="err">'johnsmith@example.com'</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">15555551234</span><span class="err">'</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Checks if a vet activation code exists. This is for onboarding or linking a vet account. Some vet information
and user information is returned, which can be used to pre-populate fields for account creation.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /user/activation/:code</code></p>
<h2 id='sign-up-a-user'>Sign up a user</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p4ssw0rd"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">49.1111</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-23.1111</span><span class="p">,</span><span class="w">
    </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"425-753-6174"</span><span class="p">,</span><span class="w">

    </span><span class="err">//</span><span class="w"> </span><span class="err">Activation</span><span class="w"> </span><span class="err">code</span><span class="w">
    </span><span class="s2">"activation_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">106539</span><span class="w">

    </span><span class="err">//</span><span class="w"> </span><span class="err">Facebook</span><span class="w"> </span><span class="err">signup</span><span class="w"> </span><span class="err">only</span><span class="w">
    </span><span class="s2">"facebookid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10700061"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"avcbjhgaWXt"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Signs up a user, according to one of the following flows:</p>
<h4 id='facebook'>Facebook</h4>
<p>If a facebook <code>access_token</code> and <code>facebookid</code> are provided, then the user information is obtained via facebook.</p>
<h4 id='biz-invite-code'>Biz invite code</h4>
<p>Deprecated scenario. If an <code>activation_code</code> is provided, and the code exists in the <code>activation_code</code> table where <code>activation_code.user_id</code> is not null,
then there should already be a user account created with <code>type = 4</code> (&quot;ghost user&quot;). The &quot;ghost user&quot; is activated by setting <code>type = 1</code> (regular user)
and setting the password.</p>
<h4 id='vet-activation-code'>Vet activation code</h4>
<p>If an <code>activation_code</code> is provided, and the code exists in the <code>activation_code</code> table where <code>activation_code.user_id</code> is null,
then <code>activation_code.vet_user_id</code> is expected to be not null. User information is copied from the <code>vet_user</code> table into the <code>user</code> table
and a new account is created.</p>

<aside class="notice">
The activation code will be deleted after the user has been created.
</aside>
<h4 id='regular'>Regular</h4>
<p>If no Facebook information or access code was provided, then a new user account is created.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /user/signup</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>User&#39;s email address</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>User&#39;s password, should be 6 or more characters</td>
</tr>
<tr>
<td>firstName</td>
<td>string?</td>
<td>User&#39;s first name</td>
</tr>
<tr>
<td>lastName</td>
<td>string?</td>
<td>User&#39;s last name</td>
</tr>
<tr>
<td>phone</td>
<td>string?</td>
<td>User&#39;s phone number</td>
</tr>
<tr>
<td>lat</td>
<td>number?</td>
<td>User&#39;s GPS latitude; appears to be unused (maybe for business?)</td>
</tr>
<tr>
<td>lng</td>
<td>number?</td>
<td>User&#39;s GPS longitude; appears to be unused (maybe for business?)</td>
</tr>
<tr>
<td>facebookid</td>
<td>string?</td>
<td>User&#39;s Facebook ID</td>
</tr>
<tr>
<td>access_token</td>
<td>string?</td>
<td>Facebook access token provided by the Facebook client</td>
</tr>
<tr>
<td>activation_code</td>
<td>string?</td>
<td>Activation code</td>
</tr>
</tbody></table>
<h2 id='get-vet_pets'>Get vet_pets</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">797204</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ein"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2009-06-29T07:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"adoption_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dog"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Corgi (Pembroke)"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"weight"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"neuter"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"microchip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3258889"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7838</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets the vet_pets associated with the user. The user must be linked with a vet integration account in order
for this to work.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET /user/vet_pets</code></p>
<h2 id='sync-existing-pet-with-vet_pet'>Sync existing pet with vet_pet</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"vet_pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">600528</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Updates an entry in the <code>pet</code> table with data from an existing <code>vet_pet</code>. If any field(s) in <code>pet</code> are blank, they are filled in
with the corresponding field(s) from <code>vet_pet</code>; existing <code>pet</code> data is not overwritten.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST /user/sync_pet</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pet_id</td>
<td>int</td>
<td>ID from the <code>pet</code> table.</td>
</tr>
<tr>
<td>vet_pet_id</td>
<td>int</td>
<td>ID from the <code>vet_pet</code> table.</td>
</tr>
</tbody></table>
<h2 id='create-pet-from-vet_pet'>Create pet from vet_pet</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vet_pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">600528</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Creates a new entry in the <code>pet</code> table from an existing <code>vet_pet</code>.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST /user/create_pet</code></p>
<h3 id='post-parameters-3'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vet_pet_id</td>
<td>int</td>
<td>ID from the <code>vet_pet</code> table.</td>
</tr>
</tbody></table>
<h2 id='send-vet_user-verification-link'>Send vet_user verification link</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5555551234"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Sends a verification link to a phone number or email address. <code>type</code> must be either <code>email</code> or <code>phone</code>;
and either the <code>email</code> or <code>phone</code> field is required depending on the value for <code>type</code>.
When this endpoint is called, a token is generated in the <code>vet_user.verification_token</code> field, and the verification
link (a Branch URL) contains this token.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST /user/send_vet_user_verification</code></p>
<h3 id='post-parameters-4'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Either <code>email</code> or <code>phone</code>.</td>
</tr>
<tr>
<td>email</td>
<td>string?</td>
<td>Send verification link to this email address.</td>
</tr>
<tr>
<td>phone</td>
<td>string?</td>
<td>Send verification link via SMS to this phone number.</td>
</tr>
</tbody></table>
<h2 id='verify-vet_user-token-and-link-account'>Verify vet_user token and link account</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"verification_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"badf-0339-19def8-c0e0b0f048ee98fc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"activation_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9989899"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"verification_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sms"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Checks a verification token against the vet_user table and sets its status to verified. Links vet_user account
with an existing user account. The verification token is generated by the <code>send_vet_user_verification</code> call,
and the vet_user&#39;s activation code is in the <code>activation_code</code> table.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST /user/verify_vet_user</code></p>
<h3 id='post-parameters-5'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>verification_token</td>
<td>string</td>
<td>The token in the verification link.</td>
</tr>
<tr>
<td>activation_code</td>
<td>string</td>
<td>The activation code for the vet_user.</td>
</tr>
<tr>
<td>verification_type</td>
<td>string?</td>
<td>Should be &#39;email&#39; or &#39;sms&#39;; for stat tracking only and has no functional effect.</td>
</tr>
</tbody></table>
<h1 id='activation-v2'>Activation V2</h1>
<p>For inviting, onboarding and account linking.
Expected scenarios:</p>

<ul>
<li>User is logged in to an existing Pawprint account. The flow should be:

<ol>
<li>Call <code>/user/v2/activation/vet_integrations</code></li>
<li>To link an account that has <code>verified: true</code>,  call <code>/user/v2/activation/link_vet_user</code>, and enter the pet linking flow.</li>
<li>To link an account that has <code>verified: false</code>, call <code>/user/v2/activation/send_link_token</code> to get a Branch link with a verification token.</li>
<li>Call <code>/user/v2/activation/validate</code> with the verification token</li>
<li>Call <code>/user/v2/activation/link_vet_user</code>.</li>
<li>Enter the pet linking flow.</li>
</ol></li>
<li>User has an account in <code>vet_user</code>, but no Pawprint account. Create a Pawprint account from the vet_user account like this:

<ol>
<li>Have the user enter an email address or phone number associated with the <code>vet_user</code> account.</li>
<li>Call <code>/activation/vet_integrations</code> with an email address or phone number, which returns <code>vet_user_ids</code>.</li>
<li>Call <code>/user/v2/activation/send_create_token</code> with a <code>vet_user_id</code>. This sends a Branch link with a verification token to the email/phone associated with the <code>vet_user</code> account.</li>
<li>Call <code>/user/v2/activation/create_from_vet_account</code> with the verification token, new email and password.</li>
<li>Enter the pet linking flow.</li>
</ol></li>
</ul>
<h2 id='find-available-vet-integrations-for-user'>Find available vet integrations for user</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
    </span><span class="s2">"vet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint Demo Veterinary"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vet_banner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/banner.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27015</span><span class="p">,</span><span class="w">
    </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"vet_user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-1234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
     </span><span class="p">}]</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>
<p>Checks for available vet integrations for a user. Looks for the user&#39;s email address and phone number in the
<code>vet_user</code> table (that haven&#39;t been linked already, i.e. <code>vet_user.user_id</code> is null) and returns matching vet integrations.
If an entry contains <code>verified: true</code> then you can directl call <code>/v2/activation/send_link_token</code> without having to verify
the email or phone number first.</p>

<p>If the same email address or phone number is used for multiple accounts within the same vet (e.g. husband/wife accounts),
then the &quot;users&quot; array will contain multiple elements.
If the same email address or phone number is used for multiple accounts across different vets, (e.g. one pet, multiple vets)
then the root-level array will contain multiple elements.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /user/v2/activation/vet_integrations</code></p>
<h3 id='get-parameters'>GET parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>place_id</td>
<td>integer?</td>
<td>Filters search to a single vet (root level array will have at most 1 element)</td>
</tr>
</tbody></table>
<h2 id='search-for-email-address'>Search for email address</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_needs_password"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Check for the email&#39;s existence in various Pawprint and vet tables.</p>

<p>Possible statuses:</p>

<ul>
<li><code>user</code> - email exists in the <code>user</code> table and has a password. User should sign in with the account. TODO: what to do about emails in <code>verified_email</code></li>
<li><code>user_needs_password</code> - email exists in the <code>user</code> table and does not have a password (aka &quot;ghost user&quot;). Password should be set for the account.</li>
<li><code>vet_user</code> - email exists in the <code>vet_user</code> table or the <code>vet_user_email</code> table. A new Pawprint count should be created, linked to the <code>vet_user</code> account.
See &quot;Send account creation token&quot; and &quot;Create user account from vet_user account&quot;.</li>
<li><code>unused</code> - email does not exist anywhere in the Pawprint database and can be used to create a new account.</li>
</ul>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /activation/email</code></p>
<h3 id='get-parameters-2'>GET parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Required. The email address to check.</td>
</tr>
</tbody></table>
<h2 id='send-activation-link-to-vet_user'>Send activation link to vet_user</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4255556172
}
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">(none)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Sends an email to given email address, or SMS to the given phone number, with a Branch link to create
a new Pawprint account based on an existing <code>vet_user</code> account. The Branch link will contain:</p>

<ul>
<li>verification_token</li>
<li>The vet_user ID</li>
<li><code>context: vet_user_activation</code></li>
</ul>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /activation/vet_user/:vet_user_id/send_token</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Either <code>email</code> or <code>phone</code>. (will be deprecated soon)</td>
</tr>
<tr>
<td>email</td>
<td>string?</td>
<td>Send verification link to this email address.</td>
</tr>
<tr>
<td>phone</td>
<td>string?</td>
<td>Send verification link via SMS to this phone number.</td>
</tr>
</tbody></table>
<h2 id='create-pawprint-user-from-vet-user-via-token'>Create Pawprint user from vet user via token</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"verification_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Qrrbrbirlbel"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo2@getpawprint.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"passw3rd"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">(none)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Creates a Pawprint user by copying data from the given <code>vet_user</code>. <code>verification_token</code> comes from
a Branch link in the previous verification step, and <code>email</code> lets the user pick a different sign-in
email from the one on the <code>vet_user</code> account. <code>password</code> is required to set up the account.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST /activation/vet_user/:vet_user_id/verify_token</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>verification_token</td>
<td>string</td>
<td>Either <code>email</code> or <code>phone</code>.</td>
</tr>
<tr>
<td>email</td>
<td>string?</td>
<td>Optional. Allows the user to log in with a different email from their <code>vet_user</code> account.</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Password on the new account.</td>
</tr>
</tbody></table>
<h2 id='link-existing-user-with-vet_user'>Link existing user with vet_user</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"vet_user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p><strong>For an existing user.</strong> Links a user with a vet_user, not including pets. Each user account has a list of verified email addresses and phone numbers;
if this list does not contain the <code>vet_user.email</code> or <code>vet_user.phone</code>, HTTP 403 is returned. Emails and phones can be added to the
list of verified emails/phones with other API calls in this section.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST /user/v2/activation/link_vet_user</code></p>
<h3 id='post-parameters-3'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vet_user_id</td>
<td>int</td>
<td>ID from the <code>vet_user</code> table to link.</td>
</tr>
</tbody></table>
<h2 id='send-account-linking-token'>Send account linking token</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vet_user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p><strong>For an existing user.</strong> Generates a verification token for the email address or phone number, then sends a Branch link containing that token to the
specified email/phone. Only one of <code>&quot;email&quot;</code> or <code>&quot;phone&quot;</code> should be specified for the <code>type</code> parameter.</p>

<p>The Branch link will contain <code>context: account_link</code>, <code>vet_user_id</code> and <code>verificationToken</code> in its payload. <code>context</code> can be used
for navigation, and <code>verificationToken</code> should be saved and sent for the next call in the flow.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST /user/v2/activation/send_link_token</code></p>
<h3 id='post-parameters-4'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td><code>&quot;email&quot;</code> or <code>&quot;phone&quot;</code>.</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>email address if <code>type</code> was <code>&quot;email&quot;</code>.</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>phone number if <code>type</code> was <code>&quot;phone&quot;</code>.</td>
</tr>
<tr>
<td>vet_user_id</td>
<td>int</td>
<td>ID from the <code>vet_user</code> table.</td>
</tr>
</tbody></table>
<h2 id='validate-and-consume-email-phone-token'>Validate and consume email/phone token</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6d43b6a1-2154-42de-9961-1a35396cdef8"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p><strong>For an existing user.</strong> Verifies a token and adds the user&#39;s email and/or phone to the list of verified emails/phones.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST /user/v2/activation/validate</code></p>
<h3 id='post-parameters-5'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>string</td>
<td>Verification token from the Branch link (emailed or SMSed by an earlier call in the flow).</td>
</tr>
</tbody></table>
<h2 id='find-vet-integrations-for-email-phone'>Find vet integrations for email/phone</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
    </span><span class="s2">"vet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint Demo Veterinary"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vet_banner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/banner.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"vet_user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"Rover"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Charlie"</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="s2">"already_linked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="p">}]</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>
<p><strong>For creating new users.</strong> Checks for <code>vet_users</code> for the given email address or phone number.
Only <code>email</code> or <code>phone</code> should be specified as a <code>GET</code> parameter; if both are specified, only <code>email</code> will be taken.
The response includes <code>vet_user</code> accounts that are already linked; these are ineligible for account creation.</p>

<aside class="notice">
This is a public API and does not require authentication.
Only the `vet_user`'s `vet_user_id`, first name and account linking status are returned.
</aside>

<p>If the same email address or phone number is used for multiple accounts within the same vet (e.g. husband/wife accounts),
then the &quot;users&quot; array will contain multiple elements.
If the same email address or phone number is used for multiple accounts across different vets, (e.g. one pet, multiple vets)
then the root-level array will contain multiple elements.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>GET /activation/vet_integrations</code></p>
<h3 id='get-parameters-3'>GET parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string?</td>
<td>Email address</td>
</tr>
<tr>
<td>phone</td>
<td>string?</td>
<td>Phone number</td>
</tr>
<tr>
<td>place_id</td>
<td>integer?</td>
<td>Filters search to a single vet (root level array will have at most 1 element)</td>
</tr>
<tr>
<td>email_records</td>
<td>boolean?</td>
<td>If true, and there is exactly 1 account with an email address, sends records to the email on file.</td>
</tr>
</tbody></table>
<h2 id='send-account-creation-token'>Send account creation token</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vet_user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p><strong>For creating new users.</strong> Generates a verification token for the given <code>vet_user</code>.
A Branch link is sent to the email/phone. The Branch link will contain
<code>context: sign_up</code>, <code>verificationToken</code>, <code>first_name</code>, <code>last_name</code>, <code>email</code>, <code>phone</code>, <code>vet_name</code> and <code>vet_banner</code>
in its payload.
<code>context</code> can be used for navigation, and <code>verificationToken</code> should be saved and sent for the next call in the flow.
The rest of the Branch link payload is for pre-populating fields in user account creation.</p>

<p>If the <code>vet_user</code> is already linked, an HTTP 400 error will be returned.
If <code>type:email</code> is specified and the <code>vet_user</code> does not have an email address, an HTTP 400 error will be returned.
Same behavior for <code>type: phone</code>.</p>

<aside class="notice">
This is a public API and does not require authentication.
</aside>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>POST /user/v2/activation/send_create_token</code></p>
<h3 id='post-parameters-6'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vet_user_id</td>
<td>string</td>
<td>The <code>vet_user</code> that will receive the account creation token.</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td><code>&quot;email&quot;</code> or <code>&quot;phone&quot;</code>.</td>
</tr>
</tbody></table>
<h2 id='create-user-account-from-vet_user-account'>Create user account from vet_user account</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6d43b6a1-2154-42de-9961-1a35396cdef8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"passw3rd"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"authToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth_token_here"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1009</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>For creating new users.</strong> Checks the given <code>token</code> against the <code>vet_user.verification_token</code> column. If there is a match,
a new user account is created and the token is consumed. An auth token is returned so the user can immediately start using the app.</p>

<aside class="notice">
This is a public API and does not require authentication.
</aside>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>POST /user/v2/activation/create_from_vet_account</code></p>
<h3 id='post-parameters-7'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Email address to be used as the login email.</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>New password. This is stored in salted and hashed form on the server.</td>
</tr>
<tr>
<td>token</td>
<td>string</td>
<td>Verification token included with the Branch link sent from a previous call in the flow.</td>
</tr>
<tr>
<td>firstName</td>
<td>string?</td>
<td>New first name, if the user wants a different one from the vet account</td>
</tr>
<tr>
<td>lastName</td>
<td>string?</td>
<td>New last name, if the user wants a different one from the vet account</td>
</tr>
</tbody></table>
<h1 id='admin-portal'>Admin portal</h1>
<p>APIs that are used by the admin portal. You can find everything in
pawprint-backend/client/admin/app/common/services/utils.srv.js.</p>
<h2 id='get-list-of-admins'>Get list of admins</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Lennon"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paul McCartney"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"George Harrison"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ringo Starr"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets the list of all admins, which are defined as having <code>&quot;user&quot;.type=0</code>.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /admin/admins</code></p>
<h2 id='get-request-counts-by-status'>Get request counts by status</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"new"</span><span class="p">:</span><span class="w"> </span><span class="mi">174</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pending user"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pending vet"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"received"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"complete"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelled"</span><span class="p">:</span><span class="w"> </span><span class="mi">63</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pending"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"268"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pending_all"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets request counts by status - <code>new</code>, <code>pending user</code>, <code>pending vet</code>, etc.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /admin/requests/counts</code></p>
<h2 id='get-list-of-requests'>Get list of requests</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17237</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dong, Emily"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Emily"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dong"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"admin_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bowser"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Irving Pet Hospital"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-17T02:00:30.935Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"stripe_charge_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-17T02:00:31.572Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"admin"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paid Full History"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type_display"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type_priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User paid for full history plus rush service"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"request_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Records"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17241</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7881</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dong, Emily"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Emily"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dong"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"admin_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bowser"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"North 10th Street Animal Hospital"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-17T02:22:35.875Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"stripe_charge_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ch_19yAk9EBVec3KZrs0NBW60L3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-17T02:22:36.333Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"admin"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paid Rush Service"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type_display"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rush"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type_priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User paid for rush service"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"request_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Records"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17748</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">142</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HatsS, Emma"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Emma"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HatsS"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"admin_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Irving Pet Hospital"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-04-07T22:13:07.026Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"stripe_charge_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-04-07T22:13:12.501Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"admin"</span><span class="p">:</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic Record Retrieval"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type_display"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type_priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No add-ons purchased"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"request_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Records"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets a list of requests. This API is NOT PAGINATED so be careful about calling with statuses that have
a lot of requests, like &quot;complete&quot;.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET /admin/requests</code></p>
<h3 id='query-string-parameters'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>request.status</td>
<td>string?</td>
<td>Filters by status, e.g. &quot;new&quot;, &quot;pending vet&quot;, &quot;received&quot;, etc.</td>
</tr>
</tbody></table>
<h2 id='get-an-individual-request'>Get an individual request</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3413</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-25T01:12:21.343Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-27T22:48:39.615Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"checkout_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"checkout_notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"consent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pawprint-request-consent.s3.amazonaws.com/1-3413-1448413942761.pdf"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"admin"</span><span class="p">:</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w">
    </span><span class="s2">"stripe_charge_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code_notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code_description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic Record Retrieval"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type_display"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type_priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No add-ons purchased"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets an individual request by <code>request.id</code>.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET /admin/requests/:requestid</code></p>
<h2 id='update-request'>Update request</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"admin"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3413</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-11-25T01:12:21.343Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-27T22:48:39.615Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"checkout_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"checkout_notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"consent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pawprint-request-consent.s3.amazonaws.com/1-3413-1448413942761.pdf"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"admin"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"stripe_charge_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code_notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code_description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic Record Retrieval"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type_display"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type_priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No add-ons purchased"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Updates an individual request by patching the <code>request</code> row with the properties specified in the PUT body.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>PUT /admin/requests/:requestid</code></p>
<h2 id='notify-user-of-request-completion'>Notify user of request completion</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3314</span><span class="p">,</span><span class="w">
    </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27015</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Sends a notification to the user that their request is complete. The notification is
sent via push, email and/or SMS based on the user&#39;s preferences, which are set in the mobile app.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST /admin/notify/request</code></p>
<h3 id='post-body-parameters'>POST body parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>int</td>
<td>ID of the user to notify.</td>
</tr>
<tr>
<td>request_id</td>
<td>int</td>
<td>ID of the request.</td>
</tr>
<tr>
<td>pet_id</td>
<td>int</td>
<td>ID of the pet in the request.</td>
</tr>
<tr>
<td>place_id</td>
<td>int</td>
<td>ID of the place in the request.</td>
</tr>
</tbody></table>
<h2 id='get-update-any-user'>Get/Update any user</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Russell"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wilson"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(newly</span><span class="w"> </span><span class="err">updated</span><span class="w"> </span><span class="err">user</span><span class="w"> </span><span class="err">row)</span><span class="w">
</span></code></pre>
<p>Gets ANY user (if called with GET),
or updates ANY user by patching the <code>user</code> row with the properties specified in the PUT body.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET /admin/users/:userid</code></p>

<p><code>PUT /admin/users/:userid</code></p>
<h2 id='get-update-any-pet'>Get/Update any pet</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chewy"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(newly</span><span class="w"> </span><span class="err">updated</span><span class="w"> </span><span class="err">pet</span><span class="w"> </span><span class="err">row)</span><span class="w">
</span></code></pre>
<p>Gets ANY pet (if called with GET),
or updates ANY pet by patching the <code>pet</code> row with the properties specified in the PUT body.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>GET /admin/pets/:petid</code></p>

<p><code>PUT /admin/pets/:petid</code></p>
<h2 id='create-a-place'>Create a place</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jellystone Animal Hospital"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(555) 555-1234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Main St, Bellevue, WA 98004"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jellystone@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(555) 555-5768"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27015"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Creates a place. Automatically attempts to fill in the physical address&#39;s GPS coordinates and SEO information if <code>address</code> was specified.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>POST /admin/places</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>The place&#39;s name</td>
</tr>
<tr>
<td>phone</td>
<td>string?</td>
<td>The place&#39;s phone number</td>
</tr>
<tr>
<td>address</td>
<td>string?</td>
<td>The place&#39;s physical location address</td>
</tr>
<tr>
<td>email</td>
<td>string?</td>
<td>The place&#39;s email address</td>
</tr>
<tr>
<td>fax</td>
<td>string?</td>
<td>The place&#39;s fax number</td>
</tr>
<tr>
<td>website</td>
<td>string?</td>
<td>The place&#39;s web site address</td>
</tr>
<tr>
<td>verified</td>
<td>boolean?</td>
<td>Verified that the place is real. Defaults to <code>null</code> (not verified).</td>
</tr>
</tbody></table>
<h2 id='get-update-any-place'>Get/Update any place</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Main St, Bellevue, WA 98004"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(newly</span><span class="w"> </span><span class="err">updated</span><span class="w"> </span><span class="err">place</span><span class="w"> </span><span class="err">row)</span><span class="w">
</span></code></pre>
<p>Gets ANY vet/place (if called with GET),
or updates ANY vet/place by patching the <code>place</code> row with the properties specified in the PUT body.
Automatically attempts to fill in the physical address&#39;s GPS coordinates and SEO information if <code>address</code> was specified.</p>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>GET /admin/places/:place_id</code></p>

<p><code>PUT /admin/places/:place_id</code></p>
<h2 id='get-contact-history-for-a-request'>Get contact history for a request</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">43189</span><span class="p">,</span><span class="w">
        </span><span class="s2">"adminUser_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Template email sent"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17773</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contact_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-31T08:45:48.986Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-31T08:45:48.987Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"appointment_request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets contact history for a request.</p>
<h3 id='http-request-11'>HTTP Request</h3>
<p><code>GET /admin/requests/:requestid/logs</code></p>
<h2 id='add-to-contact-history-for-a-request'>Add to contact history for a request</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"adminUser_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Records were received and uploaded"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Records received"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-31T08:45:48.986Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Adds a new contact history log item to the request.</p>
<h3 id='http-request-12'>HTTP Request</h3>
<p><code>POST /admin/requests/:requestid/logs</code></p>
<h3 id='post-body-parameters-2'>POST body parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>adminUser_id</td>
<td>int?</td>
<td>Admin&#39;s user ID who is making the post, otherwise the currently logged in user.</td>
</tr>
<tr>
<td>notes</td>
<td>string</td>
<td>Log entry content - freeform string.</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Category of communication - freeform string.</td>
</tr>
<tr>
<td>timestamp</td>
<td>datetime</td>
<td>When the addition was made.</td>
</tr>
</tbody></table>
<h2 id='update-contact-history-log-entry'>Update contact history log entry</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Amended message content"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(newly</span><span class="w"> </span><span class="err">updated</span><span class="w"> </span><span class="err">contactHistory</span><span class="w"> </span><span class="err">row)</span><span class="w">
</span></code></pre>
<p>Updates an individual request by patching the <code>contactHistory</code> row with the properties specified in the PUT body.</p>
<h3 id='http-request-13'>HTTP Request</h3>
<p><code>PUT /admin/requests/:requestid/logs/:logid</code></p>
<h2 id='delete-contact-history-log-entry'>Delete contact history log entry</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Deletes a contact history log entry.</p>
<h3 id='http-request-14'>HTTP Request</h3>
<p><code>DELETE /admin/requests/:requestid/logs/:logid</code></p>
<h2 id='get-all-contact-history-regarding-a-certain-user-pet-place'>Get all contact history regarding a certain user/pet/place</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17785</span><span class="p">,</span><span class="w">
        </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Template email sent"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"adminFirstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Emily"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"adminId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-31T08:46:41.069Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"clientFirstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"clientLastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="mi">36486</span><span class="p">,</span><span class="w">
        </span><span class="s2">"petName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rover"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"petId"</span><span class="p">:</span><span class="w"> </span><span class="mi">65388</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test place"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">8443</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets all contact history regarding a certain user/pet/place. DO NOT CALL WITHOUT QUERY PARAMETERS or
else the response will be really long.</p>
<h3 id='http-request-15'>HTTP Request</h3>
<p><code>GET /admin/logs</code></p>
<h3 id='query-string-parameters-2'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>request.user_id</td>
<td>int?</td>
<td>Filters by user</td>
</tr>
<tr>
<td>request.pet_id</td>
<td>int?</td>
<td>Filters by pet</td>
</tr>
<tr>
<td>request.place_id</td>
<td>int?</td>
<td>Filters by place</td>
</tr>
</tbody></table>
<h2 id='get-pdf-records-from-a-request'>Get PDF records from a request</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14835</span><span class="p">,</span><span class="w">
        </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pawprint-request-pdf.s3.amazonaws.com/17773-123456789.pdf"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17773</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-04-05T22:56:12.257Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-04-05T22:56:12.257Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"undefined"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-04-05T07:00:00.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets all PDF records that were uploaded to a request.</p>
<h3 id='http-request-16'>HTTP Request</h3>
<p><code>GET /admin/requests/:requestid/pdfs</code></p>
<h2 id='upload-pdf-record-to-a-request'>Upload PDF record to a request</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Uploads a PDF to our Amazon S3 pdfBucket and saves the link in the <code>pdfRecord</code> table.</p>
<h3 id='http-request-17'>HTTP Request</h3>
<p><code>POST /admin/requests/:requestid/pdfs</code></p>
<h2 id='delete-pdf-record-to-a-request'>Delete PDF record to a request</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Soft-deletes the link to the PDF record from the <code>pdfRecord</code>; however, the actual PDF will remain in Amazon S3.</p>
<h3 id='http-request-18'>HTTP Request</h3>
<p><code>DELETE /admin/requests/:requestid/pdfs/:pdfid</code></p>
<h2 id='update-regenerate-consent-form'>Update/regenerate consent form</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Regenerates the consent PDF attached to the request, in case the request had something changed.</p>
<h3 id='http-request-19'>HTTP Request</h3>
<p><code>POST /admin/requests/:requestid/consents</code></p>
<h2 id='send-request-to-vet-via-email'>Send request to vet via email</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Emails a message and consent form to the vet associated with the request. <strong>THIS EMAIL WILL APPEAR
TO BE FROM CASSIE MOSS</strong>. This only works if the vet has an email address in the place table.</p>
<h3 id='http-request-20'>HTTP Request</h3>
<p><code>POST /admin/requests/:requestid/emails</code></p>
<h2 id='send-request-to-vet-via-fax'>Send request to vet via fax</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Faxes a message and consent form to the vet associated with the request. This only works if the vet has a fax number in the place table.</p>
<h3 id='http-request-21'>HTTP Request</h3>
<p><code>POST /admin/requests/:requestid/faxes</code></p>
<h2 id='get-contacts-for-a-vet'>Get contacts for a vet</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1214</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Olivia"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-09T14:32:23.371Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-09T14:32:23.371Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2823</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Katheryn"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-10T22:28:13.095Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-10T22:28:13.095Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets the contact information for people who work at a particular place.</p>
<h3 id='http-request-22'>HTTP Request</h3>
<p><code>GET /admin/places/:placeid/contacts</code></p>
<h2 id='add-contact-at-a-vet'>Add contact at a vet</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Russell Wilson"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manager"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example@getpawprint.com,
    "</span><span class="err">phone</span><span class="s2">": "</span><span class="mi">19145555555</span><span class="s2">"
}
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Adds contact information about someone who works at a particular place.</p>
<h3 id='http-request-23'>HTTP Request</h3>
<p><code>POST /admin/places/:placeid/contacts</code></p>
<h3 id='post-body-parameters-3'>POST body parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>The person&#39;s name.</td>
</tr>
<tr>
<td>title</td>
<td>string?</td>
<td>The person&#39;s title.</td>
</tr>
<tr>
<td>email</td>
<td>string?</td>
<td>The person&#39;s email address.</td>
</tr>
<tr>
<td>phone</td>
<td>string?</td>
<td>The person&#39;s phone number.</td>
</tr>
</tbody></table>
<h2 id='update-contact'>Update contact</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fred Rogers"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(newly</span><span class="w"> </span><span class="err">updated</span><span class="w"> </span><span class="err">contact</span><span class="w"> </span><span class="err">row)</span><span class="w">
</span></code></pre>
<p>Updates contact information about someone who works at a particular place.</p>
<h3 id='http-request-24'>HTTP Request</h3>
<p><code>PUT /admin/places/:placeid/contacts/:contactid</code></p>
<h2 id='delete-contact'>Delete contact</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Deletes a contact from a place.</p>
<h3 id='http-request-25'>HTTP Request</h3>
<p><code>DELETE /admin/places/:placeid/contacts/:contactid</code></p>
<h2 id='get-all-medications'>Get all medications</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">485</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seresto"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flea/tick collar"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"active_ingredient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"imidacloprid, flumethrin"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">284</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProHeart 6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Heartworm preventative"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"active_ingredient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"moxidectin"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets the list of all medications.</p>
<h3 id='http-request-26'>HTTP Request</h3>
<p><code>GET /admin/medications</code></p>
<h2 id='get-all-reminder-events'>Get all reminder events</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bordetella"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"primary_condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bordetella"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vaccine"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chlamydia"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"primary_condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chlamydia"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vaccine"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets the list of all reminder events.</p>
<h3 id='http-request-27'>HTTP Request</h3>
<p><code>GET /admin/reminder_events</code></p>
<h2 id='get-events-in-pet-record'>Get events in pet record</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18487291</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vaccine_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-03T04:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"serial"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tagnumber"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nexguard administered"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"creator"</span><span class="p">:</span><span class="w"> </span><span class="mi">1863</span><span class="p">,</span><span class="w">
        </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"historic"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"mood"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"show_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"autoimport"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reminder_event_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-03T04:11:09.153Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-03T04:11:09.153Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vaccineType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_ignored_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reminderEventName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"primary_condition"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reminderEventType"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joshua"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lu"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18440184</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vaccine_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-02T07:40:25.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"serial"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tagnumber"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flea medication"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"creator"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"historic"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"mood"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"show_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"autoimport"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reminder_event_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-02T07:40:35.505Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-02T07:40:35.505Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vaccineType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_ignored_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reminderEventName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"primary_condition"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reminderEventType"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18387474</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vaccine_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-09-16T19:11:02.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"serial"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tagnumber"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flea medication, nexgard"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"creator"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"historic"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"mood"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"show_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"autoimport"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reminder_event_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-09-16T19:11:23.043Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-09-16T19:11:23.043Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vaccineType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_ignored_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reminderEventName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"primary_condition"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reminderEventType"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets all events in a pet record, filtered by <code>event.type</code> (currently 1-10;
all values can be found in the <code>eventtype</code> table).</p>
<h3 id='http-request-28'>HTTP Request</h3>
<p><code>GET /admin/requests/:petid/events/:filter*?</code></p>
<h2 id='add-event-to-pet-record'>Add event to pet record</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"reminder_event_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-01T15:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-01T15:00:00Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Adds an event to a pet record.</p>
<h3 id='http-request-29'>HTTP Request</h3>
<p><code>POST /admin/requests/:requestid/events</code></p>
<h3 id='post-body-parameters-4'>POST body parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reminder_event_id</td>
<td>int</td>
<td>reminder_event ID - represents the vaccine or procedure that happened.</td>
</tr>
<tr>
<td>timestamp</td>
<td>datetime</td>
<td>When the vaccine or procedure happened.</td>
</tr>
<tr>
<td>expiry</td>
<td>datetime?</td>
<td>Optional - how long the vaccine or procedure is valid.</td>
</tr>
</tbody></table>
<h2 id='update-event-in-pet-record'>Update event in pet record</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"reminder_event_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-04T15:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-04T15:00:00Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(newly</span><span class="w"> </span><span class="err">updated</span><span class="w"> </span><span class="err">event</span><span class="w"> </span><span class="err">row)</span><span class="w">
</span></code></pre>
<p>Updates an event in a pet record.</p>
<h3 id='http-request-30'>HTTP Request</h3>
<p><code>PUT /admin/requests/:requestid/events/:eventid</code></p>
<h3 id='put-body-parameters'>PUT body parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reminder_event_id</td>
<td>int</td>
<td>reminder_event ID - represents the vaccine or procedure that happened.</td>
</tr>
<tr>
<td>timestamp</td>
<td>datetime</td>
<td>When the vaccine or procedure happened.</td>
</tr>
<tr>
<td>expiry</td>
<td>datetime?</td>
<td>Optional - how long the vaccine or procedure is valid.</td>
</tr>
</tbody></table>
<h2 id='delete-event-from-pet-record'>Delete event from pet record</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Deletes an event from a pet record. Although :requestid is a parameter, it is not used. :eventid
is the ID in the event table that should be deleted.</p>
<h3 id='http-request-31'>HTTP Request</h3>
<p><code>DELETE /admin/requests/:requestid/events/:eventid</code></p>
<h1 id='admin-portal-v2'>Admin portal V2</h1>
<p>Now includes partner information, insurance claims, intake forms and partner requests!</p>
<h2 id='get-status-counts'>Get status counts</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"requests"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"initializing"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"new"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"verbal requested"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"verbal complete"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pending user"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pending vet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"complete"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"complete linked"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"appointment_requests"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"new"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pending user"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pending vet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"complete"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"claims"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"initializing"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pending records"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"in review"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"complete"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"intake"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"pending user"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pending records"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"in review"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"complete"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets the status and count for each type of admin portal item. Each type of admin portal item has its endpoint as well, which returns the appropriate subset of statuses, e.g. <code>/admin/v2/statuses/requests</code>, <code>/admin/v2/statuses/intake</code>, etc.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /admin/v2/statuses</code></p>
<h2 id='get-record-requests'>Get record requests</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">45181</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">70420</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User, Test"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">104308</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spot"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46108</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rainbow Road Emergency Vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_vet_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T00:28:38.626Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T00:28:38.626Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"admin"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"admin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Emily"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"product"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pawprintfarm"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Insurance - Pawprint Farm"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">45180</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">70420</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User, Test"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">104308</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spot"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46107</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jellystone Animal Hospital"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_vet_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T00:28:38.616Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T00:28:38.616Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"admin"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"admin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Emily"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"product"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pawprintfarm"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Insurance - Pawprint Farm"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">45179</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">70420</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User, Test"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">104308</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spot"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46107</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jellystone Animal Hospital"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_vet_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-17T22:27:06.743Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-17T22:27:06.743Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"admin"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"admin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Emily"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"product"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"megavet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Intake - Megavet record request"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-30"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46109</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">45178</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">70420</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User, Test"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">104308</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spot"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46106</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Peanut Butter Veterinary Clinic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_vet_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-17T22:27:06.725Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-17T22:27:06.725Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"admin"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"admin_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"product"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"megavet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Intake - Megavet record request"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-30"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46109</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets a list of record request summaries.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /admin/v2/requests</code></p>
<h3 id='query-string-parameters'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>$top</td>
<td>int?</td>
<td>Limits number of results.</td>
</tr>
<tr>
<td>$skip</td>
<td>int?</td>
<td>Offsets number of results.</td>
</tr>
<tr>
<td>sort_by</td>
<td>string?</td>
<td>Either <code>{&quot;created_at&quot;:&quot;asc&quot;}</code>, <code>{&quot;created_at&quot;:&quot;desc&quot;}</code>, <code>{&quot;updated_at&quot;:&quot;asc&quot;}</code> or <code>{&quot;updated_at&quot;:&quot;desc&quot;}</code>. Default field is <code>{&quot;updated_at&quot;:&quot;desc&quot;}</code>.</td>
</tr>
<tr>
<td>filter</td>
<td>string?</td>
<td>Filter fields separated by commas, e.g. <code>filter={&quot;place_name&quot;:&quot;banf&quot;,&quot;pet_name&quot;:&quot;er&quot;}</code>. All channels support filtering by <code>user_name</code>, <code>pet_name</code>, <code>status</code> and <code>place_name</code>. Record requests also supports <code>id</code>, <code>user_id</code>, <code>pet_id</code> and <code>place_id</code>/<code>vet_id</code>.</td>
</tr>
</tbody></table>
<h2 id='get-a-record-request'>Get a record request</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">45179</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">70420</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">104308</span><span class="p">,</span><span class="w">
    </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46107</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pawprint_vet_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pawprint_vet_place_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending vet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-17T22:27:06.743Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-17T22:27:06.743Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"checkout_notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"consent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.getpawprint.com/consent.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"admin"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"He bites hands occasionally"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"order"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1020</span><span class="p">,</span><span class="w">
    </span><span class="s2">"stripe_charge_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stripecharge0010"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"promocode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flat5"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"charge_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1998</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"product"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"megavet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Intake - Megavet record request"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full medical records for Megavet intake"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"partner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1468</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Megavet Co."</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"claims"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"insurance_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint Farm"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"intake"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">41</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in review"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27015</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Animal Clinic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-02"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10:00 am"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Irving Pet Hospital"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-05-02"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10:30 am"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets an individual request&#39;s details. Depending on the channel that the request came from, <code>partner</code>, <code>links</code> and <code>claim</code> may be null.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET /admin/v2/requests/:request_id</code></p>
<h2 id='get-appointment-requests'>Get appointment requests</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">807</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">70420</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46106</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">104308</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test User"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pawprint_vet_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pawprint_vet_place_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"admin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Emily"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spot"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Peanut Butter Veterinary Clinic"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending vet"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T01:17:39.508Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T01:17:39.508Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"admin"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets a list of appointment request summaries.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET /admin/v2/appointment_requests</code></p>
<h3 id='query-string-parameters-2'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>$top</td>
<td>int?</td>
<td>Limits number of results.</td>
</tr>
<tr>
<td>$skip</td>
<td>int?</td>
<td>Offsets number of results.</td>
</tr>
<tr>
<td>sort_by</td>
<td>string?</td>
<td>Either <code>{&quot;created_at&quot;:&quot;asc&quot;}</code>, <code>{&quot;created_at&quot;:&quot;desc&quot;}</code>, <code>{&quot;updated_at&quot;:&quot;asc&quot;}</code> or <code>{&quot;updated_at&quot;:&quot;desc&quot;}</code>. Default field is <code>{&quot;updated_at&quot;:&quot;desc&quot;}</code>.</td>
</tr>
<tr>
<td>filter</td>
<td>string?</td>
<td>Filter fields separated by commas, e.g. <code>filter={&quot;place_name&quot;:&quot;banf&quot;,&quot;pet_name&quot;:&quot;er&quot;}</code>. All channels support filtering by <code>user_name</code>, <code>pet_name</code>, <code>status</code> and <code>place_name</code>. Record and appointment requests also support <code>admin_name</code>.</td>
</tr>
</tbody></table>
<h2 id='get-an-appointment-request'>Get an appointment request</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">807</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">70420</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test User"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testuser@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"425-555-5555"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">104308</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spot"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dog"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Staffordshire Terrier"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46106</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending vet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T01:17:39.508Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T01:17:39.508Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wellness exam"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bites hands occasionally"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"2019-04-22T08:30:00-07:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"2019-04-22T09:00:00-07:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"2019-04-22T20:00:00-07:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"2019-04-22T19:30:00-07:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"2019-04-22T19:00:00-07:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"2019-04-22T18:30:00-07:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"2019-04-22T18:00:00-07:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"2019-04-22T17:30:00-07:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"2019-04-22T17:00:00-07:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"2019-04-22T16:30:00-07:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"2019-04-22T16:00:00-07:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"2019-04-22T09:30:00-07:00"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"accepted_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-22T15:30:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"admin_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"admin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Emily"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets a single appointment request&#39;s details.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET /admin/v2/appointment_requests/:appointment_request_id</code></p>
<h2 id='get-insurance-claims'>Get insurance claims</h2><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">327</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">70420</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46106</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">104308</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User, Test"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spot"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Peanut Butter Veterinary Clinic"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"insurance_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint Farm"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending records"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T00:28:38.611Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-18T00:28:38.611Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">326</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37683</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27015</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">103843</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Choi, Eric"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Glumpy"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint, Inc."</span><span class="p">,</span><span class="w">
      </span><span class="s2">"insurance_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nationwide"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-16T17:00:02.552Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-16T17:00:02.552Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets a list of insurance claims.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>GET /admin/v2/claims</code></p>
<h3 id='query-string-parameters-3'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>$top</td>
<td>int?</td>
<td>Limits number of results.</td>
</tr>
<tr>
<td>$skip</td>
<td>int?</td>
<td>Offsets number of results.</td>
</tr>
<tr>
<td>sort_by</td>
<td>string?</td>
<td>Either <code>{&quot;created_at&quot;:&quot;asc&quot;}</code>, <code>{&quot;created_at&quot;:&quot;desc&quot;}</code>, <code>{&quot;updated_at&quot;:&quot;asc&quot;}</code> or <code>{&quot;updated_at&quot;:&quot;desc&quot;}</code>. Default field is <code>{&quot;updated_at&quot;:&quot;desc&quot;}</code>.</td>
</tr>
<tr>
<td>filter</td>
<td>string?</td>
<td>Filter fields separated by commas, e.g. <code>filter={&quot;place_name&quot;:&quot;banf&quot;,&quot;pet_name&quot;:&quot;er&quot;}</code>. All channels support filtering by <code>user_name</code>, <code>pet_name</code>, <code>status</code> and <code>place_name</code>. Claims also supports <code>insurance_name</code>.</td>
</tr>
</tbody></table>
<h2 id='get-an-insurance-claim'>Get an insurance claim</h2><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">327</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">70420</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">104308</span><span class="p">,</span><span class="w">
  </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46106</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pet_insurance_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2847</span><span class="p">,</span><span class="w">
  </span><span class="s2">"visit_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wellness"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"symptoms_start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-01"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"diagnosis"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gastroenteritis"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"is_new_condition"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"was_claimed_before"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"invoice_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-05"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"invoice_total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"259.33"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"treatment_start_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"treatment_end_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.getpawprint.com/signature.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"should_create_request"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending records"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.getpawprint.com/claim.pdf"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"additional_insurance_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"additional_insurance_cancel_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"symptoms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"Diarrhea"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Vomiting"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Lack of appetite"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.getpawprint.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My uploaded file"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"requests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">45180</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending vet"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jellystone Animal Hospital"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">45181</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rainbow Road Emergency Vet"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets a single insurance claim&#39;s details.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET /admin/v2/claims/:claim_id</code></p>
<h2 id='get-intake-forms'>Get intake forms</h2><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">93</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">70420</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User, Test"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">104308</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spot"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"partner_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1468</span><span class="p">,</span><span class="w">
      </span><span class="s2">"partner_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Megavet Co."</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending records"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-17T23:58:12.932Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-17T23:58:19.764Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-30"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46109</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Megavet of Lakeshire"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"admin_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"admin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Emily"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets a list of intake forms.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>GET /admin/v2/intake</code></p>
<h3 id='query-string-parameters-4'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>$top</td>
<td>int?</td>
<td>Limits number of results.</td>
</tr>
<tr>
<td>$skip</td>
<td>int?</td>
<td>Offsets number of results.</td>
</tr>
<tr>
<td>sort_by</td>
<td>string?</td>
<td>JSON object, where the key is the sort field and the value is the sort direction (<code>asc</code> or <code>desc</code>). Sort fields are <code>created_at</code>, <code>updated_at</code>, and <code>appointment_time</code>. Default is <code>{&quot;updated_at&quot;:&quot;desc&quot;}</code>.</td>
</tr>
<tr>
<td>filter</td>
<td>string?</td>
<td>Filter fields separated by commas, e.g. <code>filter={&quot;place_name&quot;:&quot;banf&quot;,&quot;pet_name&quot;:&quot;er&quot;}</code>. All channels support filtering by <code>user_name</code>, <code>pet_name</code>, <code>status</code> and <code>place_name</code>. Intake also supports <code>partner_name</code>.</td>
</tr>
</tbody></table>
<h2 id='get-an-intake-form'>Get an intake form</h2><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">93</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending records"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">70420</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User, Test"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">104308</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spot"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"partner_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1468</span><span class="p">,</span><span class="w">
  </span><span class="s2">"partner_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Megavet Co."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pawprint-summary.s3.aws.amazon.com/YJ1300cllreiancFl.pdf"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"review_notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"* Missed a year of rabies"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-17T23:58:12.932Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-17T23:58:19.764Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-30"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19:35"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46109</span><span class="p">,</span><span class="w">
    </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Megavet of Lakeshire"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"requests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">45178</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending vet"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">547</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Peanut Butter Veterinary Clinic"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(206) 555-5555"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">45179</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending vet"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14501</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jellystone Animal Hospital"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(425) 555-5555"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"admin_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"admin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Emily"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets an individual intake form.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>GET /admin/v2/intake/:intake_id</code></p>
<h2 id='update-intake-form-admin'>Update intake form (admin)</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"review_notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bites hands occasionally"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"admin_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Updates an intake form. Only the admin, review notes or status can be updated. Setting the status to <code>complete</code> will cause the
Pawprint Summary to be automatically generated and the URL stored in <code>intake.link</code>.</p>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>PUT /admin/v2/intake/:intake_id</code></p>
<h3 id='put-parameters'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string?</td>
<td>One of &quot;in review&quot;, &quot;complete&quot; or &quot;cancelled&quot;.</td>
</tr>
<tr>
<td>review_notes</td>
<td>string?</td>
<td>Important observations that came up during the admin review.</td>
</tr>
<tr>
<td>admin_id</td>
<td>int?</td>
<td>Assigns an admin to handle this case.</td>
</tr>
</tbody></table>
<h2 id='regenerate-pawprint-summary'>Regenerate Pawprint Summary</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pawprint-summary.s3.aws.amazon.com/YJ1300cllreiancFl.pdf"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Regenerates the Pawprint Summary PDF and stores the URL in <code>intake.link</code>.</p>
<h3 id='http-request-11'>HTTP Request</h3>
<p><code>POST /admin/v2/intake/:intake_id/summary</code></p>
<h2 id='get-intakes-for-pet'>Get intakes for pet</h2><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37683</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Choi, Eric"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">68795</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Glumpy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"partner_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="s2">"partner_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint Farm"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-25T00:30:34.941Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-25T00:30:34.941Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-24"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1:30 pm"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27015</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Animal Clinic"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets all intakes associated with a pet.</p>
<h3 id='http-request-12'>HTTP Request</h3>
<p><code>GET /admin/pets/:petid/intake</code></p>
<h2 id='get-insurance-claims-for-pet'>Get insurance claims for pet</h2><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000003</span><span class="p">,</span><span class="w">
    </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27015</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000033</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zo, Eli"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dates"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Animal Clinic"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"insurance_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASPCA Pet Health Insurance"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending records"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-09T15:16:23.305Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-09T15:16:23.305Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets all insurance claims associated with a pet.</p>
<h3 id='http-request-13'>HTTP Request</h3>
<p><code>GET /admin/pets/:petid/claims</code></p>
<h2 id='get-appointment-requests-for-pet'>Get appointment requests for pet</h2><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">314</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">159</span><span class="p">,</span><span class="w">
    </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2653</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">58979</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pawprint_vet_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pawprint_vet_place_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"admin_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Glumpy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Laurel Pet Hospital"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-20T17:57:50.083Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-04-20T19:51:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"admin"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets all appointment requests associated with a pet.</p>
<h3 id='http-request-14'>HTTP Request</h3>
<p><code>GET /admin/pets/:petid/appointment_request</code></p>
<h2 id='get-places'>Get places</h2><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14501</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Banfield of Bellevue Overlake"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15445 NE 24th St, Bellevue, WA 98007"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.banfield.com/our-hospitals/hospital-locations/location-pages/BEO"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(425) 746-2865"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4257474883"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"na"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contactMethod"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pawprint_note"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-01T20:51:36.252Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-26T21:56:04.922Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">547</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Banfield of Bellevue"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100 108th Ave NE, Bellevue, WA 98004"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.banfield.com/our-hospitals/hospital-locations/location-pages/BLV"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(425) 454-7023"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4254548967"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contactMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Call"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pawprint_note"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-26T16:41:11.921Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-26T21:56:04.922Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets a list of Pawprint places only (does not query Google Places), optionally with sorting and filtering.</p>

<p>Supported filters are:</p>

<ul>
<li><code>name</code></li>
<li><code>address</code> - matches freeform strings in the <code>place.address</code> field only. Address strings typically contain a zip code and a city name.</li>
<li><code>phone</code> - Numbers only. When searching the database, phone numbers like &quot;(425) 753-1234&quot; are normalized to &quot;4257536174&quot;, so filtering with &quot;42575&quot; will still produce a match.</li>
</ul>
<h3 id='http-request-15'>HTTP Request</h3>
<p><code>GET /admin/v2/places</code></p>
<h3 id='query-string-parameters-5'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>$top</td>
<td>int?</td>
<td>Limits number of results.</td>
</tr>
<tr>
<td>$skip</td>
<td>int?</td>
<td>Offsets number of results.</td>
</tr>
<tr>
<td>sort_by</td>
<td>string?</td>
<td>JSON object, where the key is the sort field and the value is the sort direction (<code>asc</code> or <code>desc</code>). Sort fields are <code>created_at</code>, <code>updated_at</code>, and <code>id</code>. Default is <code>{&quot;updated_at&quot;:&quot;desc&quot;}</code>.</td>
</tr>
<tr>
<td>filter</td>
<td>string?</td>
<td>Filter fields separated by commas, e.g. <code>filter={&quot;name&quot;:&quot;banf&quot;,&quot;address&quot;:&quot;98004&quot;,&quot;phone&quot;:&quot;425&quot;}</code>.</td>
</tr>
</tbody></table>
<h2 id='add-intake-log-entry'>Add intake log entry</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Automated reminder"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sent an automated reminder"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Adds an entry to the <code>intake_log</code> table.</p>
<h3 id='http-request-16'>HTTP Request</h3>
<p><code>POST /admin/v2/intake/:intake_id/logs</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Note type (Ideally a limited set)</td>
</tr>
<tr>
<td>notes</td>
<td>string</td>
<td>Note body</td>
</tr>
</tbody></table>
<h2 id='get-intake-logs'>Get intake logs</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"admin_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"admin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"System"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Automated event"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Automatically advanced to 'in review'"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-21T00:35:42Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"admin_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"admin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Emily Dong"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Appointment delayed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Vet notified me of something"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T00:35:42Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets all the log entries for an intake.</p>
<h3 id='http-request-17'>HTTP Request</h3>
<p><code>GET /admin/v2/intake/:intake_id/logs</code></p>
<h1 id='appointments'>Appointments</h1>
<p>Appointment booking, cancellations and status.</p>
<h2 id='get-appointment-types'>Get appointment types</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wellness exam"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-11T00:53:50.425Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-11T00:53:50.425Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Illness/injury"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-11T00:53:50.425Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-11T00:53:50.425Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Vaccines"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-11T00:53:50.425Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-11T00:53:50.425Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New client"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-11T00:53:50.425Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-11T00:53:50.425Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tech visit"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-11T00:53:50.425Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-11T00:53:50.425Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dental"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-11T00:53:50.425Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-11T00:53:50.425Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Emergency"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-11T00:53:50.425Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-11T00:53:50.425Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets appointment types from the <code>appointment_type</code> table. <code>place_id</code> null is the default set of appointment types.
There used to be plans to support Pawprint vets customizing their own appointment types, but that didn&#39;t happen.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /place/appointment_type_options</code></p>
<h2 id='book-an-appointment'>Book an appointment</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">email</span><span class="p">:</span><span class="w"> </span><span class="err">'john@getpawprint.com'</span><span class="p">,</span><span class="w">
  </span><span class="err">phone</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">425-555-1234</span><span class="err">'</span><span class="p">,</span><span class="w">
  </span><span class="err">pet_name</span><span class="p">:</span><span class="w"> </span><span class="err">'Pumpkin'</span><span class="p">,</span><span class="w">
  </span><span class="err">pet_species</span><span class="p">:</span><span class="w"> </span><span class="err">'Cat'</span><span class="p">,</span><span class="w">
  </span><span class="err">pet_breed</span><span class="p">:</span><span class="w"> </span><span class="err">'Domestic</span><span class="w"> </span><span class="err">shorthair'</span><span class="p">,</span><span class="w">
  </span><span class="err">appointment_type_id</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="err">time</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">'</span><span class="mi">2017-12-15</span><span class="err">T</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00-06</span><span class="p">:</span><span class="mi">00</span><span class="err">'</span><span class="p">],</span><span class="w">
  </span><span class="err">notes</span><span class="p">:</span><span class="w"> </span><span class="err">'Testing'</span><span class="p">,</span><span class="w">
  </span><span class="err">user_name</span><span class="p">:</span><span class="w"> </span><span class="err">'John</span><span class="w"> </span><span class="err">Smith'</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Creates an appointment request in the <code>appointment_request</code> table. If the vet is a Pawprint vet, an email is automatically sent to the vet.
Otherwise, the appointment request will appear on the admin dashboard for someone to handle. Some Pawprint
vets are walk-in only, so the app should block appointment requests for these places and display the
<code>place.custom_message</code> message for that vet.</p>

<aside class="notice">
This is a public API and does not require authentication. If this is called on behalf of a logged in user,
the client is expected to populate fields based on the user and pet profile.
</aside>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /user/appointment_requests</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Requester&#39;s email address</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>Requester&#39;s phone number</td>
</tr>
<tr>
<td>pet_id</td>
<td>int?</td>
<td>ID from the <code>pet</code> table, if available.</td>
</tr>
<tr>
<td>pet_name</td>
<td>string</td>
<td>Pet&#39;s name</td>
</tr>
<tr>
<td>pet_species</td>
<td>string</td>
<td>Cat, dog, rabbit, etc.</td>
</tr>
<tr>
<td>pet_breed</td>
<td>string</td>
<td>Pet breed, e.g. Chihuahua, Persian, Angora</td>
</tr>
<tr>
<td>appointment_type_id</td>
<td>int</td>
<td>ID from the <code>appointment_type</code> table (see above).</td>
</tr>
<tr>
<td>time</td>
<td>array of datetimes</td>
<td>Requester&#39;s desired times (vet/admin should pick one)</td>
</tr>
<tr>
<td>notes</td>
<td>string?</td>
<td>Notes to the vet</td>
</tr>
<tr>
<td>user_name</td>
<td>string</td>
<td>Requester&#39;s name</td>
</tr>
</tbody></table>
<h2 id='get-appointment-requests'>Get appointment requests</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">700</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Super Test Vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Main Street, Ligonier, IN 46767"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"2018-12-07T10:00:00-05:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"2018-12-07T11:00:00-05:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"2018-12-07T12:00:00-05:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"2018-12-07T13:00:00-05:00"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr. Peabody"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"accepted_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Vaccines"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets appointment requests for the &quot;Book an appointment&quot; feature,
regardless of new/pending/complete/cancelled status.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET /user/appointment_requests</code></p>
<h2 id='get-upcoming-appointments'>Get upcoming appointments</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">309185</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cuddles"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint Demo Vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1020 NW 192nd St Suite L, Edmond, OK 73012"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-20T16:00:00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">309642</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">612</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Max"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint Demo Vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1020 NW 192nd St Suite L, Edmond, OK 73012"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-20T16:00:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets all upcoming appointments, including from the <code>vet_schedule</code> table. Excludes cancelled or rescheduled appointments
and excludes appointment requests that haven&#39;t been completed by an admin yet.</p>

<p><code>date</code> values may or may not have a timezone. This is because appointments in <code>appointment_request</code> are timezone-aware (a fixed point in time),
while appointments in the <code>vet_schedule</code> table are naive (not timezone-aware). If <code>date</code> has no time zone, it should be assumed to be
in the client&#39;s local time zone. If <code>date</code> does have a time zone, it should be converted to the client&#39;s local time zone before rendering.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET /user/upcoming_appointments</code></p>
<h2 id='cancel-an-appointment-request'>Cancel an appointment request</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Cancels an appointment request.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST /user/appointment_requests/:id</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>int</td>
<td>ID from the <code>appointment_request</code> table.</td>
</tr>
</tbody></table>
<h2 id='confirm-a-pawprint-vet-appointment'>Confirm a Pawprint vet appointment</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Confirms a pending Pawprint vet appointment via confirmation code. Appointment confirmations are emailed or SMSed to clients
up to 48 hours in advance. SMS clients can either respond &#39;1&#39; to confirm an appointment, or can cancel with &#39;2&#39;.
Email clients can click the confirmation link that goes to https://www.getpawprint.com/appointment_confirmation/:code.
Confirmation codes are randomly generated and stored in the <code>vet_schedule.confirmation_code</code> field. One confirmation code
can cover multiple appointments if a client has multiple appointments with the same vet on the same day.</p>

<aside class="notice">
This is a public API and does not require authentication.
</aside>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>GET /appointment_confirmation/:code</code></p>
<h1 id='events-v2'>Events V2</h1>
<p>Use these as a template by copying and pasting them.</p>
<h2 id='get-pet-events'>Get pet events</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"paging"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18429185</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="s2">"creator"</span><span class="p">:</span><span class="w"> </span><span class="mi">37683</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eric"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Choi"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-08T18:37:07.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"show_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16260729</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"creator"</span><span class="p">:</span><span class="w"> </span><span class="mi">37683</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eric"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Choi"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-08T17:12:06.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"show_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"reminder_event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bordetella"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vaccine"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"primary_condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bordetella"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"vaccination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-08T07:00:00.000Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tagnumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43245"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"expiryStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"expired"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16260728</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="s2">"creator"</span><span class="p">:</span><span class="w"> </span><span class="mi">37683</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eric"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Choi"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-08T17:11:13.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"show_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Type 2 poo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3839524</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="s2">"creator"</span><span class="p">:</span><span class="w"> </span><span class="mi">51694</span><span class="p">,</span><span class="w">
      </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-02T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"show_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bordetella Oral 1 year"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27015</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Animal Clinic"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">322002</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
      </span><span class="s2">"creator"</span><span class="p">:</span><span class="w"> </span><span class="mi">51694</span><span class="p">,</span><span class="w">
      </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-11T07:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"show_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Office visit"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27015</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Animal Clinic"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns pet events in reverse chronological order (newest first), with optional filters applied.</p>
<h4 id='pagination'>Pagination</h4>
<p>Use the <code>$skip</code> and <code>$top</code> parameters. V1 events used <code>since_time</code> as the index parameter,
but in that scheme, multiple events with the exact same timestamp would cause more than <code>$top</code> results to be returned.
Paging information is in the <code>paging</code> object of the response; in particular, <code>paging.next</code> should be passed directly as the
<code>$skip</code> parameter of the call to get the next page, and paging should be stopped when <code>paging.next</code> &gt;= <code>paging.total</code>.</p>
<h4 id='description-of-response-fields'>Description of response fields</h4>
<ul>
<li><code>id</code></li>
<li><code>type</code> - Event type; foreign key ref into the <code>eventtype</code> table.</li>
<li><code>creator</code> - ID of the user who created the event.</li>
<li><code>first_name</code> - First name of the user who created the event; may be null if the event was linked from vet data.</li>
<li><code>first_name</code> - Last name of the user who created the event; may be null if the event was linked from vet data.</li>
<li><code>timestamp</code></li>
<li><code>show_time</code> - Display flag; there are certain events where the time of day is significant and should be displayed (e.g. went for a walk), and other events where it is not (e.g. date of adoption).</li>
<li><code>status</code> - Display text; a short summary of the event written by the user or a Pawprint admin.</li>
<li><code>data</code> - Right now this only contains the weight (in pounds) for <code>type</code> = 5 (weight event).</li>
<li><code>verified</code> - <code>true</code> only for events that were created by a Pawprint admin or vet integration; <code>false</code> otherwise.</li>
<li><code>images</code> - Array of image URLs attached to the event; may be null.</li>
<li><code>place</code> - Object containing information about where this event occurred; may be null.

<ul>
<li><code>id</code> - ID of the place where the event occurred.</li>
<li><code>name</code> - Name of the place where the event occurred.</li>
</ul></li>
<li><code>reminder_event</code> - Object containing information about the condition or procedure associated with this event; may be null.

<ul>
<li><code>id</code> - ID of the <code>reminder_event</code> of the event; the <code>reminder_event</code> table enumerates a list of vaccines, blood tests, procedures, exams and medications that are known to Pawprint and for which reminders may be set. Reminders may be set by Pawprint admins (as part of a records request) or by users.</li>
<li><code>name</code> - The <code>reminder_event</code>&#39;s type.</li>
<li><code>type</code> - The <code>reminder_event</code>&#39;s type; current possible values are <code>vaccine</code>, <code>medication</code>, <code>procedure</code>, <code>exam</code>, <code>lab_blood</code> and <code>lab_stool</code>.</li>
<li><code>primary_condition</code> - Primary condition covered by <code>vaccine</code> and <code>lab_blood</code> reminder event types. For example, &quot;Distemper-parvo&quot; is the primary condition covered by any of &quot;DA2PP&quot;, &quot;DA2PPC&quot; or &quot;Durammune Max 5&quot;.</li>
</ul></li>
<li><code>vaccination</code> - Object containing information about this specific vaccination; may be null.

<ul>
<li><code>expiry</code> - Vaccine expiration date (if any)</li>
<li><code>expiryStatus</code> - <code>expired</code> if the vaccination is expired; <code>coming due</code> if the vaccination is less than 1 month away from expiration; <code>active</code> if the vaccination is not expired or coming due and also not &quot;covered&quot; by a more recent vaccination for the same primary condition; <code>historic</code> if the vaccination is still active but &quot;covered&quot; by a more recent vaccination for the same primary condition.</li>
<li><code>serial</code> - For certain vaccinations</li>
<li><code>tagnumber</code> - For certain vaccinations</li>
</ul></li>
</ul>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /user/v2/pet/:pet_id/events</code></p>
<h3 id='query-string-parameters'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event_type</td>
<td>string?</td>
<td>Filters by <code>event.type</code> (see <code>eventtype</code> table in the database)</td>
</tr>
<tr>
<td>$skip</td>
<td>int?</td>
<td>0-based beginning index of events. Defaults to 0.</td>
</tr>
<tr>
<td>$top</td>
<td>int?</td>
<td>Limits number of events in result. Defaults to 25.</td>
</tr>
</tbody></table>
<h1 id='followup-surveys'>Followup surveys</h1>
<p>Followup surveys are generated the day after an appointment. The queue is necessary because we have no idea how an appointment actually went, or at all, and it could&#39;ve gone badly - e.g. a cat was too scared for a checkup and the client needed to come back later, or a checkup ended in euthanasia.</p>
<h2 id='update-a-followup-survey'>Update a followup survey</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"stars"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"feedback"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Very clean and professional"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Updates a followup survey. The survey is created by a periodic Luigi task and the link (with
a randomized external ID) is emailed out to users. It can be updated an arbitrary number of times.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>PUT /followup/:followup_external_id</code></p>
<h3 id='put-parameters'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>stars</td>
<td>int?</td>
<td>Number of stars</td>
</tr>
<tr>
<td>feedback</td>
<td>string?</td>
<td>Text review string</td>
</tr>
</tbody></table>
<h2 id='get-pending-followup-surveys-for-approval'>Get pending followup surveys for approval</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">48</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eric"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Choi"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vet_user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456</span><span class="p">,</span><span class="w">
    </span><span class="s2">"appointments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Glumpy"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Re-check"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-30T12:30"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tobi"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Vaccine"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-30T13:30"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>
<p>Vet API. Gets all pending followup surveys for approval, from newest to oldest.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /vet/followup/queue</code></p>
<h3 id='get-parameters'>GET parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>show_all</td>
<td>bool?</td>
<td>Whether or not to return all (approved, rejected and pending) followup surveys. Only pending surveys are returned by default.</td>
</tr>
<tr>
<td>dir</td>
<td>string?</td>
<td>Sort order for date. <code>asc</code> or <code>desc</code>. Defaults to <code>desc</code>.</td>
</tr>
</tbody></table>
<h2 id='approve-or-reject-a-followup-survey'>Approve or reject a followup survey</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"approved"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Vet API. Approves or rejects a followup survey. Approval will trigger the email to be sent.
Rejection will prevent the survey from showing up again.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /vet/followup/queue/:followup_id</code></p>
<h3 id='put-parameters-2'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>approved</td>
<td>bool</td>
<td>Whether or not to send the followup survey.</td>
</tr>
</tbody></table>
<h1 id='insurance-claims'>Insurance claims</h1>
<p>API to create an insurance claim. Each claim consists of a user, pet, place, claim-specific information, and one or more invoice documents. The user may create a record request while filling out the claim; the claim will then only be submitted after the record request is complete. If the user opts out of the record request, then the claim will be submitted as soon as the user is finished filling it out.</p>
<h2 id='get-insurance-companies'>Get insurance companies</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24PetWatch"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"integrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"logo"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AKC Pet Healthcare Plan"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"integrated"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"logo"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets the list of all insurance companies known to Pawprint.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /user/insurance</code></p>
<h2 id='add-a-pet-insurance-policy'>Add a pet insurance policy</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"insurance_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"policy_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A10358"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Adds a pet insurance policy.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /pets/:petid/insurance</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>policy_number</td>
<td>string</td>
<td>Pet insurance policy number.</td>
</tr>
<tr>
<td>insurance_id</td>
<td>int</td>
<td>ID from the</td>
</tr>
</tbody></table>
<h2 id='delete-a-pet-39-s-insurance-policies'>Delete a pet&#39;s insurance policies</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Deletes a pet&#39;s insurance policies. Typically a pet has only 1.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>DELETE /pets/:petid/insurance</code></p>
<h2 id='create-a-claim'>Create a claim</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2345</span><span class="p">,</span><span class="w">
  </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27015</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pet_insurance_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">66</span><span class="p">,</span><span class="w">   
  </span><span class="s2">"visit_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wellness exam"</span><span class="p">,</span><span class="w">    
  </span><span class="s2">"symptoms_start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-01"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"symptoms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"Diarrhea"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Vomiting"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Lack of appetite"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"diagnosis"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gastroenteritis"</span><span class="p">,</span><span class="w">   
  </span><span class="s2">"is_new_condition"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
  </span><span class="s2">"was_claimed_before"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">  
  </span><span class="s2">"should_create_request"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">    
  </span><span class="s2">"treatment_start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-01"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"treatment_end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-08"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint-claims/sig.png"</span><span class="p">,</span><span class="w"> 
  </span><span class="s2">"invoice_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6425537"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"invoice_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-10"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"invoice_total"</span><span class="p">:</span><span class="w"> </span><span class="mf">253.87</span><span class="p">,</span><span class="w">
  </span><span class="s2">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">167</span><span class="p">,</span><span class="w"> </span><span class="mi">168</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"additional_insurance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASPCA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancel_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-18"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1345</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Creates a claim, which uses the information to create a row in the database and reserves an ID.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST /user/claims</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pet_id</td>
<td>int</td>
<td>ID from the <code>pet</code> table. The user must be the pet&#39;s owner (<code>pet.owner</code>)...?</td>
</tr>
<tr>
<td>place_id</td>
<td>int</td>
<td>The vet where invoices are coming from for this claim.</td>
</tr>
<tr>
<td>pet_insurance_id</td>
<td>int</td>
<td>ID from the <code>pet_insurance</code> table.</td>
</tr>
<tr>
<td>visit_type</td>
<td>string</td>
<td>One of &quot;wellness&quot;, &quot;injury&quot;, &quot;accident&quot;, or... Freeform string?</td>
</tr>
<tr>
<td>symptoms_start_date</td>
<td>datetime or string</td>
<td>If a datetime is passed, only the date will be stored and the time portion will be truncated. Stored as a timezone-agnostic string in the database.</td>
</tr>
<tr>
<td>symptoms</td>
<td>string[]</td>
<td>List of symptoms</td>
</tr>
<tr>
<td>diagnosis</td>
<td>string</td>
<td>Freeform string of the vet&#39;s diagnosis</td>
</tr>
<tr>
<td>is_new_condition</td>
<td>bool</td>
<td>Answer to &quot;This is a new condition&quot;</td>
</tr>
<tr>
<td>was_claimed_before</td>
<td>bool</td>
<td>Answer to &quot;I have filed a claim for this condition previously&quot;</td>
</tr>
<tr>
<td>treatment_start_date</td>
<td>datetime? or string?</td>
<td>If a datetime is passed, only the date will be stored and the time portion will be truncated. Stored as a timezone-agnostic string in the database.</td>
</tr>
<tr>
<td>treatment_end_date</td>
<td>datetime? or string?</td>
<td>If a datetime is passed, only the date will be stored and the time portion will be truncated. Stored as a timezone-agnostic string in the database. This field is optional and a null value represents an ongoing treatment.</td>
</tr>
<tr>
<td>should_create_request</td>
<td>bool</td>
<td>Answer to &quot;Request records from my vet for this visit&quot;; will not submit claim until request is complete</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>URL to signature file</td>
</tr>
<tr>
<td>invoice_number</td>
<td>string</td>
<td>invoice number; pick one if the user submitted multiple</td>
</tr>
<tr>
<td>invoice_date</td>
<td>datetime or string</td>
<td>invoice date; pick one if the user submitted multiple</td>
</tr>
<tr>
<td>invoice_total</td>
<td>number</td>
<td>Sum of all invoice amounts</td>
</tr>
<tr>
<td>files</td>
<td>int[]</td>
<td>User-uploaded files from the <code>file</code> table. All the pet&#39;s <code>pdfRecords</code> (official vet records) will be automatically attached to the insurance claim.</td>
</tr>
<tr>
<td>additional_insurance</td>
<td>object?</td>
<td>If the user has additional assurance; <code>null</code> means no.</td>
</tr>
<tr>
<td>additional_insurance.name</td>
<td>string</td>
<td>The other insurance company&#39;s name</td>
</tr>
<tr>
<td>additional_insurance.cancel_date</td>
<td>date?</td>
<td>Cancellation date of the other policy; <code>null</code> means the other policy is still active.</td>
</tr>
</tbody></table>
<h2 id='get-user-39-s-existing-claims-summary'>Get user&#39;s existing claims (summary)</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2345</span><span class="p">,</span><span class="w">
    </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint, Inc."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"insurance_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint Insurance Co."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"policy_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A000007"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"invoice_total"</span><span class="p">:</span><span class="w"> </span><span class="mf">456.78</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-01"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-01"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets a summary of all of the user&#39;s existing insurance claims.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET /user/claims</code></p>
<h2 id='get-specific-claim-details'>Get specific claim details</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2345</span><span class="p">,</span><span class="w">
  </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27015</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pet_insurance_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">66</span><span class="p">,</span><span class="w">
  </span><span class="s2">"visit_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wellness exam"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"symptoms_start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-01"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"symptoms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"Vomiting"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Diarrhea"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Loss of appetite"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"diagnosis"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gastroenteritis"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"is_new_condition"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"was_claimed_before"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"treatment_start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-01"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"treatment_end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-08"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"should_create_request"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint-claims/sig.png"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"invoice_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6425537"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"invoice_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-10"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"invoice_total"</span><span class="p">:</span><span class="w"> </span><span class="mf">456.78</span><span class="p">,</span><span class="w">
  </span><span class="s2">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pawprint-file-upload.s3-us-west-2.amazonaws.com/84080-37683-1536632601600.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Glumpy's invoice image"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pawprint-file-upload.s3-us-west-2.amazonaws.com/104048-37683-1553621977158.pdf"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My PDF document"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"requests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">117</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint Demo Vet"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets a specific claim.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>GET /user/claims/1345</code></p>
<h2 id='record-request-preview-from-a-claim'>Record request preview from a claim</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"place_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">27015</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">],</span><span class="w">
    </span><span class="s2">"promocode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mars"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request for full medical records for Bella from Pawprint, Inc."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request for full medical records for Bella from Pawprint, Inc."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">19.98</span><span class="p">,</span><span class="w">
    </span><span class="s2">"discount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-5</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.98</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Generates an order preview for creating a record request from an insurance claim.
The pet and vet information is known from the claim, and the product ID is automatically
selected based on the insurance company in the claim.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET /user/claims/1345/preview</code></p>
<h3 id='post-parameters-3'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>place_ids</td>
<td>int[]</td>
<td>Vets for making record requests</td>
</tr>
<tr>
<td>promocode</td>
<td>string?</td>
<td>If specified, attempts to apply the promo code to the order. If the promo code didn&#39;t work, HTTP 400 is returned along with an error message.</td>
</tr>
</tbody></table>
<h2 id='record-request-order-from-a-claim'>Record request order from a claim</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"place_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">27015</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">],</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/sig.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"checkout_notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Checkout note to Pawprint"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"promocode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mars"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"stripe_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tk_421"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="mi">18617</span><span class="p">,</span><span class="w">
  </span><span class="mi">18618</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Executes an order.
Creates the requests, which will show up in the admin portal as &#39;new&#39;. <code>stripe_token</code> is mostly required, and
we won&#39;t be creating or charging Stripe Customer accounts. If a promocode is supplied but the total comes out to $0.00,
or if the product is free, then <code>stripe_token</code> is neither required nor charged.
Returns an array of the newly created request IDs.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>GET /user/claims/1345/order</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>place_ids</td>
<td>int[]</td>
<td>Vets for making record requests</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>URL to the image file containing the client&#39;s signature.</td>
</tr>
<tr>
<td>checkout_notes</td>
<td>string?</td>
<td>Checkout note to Pawprint.</td>
</tr>
<tr>
<td>promocode</td>
<td>string?</td>
<td>If specified, attempts to apply the promo code to the order. If the promo code didn&#39;t work, HTTP 400 is returned along with an error message.</td>
</tr>
<tr>
<td>stripe_token</td>
<td>string?</td>
<td>Stripe token that will be charged for payment (one-time use)</td>
</tr>
</tbody></table>
<h1 id='intake-forms'>Intake forms</h1>
<p>Intake forms are for vets who are taking on new clients. The vet enters basic information about the new client,
such as name, email address and pet name into a form, then submits the form. An external ID is created for the partially
completed form, and then a link is emailed to the new client. When the client clicks the link, they will see another form with
the partially complete information that the vet entered. They should then enter the rest of the information about the pet,
such as species, date of birth, and most importantly, the other vets in the pet&#39;s medical history. 
Once they have completed the form, they can submit it, which causes record requests to be created in the Pawprint system.
When updated or completed, the records are emailed to both the client and their new vet.</p>

<p>Identity and authentication is based on a JWT given to the records portal when a vet has logged in; it is based on the vet&#39;s <code>place_id</code>.</p>
<h2 id='create-intake-form-vet'>Create intake form (vet)</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johnsmith@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Main St, San Francisco, CA 94302"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"pet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Milo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dog"</span><span class="w">
  </span><span class="p">},</span><span class="w">
    </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-20"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15:30"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eYJnm8909C-A90xCMpznzC"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Initializes an intake form with the given information. Extra fields can be passed to the endpoint,
but only a small subset is necessary for creation. An external ID for the form is generated and emailed to the new client,
which can be used to fill in the rest of the fields. The external ID is also returned by the endpoint.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /partners/intake</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user</td>
<td>object</td>
<td>The new client.</td>
</tr>
<tr>
<td>user.first_name</td>
<td>string</td>
<td>New client&#39;s first name.</td>
</tr>
<tr>
<td>user.last_name</td>
<td>string</td>
<td>New client&#39;s last name.</td>
</tr>
<tr>
<td>user.email</td>
<td>string</td>
<td>New client&#39;s email address.</td>
</tr>
<tr>
<td>user.phone</td>
<td>string?</td>
<td>New client&#39;s phone number.</td>
</tr>
<tr>
<td>user.address</td>
<td>string?</td>
<td>New client&#39;s address.</td>
</tr>
<tr>
<td>pet</td>
<td>object</td>
<td>The pet to be seen.</td>
</tr>
<tr>
<td>pet.name</td>
<td>name</td>
<td>Pet&#39;s name.</td>
</tr>
<tr>
<td>pet.species</td>
<td>string</td>
<td>Pet&#39;s species, e.g. <code>Cat</code> or <code>Dog</code>.</td>
</tr>
<tr>
<td>pet.breed</td>
<td>string?</td>
<td>Pet&#39;s breed.</td>
</tr>
<tr>
<td>pet.birthdate</td>
<td>date?</td>
<td>Date portion of the pet&#39;s birthdate</td>
</tr>
<tr>
<td>appointment</td>
<td>object</td>
<td>Appointment details</td>
</tr>
<tr>
<td>appointment.date</td>
<td>string</td>
<td>Date portion of the appointment, e.g. &quot;2019-07-20&quot;.</td>
</tr>
<tr>
<td>appointment.time</td>
<td>string?</td>
<td>Time portion of the appointment in 24 hour time, e.g. &quot;15:30&quot; or &quot;09:45&quot;.</td>
</tr>
<tr>
<td>appointment.timezone</td>
<td>string?</td>
<td>https://en.wikipedia.org/wiki/List_of_tz_database_time_zones</td>
</tr>
<tr>
<td>appointment.type</td>
<td>string?</td>
<td>Broad category; see <code>appointment_type</code> table in database</td>
</tr>
<tr>
<td>appointment.reason</td>
<td>string?</td>
<td>More details about why this appointment is being made</td>
</tr>
</tbody></table>
<h2 id='get-intake-form-user'>Get intake form (user)</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johnsmith@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Main St, San Francisco, CA 94302"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"pet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Milo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dog"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Australian Cattle Dog Mix"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-16"</span><span class="w">
  </span><span class="p">},</span><span class="w">
    </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"place"</span><span class="p">:</span><span class="w"> </span><span class="mi">27015</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-20"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15:30"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/Los_Angeles"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wellness Exam"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Just moved here from Chicago"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"banner_image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/pawprint-images/partner_logo.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending user"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets the specified intake form. Not all fields are guaranteed to be populated, based on what the vet filled out when creating
the intake form.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /intake/:intake_id</code></p>
<h2 id='update-intake-form-user'>Update intake form (user)</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johnsmith@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Main St, Palo Alto, CA 94305"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"pet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Milo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dog"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Australian Cattle Dog Mix"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-16"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"birthdate_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"place_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">27015</span><span class="p">,</span><span class="w"> </span><span class="mi">2101</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"vets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint Seattle"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seattle"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98105"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"empty_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New puppy/kitten"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Milo used to be called Olim"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/pawprint-intake-signatures/eXa8nzcsSp_sig.png"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Updates an intake form with the given information. If one of the required fields is empty, HTTP 400/Bad Request is returned. One of <code>place_ids</code> or <code>vets</code> must be specified; both are accepted. Objects in the <code>vets</code> list will be created as new entries in the <code>place</code> table. If all of the required fields are populated, HTTP 200/OK is returned, and the record requests are created automatically.</p>

<p>After an intake form has been submitted, it cannot be submitted again, and HTTP 400/Bad Request is returned. This is because the
record requests are created as soon the intake form has been submitted the first time. If <code>intake.status</code> from <code>GET /intake/:external_id</code> is anything but <code>pending user</code>, the user should be blocked from submitting the request again.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>PUT /intake/:intake_id</code></p>
<h3 id='put-parameters'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user</td>
<td>object</td>
<td>The new client.</td>
</tr>
<tr>
<td>user.first_name</td>
<td>string</td>
<td>New client&#39;s first name.</td>
</tr>
<tr>
<td>user.last_name</td>
<td>string</td>
<td>New client&#39;s last name.</td>
</tr>
<tr>
<td>user.email</td>
<td>string</td>
<td>New client&#39;s email address.</td>
</tr>
<tr>
<td>user.phone</td>
<td>string</td>
<td>New client&#39;s phone number.</td>
</tr>
<tr>
<td>user.address</td>
<td>string?</td>
<td>New client&#39;s address.</td>
</tr>
<tr>
<td>pet</td>
<td>object</td>
<td>The pet to be seen.</td>
</tr>
<tr>
<td>pet.name</td>
<td>name</td>
<td>Pet&#39;s name.</td>
</tr>
<tr>
<td>pet.species</td>
<td>string</td>
<td>Pet&#39;s species, e.g. <code>cat</code> or <code>dog</code>.</td>
</tr>
<tr>
<td>pet.breed</td>
<td>string</td>
<td>Pet&#39;s breed.</td>
</tr>
<tr>
<td>pet.birthdate</td>
<td>date?</td>
<td>Date portion of the pet&#39;s birthdate</td>
</tr>
<tr>
<td>pet.birthdate_level</td>
<td>string?</td>
<td>The accuracy of the pet&#39;s birthdate, e.g. if user only chose a <code>year</code>, a year and a <code>month</code>, or a complete date (<code>day</code>).</td>
</tr>
<tr>
<td>place_ids</td>
<td>int[]?</td>
<td>List of IDs from the <code>place</code> table who we will contact for the pet&#39;s medical history. If <code>place_ids</code> and <code>vets</code> are not specified, <code>empty_reason</code> must be given.</td>
</tr>
<tr>
<td>vets</td>
<td>object[]?</td>
<td>Vets who we will contact for the pet&#39;s medical history. These will become new <code>place</code> table entries. If <code>place_ids</code> and <code>vets</code> are not specified, <code>empty_reason</code> must be given.</td>
</tr>
<tr>
<td>vets.name</td>
<td>string</td>
<td>Vet name.</td>
</tr>
<tr>
<td>vets.city</td>
<td>string?</td>
<td>Vet&#39;s city.</td>
</tr>
<tr>
<td>vets.state</td>
<td>string?</td>
<td>Vet&#39;s state.</td>
</tr>
<tr>
<td>vets.zip</td>
<td>string?</td>
<td>Vet&#39;s zip code.</td>
</tr>
<tr>
<td>empty_reason</td>
<td>string?</td>
<td>If <code>place_ids</code> and <code>vets</code> are not specified, this is the reason why - e.g., &quot;I forgot which vets my pet has seen&quot; or &quot;New puppy/kitten&quot;. Otherwise, this string is ignored.</td>
</tr>
<tr>
<td>note</td>
<td>string?</td>
<td>Note to the vets.</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>Signature of the user&#39;s consent.</td>
</tr>
</tbody></table>
<h2 id='get-place-info'>Get place info</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jellystone Animal Hospital"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"banner_image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/pawprint-images/partner_logo.jpg"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets information available to the general public about a place, for the purpose of creating intakes.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET /place/:place_id/intake</code></p>
<h2 id='create-complete-intake-form-user'>Create complete intake form (user)</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"base64:jpeg,hbIL8cqGoxa3w3"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johnsmith@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Main St, Palo Alto, CA 94305"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"bookings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Milo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dog"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Australian Cattle Dog Mix"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-16"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"profile_pic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"base64:jpeg,Ax08uoawnyCAOA-Muaw3=="</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"place_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">27015</span><span class="p">,</span><span class="w"> </span><span class="mi">2101</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="s2">"vets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint Seattle"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seattle"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98105"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"empty_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New puppy"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-09"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1:30 PM"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/Los_Angeles"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wellness Exam"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Just moved to town"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Milo used to be called Olim"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pumpkin"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cat"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Domestic Short Hair"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2009-07-11"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"profile_pic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"base64:jpeg,9ua-v9XASef2-="</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"place_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">2101</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="s2">"vets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jellystone Animal Hospital"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jackson"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WY"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"83002"</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"empty_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New kitten"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-09"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1:30 PM"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/Los_Angeles"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Illness/injury"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Persistent cough"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doesn't like being touched on the head"</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Milo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eXIjl3poE05z8vvvJqaofn"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Pumpkin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98cgckxlf3DDmf9AFjv4089pz"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This creates an intake form all in one go, without the need for action on the vet side.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST /intake/place/:place_id</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user</td>
<td>object</td>
<td>The new client.</td>
</tr>
<tr>
<td>user.first_name</td>
<td>string</td>
<td>New client&#39;s first name.</td>
</tr>
<tr>
<td>user.last_name</td>
<td>string</td>
<td>New client&#39;s last name.</td>
</tr>
<tr>
<td>user.email</td>
<td>string</td>
<td>New client&#39;s email address.</td>
</tr>
<tr>
<td>user.phone</td>
<td>string</td>
<td>New client&#39;s phone number.</td>
</tr>
<tr>
<td>user.address</td>
<td>string</td>
<td>New client&#39;s address.</td>
</tr>
<tr>
<td>bookings</td>
<td>object[]</td>
<td>Contains information about each pet and appointment</td>
</tr>
<tr>
<td>bookings.pet</td>
<td>object</td>
<td>The pet to be seen.</td>
</tr>
<tr>
<td>bookings.pet.name</td>
<td>name</td>
<td>Pet&#39;s name.</td>
</tr>
<tr>
<td>bookings.pet.species</td>
<td>string</td>
<td>Pet&#39;s species, e.g. <code>cat</code> or <code>dog</code>.</td>
</tr>
<tr>
<td>bookings.pet.breed</td>
<td>string?</td>
<td>Pet&#39;s breed.</td>
</tr>
<tr>
<td>bookings.pet.birthdate</td>
<td>date?</td>
<td>Date portion of the pet&#39;s birthdate</td>
</tr>
<tr>
<td>bookings.pet.profile_pic</td>
<td>base64?</td>
<td>Base64 encoded image of the pet</td>
</tr>
<tr>
<td>bookings.place_ids</td>
<td>int[]?</td>
<td>List of IDs from the <code>place</code> table who we will contact for the pet&#39;s medical history. One of <code>place_ids</code> or <code>vets</code> must be specified, or else <code>empty_reason</code> must be given.</td>
</tr>
<tr>
<td>bookings.vets</td>
<td>object[]?</td>
<td>Vets who we will contact for the pet&#39;s medical history. These will become new <code>place</code> table entries. One of <code>place_ids</code> or <code>vets</code> must be specified, or else <code>empty_reason</code> must be given.</td>
</tr>
<tr>
<td>bookings.vets.name</td>
<td>string</td>
<td>Vet name.</td>
</tr>
<tr>
<td>bookings.vets.city</td>
<td>string?</td>
<td>Vet&#39;s city.</td>
</tr>
<tr>
<td>bookings.vets.state</td>
<td>string?</td>
<td>Vet&#39;s state.</td>
</tr>
<tr>
<td>bookings.vets.zip</td>
<td>string?</td>
<td>Vet&#39;s zip code.</td>
</tr>
<tr>
<td>bookings.empty_reason</td>
<td>string?</td>
<td>Reason for not having pet&#39;s medical history (if <code>bookings.place_ids</code> and <code>bookings.vets</code> are both empty)</td>
</tr>
<tr>
<td>bookings.appointment</td>
<td>object?</td>
<td>Appointment details</td>
</tr>
<tr>
<td>bookings.appointment.date</td>
<td>string?</td>
<td>Date portion of the appointment, e.g. &quot;2019-07-20&quot;.</td>
</tr>
<tr>
<td>bookings.appointment.time</td>
<td>string?</td>
<td>Time portion of the appointment in 24 hour time, e.g. &quot;15:30&quot; or &quot;09:45&quot;.</td>
</tr>
<tr>
<td>bookings.appointment.timezone</td>
<td>string?</td>
<td>https://en.wikipedia.org/wiki/List_of_tz_database_time_zones</td>
</tr>
<tr>
<td>bookings.appointment.type</td>
<td>string?</td>
<td>Broad category; see <code>appointment_type</code> table in database</td>
</tr>
<tr>
<td>bookings.appointment.reason</td>
<td>string?</td>
<td>More details about why this appointment is being made</td>
</tr>
<tr>
<td>bookings.note</td>
<td>string?</td>
<td>Note to the vets.</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>Base64 encoded signature of the user&#39;s consent.</td>
</tr>
</tbody></table>
<h2 id='update-pet-profile-pic-user'>Update pet profile pic (user)</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"base64:jpeg,hbIL8cqGoxa3w3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Updates a pet&#39;s profile picture; this can be done at any stage of the intake process at and after <code>pending user</code>.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST /intake/:intake_id/image</code></p>
<h3 id='post-parameters-3'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>image</td>
<td>string</td>
<td>Pet&#39;s new profile picture in base64 encoding.</td>
</tr>
</tbody></table>
<h2 id='update-intake-appointment-user'>Update intake appointment (user)</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-20"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15:30"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/Los_Angeles"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Injury/Illness"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mass on right hind leg"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Updates the appointment on the intake; anyone with the link/intake external ID can update this.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>PUT /intake/:intake_id/appointment</code></p>
<h3 id='put-parameters-2'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>appointment</td>
<td>object?</td>
<td>Appointment details</td>
</tr>
<tr>
<td>appointment.date</td>
<td>string?</td>
<td>Date portion of the appointment, e.g. &quot;2019-07-20&quot;.</td>
</tr>
<tr>
<td>appointment.time</td>
<td>string?</td>
<td>Time portion of the appointment in 24 hour time, e.g. &quot;3:30 pm&quot; or &quot;9:45 am&quot;.</td>
</tr>
<tr>
<td>appointment.timezone</td>
<td>string?</td>
<td>https://en.wikipedia.org/wiki/List_of_tz_database_time_zones.</td>
</tr>
</tbody></table>
<h1 id='vet-intake-portal'>Vet intake portal</h1>
<p>This API is for the vet side of intakes - account management, intake summaries and intake detail.</p>
<h2 id='login'>Login</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo2@getpawprint.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p4ssw0rd"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eYJazo.sometoken.oawf8aliwf8aZ_-w3BmAS"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Login for partners for the records portal. Each place has its own separate login.
Vet groups will have a single entry in the <code>partner</code> table but multiple <code>partner_place</code> entries (which store login info), while
single vets will have a single entry in both the <code>partner</code> and <code>partner_place</code> tables.
Returns a JWT to be used for authenticated partner calls.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /partners/login</code></p>
<h2 id='change-password'>Change password</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"old_password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"passw3rd"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p4ssw0rd"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Partner self-service password change.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /partners/password</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>old_password</td>
<td>string</td>
<td>Partner place&#39;s old password</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Partner place&#39;s new password.</td>
</tr>
</tbody></table>
<h2 id='send-password-reset-token'>Send password reset token</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Emails a password reset token to the partner place&#39;s email address.
Always returns HTTP 200.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /partners/reset</code></p>
<h2 id='validate-password-reset-token'>Validate password reset token</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Vet"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Shows information about the vet associated with a password reset token. If the reset token is not found or it is expired, HTTP 404 is returned.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET /partners/reset/:token</code></p>
<h2 id='reset-forgotten-password-from-token'>Reset forgotten password from token</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new_p4ssw0rd"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Resets the password on the account that matches the given token. Returns HTTP 404 if the token was not found; HTTP 200 otherwise.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST /partners/reset/:token</code></p>
<h2 id='reset-forgotten-password-admin'>Reset forgotten password (admin)</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p4ssw0rd"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>For admins to manually set a new password for a partner place.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST /admin/partners/:place_id/reset</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Partner place&#39;s email address.</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Partner place&#39;s password.</td>
</tr>
</tbody></table>
<h2 id='get-partner-place-info'>Get partner place info</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Animal Clinic"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27015"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"partner_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="s2">"partner_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint Farm"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"banner_image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.getpawprint.com/images/banner.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"appointment_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="s2">",
      "</span><span class="err">description</span><span class="s2">": "</span><span class="err">Wellness</span><span class="w"> </span><span class="err">exam</span><span class="s2">"
    },
    {
      "</span><span class="err">id</span><span class="s2">": 2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Illness/injury"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets partner place info for the caller identifed in the auth header, like place name, partner ID, partner name and banner image.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET /partners/info</code></p>
<h2 id='get-list-of-intakes'>Get list of intakes</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">93</span><span class="p">,</span><span class="w">
      </span><span class="s2">"user_full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hiro"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pet_species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dog"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pet_breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shiba Inu"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in progress"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-17T23:58:12.932Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-17T23:58:19.764Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-20"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10:00 AM"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets information about intakes for a partner place. Paginated.</p>

<p><em>Filters:</em>
Multiple filters are joined by AND.</p>

<ul>
<li><code>status</code> - <code>missing info</code>, <code>pending</code>, <code>in progress</code>, <code>complete</code> or <code>cancelled</code>; can be combined with a comma for OR, e.g. <code>filter={&quot;status&quot;:&quot;pending,in progress&quot;}</code></li>
<li><code>appointment_date</code> - Restricts results down to a specific day; format is <code>YYYY-MM-DD</code>. <em>Sort field is locked to <code>appointment_date</code> and direction defaults to <code>desc</code> when this filter is selected, but the direction remains changeable (<code>asc</code>/<code>desc</code>).</em></li>
<li><code>pet_name</code> - Peforms partial name on pets. (e.g. <code>chi</code> will match both <code>Mochi</code> and <code>Chip</code>)</li>
<li><code>user_name</code> - Performs partial name match on user first name OR last name (e.g. &#39;smi&#39; will match both &quot;Jasmine Wong&quot; and &quot;Jane Smith&quot;, but not &quot;Jess Milan&quot;)</li>
</ul>

<p><em>Sorting:</em>
Direction is specified by <code>asc</code> or <code>desc</code>.</p>

<ul>
<li><code>appointment_date</code> - Sorts by appointment date. Intakes with no appointment date are automatically excluded.</li>
<li><code>created_at</code> - Sorts by <code>created_at</code> date, which is when the form was created by the vet, or generated based on synced PMS data.</li>
<li><code>updated_at</code> - Sorts by <code>updated_at</code> date, which is the timestamp of the last admin action (or <code>created_at</code> at the earliest).</li>
</ul>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>GET /partners/intake</code></p>
<h3 id='query-string-parameters'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>$top</td>
<td>int?</td>
<td>Limits number of results.</td>
</tr>
<tr>
<td>$skip</td>
<td>int?</td>
<td>Offsets number of results.</td>
</tr>
<tr>
<td>sort_by</td>
<td>string?</td>
<td>Default is <code>{&quot;updated_at&quot;:&quot;desc&quot;}</code>. This parameter is ignored if the <code>date</code> filter is specified unless it is <code>appointment_date</code>, which allows the sort direction to be changed.</td>
</tr>
<tr>
<td>filter</td>
<td>string?</td>
<td>JSON object, where the key is the filter name and the value is the filter value, e.g. <code>&amp;filter={&quot;status&quot;:&quot;missing info&quot;}</code>.</td>
</tr>
</tbody></table>
<h2 id='get-intake-details'>Get intake details</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-04-20"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10:00 AM"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wellness exam"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Puppy shots"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w">
    </span><span class="s2">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-HiX2CpDBA_tukyYkldcN5gGwqwPyAsh"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"admin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eric Choi"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"05-08-2019"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rocky"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pawprint-user-upload.s3-us-west-2.amazonaws.com/65389-39561-1496970785752.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11-01-2005"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"age"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13 yo"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"adoption_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"neuterString"</span><span class="p">:</span><span class="w"> </span><span class="s2">", neutered"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dog"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"American Staffordshire Terrier"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tri"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"weight"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"microchip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1337"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Momo"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nguyen"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(555) 555-5504"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"momonguyen@getpawprint.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"places"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aborn Pet Clinic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(408) 270-4600"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Antioch animal hospital"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(630) 307-9115"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VIP Pet Care"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(800) 427-7973"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"medications"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enacard, Vasotec"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_medications"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enacard, Vasotec"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"labs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SNAP 4Dx Test"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12-27-2014"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12-27-2015"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiryStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"expired"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"primary_condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Heartworm"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fecal Exam"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10-29-2017"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10-29-2018"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiryStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"expired"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"primary_condition"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Urine"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiryStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"missing"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CBC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiryStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"missing"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chemistry"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiryStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"missing"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thyroid Level"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiryStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"missing"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Heartworm Test"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiryStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"missing"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"vaccinations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rabies"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04-19-2019"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04-19-2020"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiryStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"primary_condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rabies"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Distemper"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiryStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"missing"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"primary_condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Distemper-parvo"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bordetella"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiryStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"missing"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"primary_condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bordetella"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"review_notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rocky is 80% blind in left eye. No hearing"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pdfs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"https://pawprint-request-pdf.s3.amazonaws.com/123.pdf"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"https://pawprint-request-pdf.s3.amazonaws.com/456.pdf"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"https://pawprint-request-pdf.s3.amazonaws.com/789.pdf"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"https://pawprint-request-pdf.s3.amazonaws.com/0ab.pdf"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"https://pawprint-request-pdf.s3.amazonaws.com/cde.pdf"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get detailed information about a specific intake for a partner place. There are two main fields - <code>appointment</code> and <code>summary</code>; <code>summary</code> is the same Pawprint Summary object that gets passed to the PDF generator in the admin portal. HTTP 403 is returned if the <code>intake_id</code> does not belong to the partner place.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>GET /partners/intake/:intake_id</code></p>
<h2 id='update-intake-vet'>Update intake (vet)</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelled"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johnsmith@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"206-555-5555"</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"pet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Casper"</span><span class="w">
  </span><span class="p">},</span><span class="w">
    </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-20"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15:30"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/Los_Angeles"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Injury/Illness"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mass on right hind leg"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Allows vets to update an intake, but only when <code>status</code> is <code>missing info</code> or <code>pending user</code>.
<code>user.email</code> and <code>user.phone</code> can only be updated when <code>status</code> is <code>missing info</code>, and either of those fields is entered,
the intake will automatically enter <code>pending user</code> status and the <code>intake-form</code> email/SMS will be sent to the user.</p>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>PUT /partners/intake/:intake_id</code></p>
<h3 id='put-parameters'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string?</td>
<td>Only accepted value is <code>cancelled</code>.</td>
</tr>
<tr>
<td>user</td>
<td>object?</td>
<td>User details</td>
</tr>
<tr>
<td>user.first_name</td>
<td>string?</td>
<td>User first name</td>
</tr>
<tr>
<td>user.last_name</td>
<td>string?</td>
<td>User last name</td>
</tr>
<tr>
<td>user.email</td>
<td>string?</td>
<td>User&#39;s email address</td>
</tr>
<tr>
<td>user.phone</td>
<td>string?</td>
<td>User&#39;s phone number</td>
</tr>
<tr>
<td>pet</td>
<td>object?</td>
<td>Pet details</td>
</tr>
<tr>
<td>pet.name</td>
<td>string?</td>
<td>Pet name</td>
</tr>
<tr>
<td>appointment</td>
<td>object?</td>
<td>Appointment details</td>
</tr>
<tr>
<td>appointment.date</td>
<td>string?</td>
<td>Date portion of the appointment, e.g. &quot;2019-07-20&quot;.</td>
</tr>
<tr>
<td>appointment.time</td>
<td>string?</td>
<td>Time portion of the appointment in 24 hour time, e.g. &quot;3:30 pm&quot; or &quot;9:45 am&quot;.</td>
</tr>
<tr>
<td>appointment.timezone</td>
<td>string?</td>
<td>https://en.wikipedia.org/wiki/List_of_tz_database_time_zones.</td>
</tr>
<tr>
<td>appointment.type</td>
<td>string?</td>
<td>Type of appointment.</td>
</tr>
<tr>
<td>appointment.reason</td>
<td>string?</td>
<td>Reason for the appointment.</td>
</tr>
</tbody></table>
<h1 id='machine-learning-algo-tagging'>Machine learning/algo tagging</h1>
<p>For demo pages and machine learning feedback. The state of the machine learning model must be explicitly saved;
if the virtual machine/container which hosts the machine learning service (https://173.255.119.25) is reset, then model changes after
the last save will be lost.</p>
<h2 id='query-algorithm'>Query algorithm</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reminder_event"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
    </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Parvovirus"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"score"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.654672550128199</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Queries the machine learning model with free text. The response contains the table name (<code>reminder_event</code> or <code>medication</code>), ID and name
of the most probable match, and returns the probability (between 0 and 1) in the <code>score</code> field. In the response example,
&quot;Parvovirus&quot; is the best match with a 65.46% probability.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /ml/query</code></p>
<h3 id='query-string-parameters'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>q</td>
<td>string</td>
<td>Input string for the algorithm.</td>
</tr>
</tbody></table>
<h2 id='get-pending-feedback'>Get pending feedback</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prom"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medication"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vocab_string"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PromAce, Aceproject"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rabies annual"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reminder_event"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vocab_string"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rabies"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets all pending feedback for the machine learning algorithm that was submitted from vet portals in a list.
This will return an empty list if a refit (see below) was run recently.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /ml/feedback</code></p>
<h2 id='submit-feedback'>Submit feedback</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rabies annual"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"reminder_event"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_correct"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Add a training example to the machine learning feedback table. These are eventually fed back
into the training algorithm to produce a new prediction model.</p>

<p>If you called <code>GET /ml/query</code> and the result was <strong>correct</strong>, then you would call <code>POST /vet/ml/feedback</code> with
<code>is_correct: true</code>, and the <code>type</code> and <code>id</code> from the result. This gives positive reinforcement for the query.</p>

<p>If the result was <strong>incorrect</strong> , then you would call <code>POST /vet/ml/feedback</code> with <code>is_correct: false</code>, and the
<code>type</code> and <code>id</code> of the correct entry, e.g. (<code>type: reminder_event</code>, <code>id: 24</code>, which corresponds to rabies.) The next
time the training algorithm is run, the new model should not return that incorrect result again.</p>

<p>To get the correct entry, you can call <code>GET /user/medications</code> to get a list of all medications and <code>GET /user/reminder_events</code>
to get a list of all reminder_events.</p>

<aside class="notice">
Must be logged in as a vet to call this. That is, the auth token must be for a user ID in pawprint_vet.user_id.
</aside>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /vet/ml/feedback</code></p>
<h2 id='delete-pending-feedback-item'>Delete pending feedback item</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Deletes a pending feedback item. Expected to be called from the ML refitting page in the admin dashboard.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>DELETE /admin/ml/feedback/:feedback_id</code></p>
<h2 id='refit'>Refit</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Refits all pending feedback items into the machine learning model.</p>

<aside class="notice">
Must be logged in as an admin to call this. That is, the auth token must be for a user ID in user where type = 0.
</aside>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST /admin/ml/refit</code></p>
<h2 id='save-state'>Save state</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Saves the state of the machine learning model to Google Cloud Storage. If the virtual machine or container hosting the machine learning service
is reset, the state of the machine learning model will be restored.</p>

<aside class="notice">
Must be logged in as an admin to call this. That is, the auth token must be for a user ID in user where type = 0.
</aside>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST /admin/ml/save</code></p>
<h2 id='get-a-page-of-reminders'>Get a page of reminders</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exam- Wellness"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">127333</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Vaccination-Rabies"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">99835</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets a page of text from the vet_reminder table that hasn&#39;t had feedback yet, ordered by frequency (most frequently seen strings will be at the top)
then by alphabetical order.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET /admin/ml/reminders</code></p>
<h3 id='query-string-parameters-2'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>skip</td>
<td>int</td>
<td>Page offset</td>
</tr>
<tr>
<td>top</td>
<td>int</td>
<td>Page size</td>
</tr>
</tbody></table>
<h2 id='get-a-page-of-invoices'>Get a page of invoices</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exam- Wellness"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">127333</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Vaccination-Rabies"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">99835</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets a page of text from the vet_invoice table that hasn&#39;t had feedback yet, ordered by frequency (most frequently seen strings will be at the top)
then by alphabetical order.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>GET /admin/ml/invoices</code></p>
<h3 id='query-string-parameters-3'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>skip</td>
<td>int</td>
<td>Page offset</td>
</tr>
<tr>
<td>top</td>
<td>int</td>
<td>Page size</td>
</tr>
</tbody></table>
<h1 id='medications'>Medications</h1>
<p>Medications - both built-in and user-added medications.</p>
<h2 id='get-all-built-in-medications'>Get all built-in medications</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">485</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seresto"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flea/tick collar"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"active_ingredient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"imidacloprid, flumethrin"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">284</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProHeart 6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Heartworm preventative"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"active_ingredient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"moxidectin"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">479</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scalibor"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flea/tick collar"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"active_ingredient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flumethrin, imidacloprid"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">483</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sentry Flea/Tick Collar"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flea/tick collar"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"active_ingredient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deltamethrin"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets all medications built in with Pawprint.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /user/medications</code></p>
<h2 id='get-all-of-a-pet-39-s-medications'>Get all of a pet&#39;s medications</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
                </span><span class="s2">"medication_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">464</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3523</span><span class="p">,</span><span class="w">
                </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">68795</span><span class="p">,</span><span class="w">
                </span><span class="s2">"dosage_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"dosage_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tablet"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"times"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"frequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"weekly"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Heartgard Plus"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"reminder_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Heartworm/intestinal worm preventative"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"active_ingredient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ivermectin, pyrantel pamoate"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oral"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"warning"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"prescription"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"marked_done"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
                </span><span class="s2">"medication_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4040</span><span class="p">,</span><span class="w">
                </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">68795</span><span class="p">,</span><span class="w">
                </span><span class="s2">"dosage_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"dosage_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tablet"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"times"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"frequency"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"For anxiety"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Xanax"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"reminder_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14182</span><span class="p">,</span><span class="w">
                </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sedative"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"active_ingredient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alprazolam"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oral"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"warning"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"prescription"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"marked_done"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets a medication for a pet. Medications come from the <code>pet_medication</code> table.</p>

<p>, in which case the <code>source</code> field will have the value <code>pet_medication</code>,
or the <code>inferred_medication_raw</code> table, in which case the <code>source</code> field will have the value <code>inferred</code>. Inferred medications come from the output of a
natural language processing algorithm run over the <code>vet_pet_history</code>, <code>vet_reminder</code> and <code>vet_invoice</code> tables, so they cannot be deleted.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /user/v2/pets/:petid/medications/</code></p>
<h2 id='create-pet-medication'>Create pet medication</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"dosage_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dosage_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tablet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"For anxiety"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Xanax"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"medication_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reminder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"daily"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Xanax"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I'm a medication reminder"</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Create a pet medication. The <code>reminder</code> field is optional and follows the format of creating a V2 reminder, except
pet_id and type do not need to be specified.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/medication</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dosage_number</td>
<td>int?</td>
<td>Size of a dose of the medication</td>
</tr>
<tr>
<td>dosage_unit</td>
<td>string?</td>
<td>Units for the dose</td>
</tr>
<tr>
<td>notes</td>
<td>string?</td>
<td>Notes</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the medication</td>
</tr>
<tr>
<td>medication_id</td>
<td>int?</td>
<td>Foreign key into the <code>medication</code> table; null if the medication doesn&#39;t exist in our system</td>
</tr>
<tr>
<td>reminder</td>
<td>object</td>
<td>Reminder object; see documentation for Reminders V2 - Create a reminder</td>
</tr>
<tr>
<td>times</td>
<td>int?</td>
<td>deprecated; is stored in database but has no effect.</td>
</tr>
<tr>
<td>frequency</td>
<td>string?</td>
<td>deprecated; is stored in database but has no effect.</td>
</tr>
</tbody></table>
<h2 id='update-pet-medication'>Update pet medication</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"dosage_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dosage_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tablet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"For anxiety"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Xanax"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"medication_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reminder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"daily"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Afoxolaner"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I'm a medication reminder"</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Updates a pet medication.
<code>:petid</code> is an ID from the <code>pet</code> table, while <code>:medicationid</code> is an ID from the <code>pet_medication</code> table.
If a <code>reminder</code> object is supplied, either the existing reminder is updated or a new reminder is created.
If a <code>reminder</code> object is not supplied in the request, but there is an existing reminder for that medication,
the reminder will be deleted.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>PUT /user/v2/pets/:petid/medication/:medicationid</code></p>
<h3 id='put-parameters'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dosage_number</td>
<td>int?</td>
<td>Size of a dose of the medication</td>
</tr>
<tr>
<td>dosage_unit</td>
<td>string?</td>
<td>Units for the dose</td>
</tr>
<tr>
<td>notes</td>
<td>string?</td>
<td>Notes</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the medication</td>
</tr>
<tr>
<td>medication_id</td>
<td>int?</td>
<td>Foreign key into the <code>medication</code> table; null if the medication doesn&#39;t exist in our system</td>
</tr>
<tr>
<td>reminder</td>
<td>object</td>
<td>Reminder object; see documentation for Reminders V2 - Create a reminder</td>
</tr>
<tr>
<td>times</td>
<td>int?</td>
<td>deprecated; is stored in database but has no effect.</td>
</tr>
<tr>
<td>frequency</td>
<td>string?</td>
<td>deprecated; is stored in database but has no effect.</td>
</tr>
</tbody></table>
<h2 id='delete-pet-medication'>Delete pet medication</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Deletes a pet medication.
<code>:petid</code> is an ID from the <code>pet</code> table, while <code>:medicationid</code> is an ID from the <code>pet_medication</code> table.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>DELETE /user/v2/pets/:petid/medication/:medicationid</code></p>
<h2 id='get-suggested-pet-medications'>Get suggested pet medications</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8161</span><span class="p">,</span><span class="w">
        </span><span class="s2">"medication_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67543</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alprazolam (Xanax®)"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sedative"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"active_ingredient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alprazolam"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"From vet"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets suggested medications for a pet. These suggestions come from running algo tagging on the <code>vet_pet_history</code>, <code>vet_reminder</code> and <code>vet_invoice</code> tables.
Users should be able to accept or reject these suggestions - accepting will go to the &quot;Add Medication&quot; page with the
fields pre-populated by this API, and then a new medication will be added to the <code>pet_medication</code> table.
Medications already in the <code>pet_medication</code> table will not appear in the suggested medications queue.</p>

<p>If the suggestion is rejected, then the medication will not appear in the queue again unless there is more vet data
at a later date which suggests the same medication.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>GET /user/v2/pets/:petid/medication/suggested</code></p>
<h2 id='reject-suggested-pet-medication'>Reject suggested pet medication</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Rejects a suggested medication from the queue. The medication will not appear in the queue again unless there is more vet data
at a later date which suggests the same medication.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>DELETE /user/v2/pets/:petid/medication/suggested/:suggestionid</code></p>
<h2 id='get-medications-for-a-pet-medication-admin'>Get medications for a pet medication (admin)</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6060</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">104306</span><span class="p">,</span><span class="w">
        </span><span class="s2">"dosage_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"dosage_unit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProHeart 6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"times"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"frequency"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"medication_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">284</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reminder_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date_prescribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-03"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets only verified medications for a pet. Pawprint admins can only view, add, edit or delete verified medications for a pet, while users can only view verified medications. The <code>times</code> and <code>frequency</code> fields are deprecated (should be ignored) and <code>reminder_id</code> is relevant to users (see user-space documentation above for more info). </p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>GET /admin/pets/:petid/medications</code></p>
<h2 id='add-pet-medication-admin'>Add pet medication (admin)</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"medication_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dosage_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dosage_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tablet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"For anxiety"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date_prescribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-03"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">606</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Adds a verified medication for the given pet. Pawprint admins can only view, add, edit or delete verified medications for a pet, while users can only view verified medications.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>POST /admin/pets/:petid/medications</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>medication_id</td>
<td>int</td>
<td>Foreign key into the <code>medication</code> table; null if the medication doesn&#39;t exist in our system</td>
</tr>
<tr>
<td>dosage_number</td>
<td>int?</td>
<td>Size of a dose of the medication</td>
</tr>
<tr>
<td>dosage_unit</td>
<td>string?</td>
<td>Units for the dose</td>
</tr>
<tr>
<td>notes</td>
<td>string?</td>
<td>Notes</td>
</tr>
<tr>
<td>date_prescribed</td>
<td>string?</td>
<td>Date the medication was prescribed (no time)</td>
</tr>
</tbody></table>
<h2 id='update-pet-medication-admin'>Update pet medication (admin)</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"medication_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dosage_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dosage_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tablet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"For anxiety"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date_prescribed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-03"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Updates a verified medication for the given pet. Pawprint admins can only view, add, edit or delete verified medications for a pet, while users can only view verified medications.</p>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>PUT /admin/pets/medications/:pet_medication_id</code></p>
<h3 id='put-parameters-2'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>medication_id</td>
<td>int</td>
<td>Foreign key into the <code>medication</code> table; null if the medication doesn&#39;t exist in our system</td>
</tr>
<tr>
<td>dosage_number</td>
<td>int?</td>
<td>Size of a dose of the medication</td>
</tr>
<tr>
<td>dosage_unit</td>
<td>string?</td>
<td>Units for the dose</td>
</tr>
<tr>
<td>notes</td>
<td>string?</td>
<td>Notes</td>
</tr>
<tr>
<td>date_prescribed</td>
<td>string?</td>
<td>Date the medication was prescribed (no time)</td>
</tr>
</tbody></table>
<h2 id='delete-pet-medication-admin'>Delete pet medication (admin)</h2>
<p>Deletes a verified pet medication. Pawprint admins can only view, add, edit or delete verified medications for a pet, while users can only view verified medications.</p>
<h3 id='http-request-11'>HTTP Request</h3>
<p><code>DELETE /admin/pets/medications/:pet_medication_id</code></p>
<h1 id='payments'>Payments</h1>
<p>We use <a href="http://stripe.com/">Stripe</a> for managing payments.</p>
<h2 id='update-payment-information'>Update payment information</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tok_b3ad9ff2c01vcf"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Sets the user&#39;s payment source with the given Stripe token. If a Stripe customer doesn&#39;t exist yet,
the token is used to create a Stripe customer with a payment source. If the Stripe customer does exist,
the token is used to update the Stripe customer&#39;s payment source.</p>

<aside class="notice">
Stripe tokens can be used only once, and then they are considered consumed.
It is generated from payment information by the client, and can be used to
either set up an account with a payment source, or update the payment source on
an existing account.
</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /user/stripe/:userid/source</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>string</td>
<td>Stripe token returned by the client-side Stripe API.</td>
</tr>
</tbody></table>
<h1 id='places'>Places</h1>
<p>Places are backed by the <code>place</code> table and are referenced by a lot of other
tables, such as <code>request</code>, <code>business_pet</code>, and <code>event</code>.</p>
<h2 id='add-new-place'>Add new place</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Super Test Vet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"621 Escondido Rd, Stanford, CA 94305"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"supertestvet@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ8d3CFNe6j4AR21tyt88xx2g"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15555551234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15555556789"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11440</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Super Test Vet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contactMethod"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-05T04:38:37.090Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-05T04:38:37.090Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ8d3CFNe6j4AR21tyt88xx2g"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"621 Escondido Rd, Stanford, CA 94305"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15555551234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"supertestvet@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hours"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vetstreet_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15555556789"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pawprint_note"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"twilio_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"appointment_email_opt_out"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Adds a new place to the <code>place</code> table and returns the entire row. If the place existed already
(based on matching name &amp; address or matching Google Places ID), the existing place is returned
and no new place is added.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /user/places</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String?</td>
<td>The place&#39;s name</td>
</tr>
<tr>
<td>address</td>
<td>String?</td>
<td>The place&#39;s physical location address</td>
</tr>
<tr>
<td>email</td>
<td>String?</td>
<td>The place&#39;s email address</td>
</tr>
<tr>
<td>website</td>
<td>String?</td>
<td>The place&#39;s web site address</td>
</tr>
<tr>
<td>placesid</td>
<td>String?</td>
<td>A Google Place ID</td>
</tr>
<tr>
<td>fax</td>
<td>String?</td>
<td>The place&#39;s fax number</td>
</tr>
<tr>
<td>phone</td>
<td>String?</td>
<td>The place&#39;s phone number</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>&quot;vet&quot; if it&#39;s a vet (so far the only values in the database are &quot;vet&quot;, blank or &quot;unknown&quot;</td>
</tr>
</tbody></table>
<h2 id='places-search'>Places search</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">609</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ08cxkN1oYogRJfpZbg5DPHM"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"googlePlaceID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ08cxkN1oYogRJfpZbg5DPHM"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trusty Vet - Affordable Pet Care - Research Park"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"practiceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trusty Vet - Affordable Pet Care - Research Park"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6945 Highway 72 West, Huntsville, AL 35806"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2564898387"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2564898353"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.trustyvet.com/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"unformattedPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2564898387"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"twilio_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2564898387"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"custom_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"canFormatPhone"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_vet"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11748</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ_____8-9uokRdyo3YP5dbAA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"googlePlaceID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ_____8-9uokRdyo3YP5dbAA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affordable Veterinary Services of Virginia"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"practiceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affordable Veterinary Services of Virginia"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5457 Indian River Rd, Virginia Beach, VA 23464"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9077453219"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://affordableveterinaryservices.com/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"unformattedPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"907-745-3219"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"twilio_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"custom_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This vet is walk-in only."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_vet"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJv7y3eRQ-ZIgRIa8WUeIUzwo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJv7y3eRQ-ZIgRIa8WUeIUzwo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"googlePlaceID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJv7y3eRQ-ZIgRIa8WUeIUzwo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affordable Veterinary Care"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"practiceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Affordable Veterinary Care"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11314 Lebanon Rd, Mt Juliet, TN 37122"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16157888008"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.veterinarianmtjuliet.com/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"unformattedPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+1 615-788-8008"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"canFormatPhone"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_vet"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Searches the <code>place</code> table, Google Vets, and Google Businesses. Results are unified
into a single format, then certains fields like phone and address are formatted, and finally,
the results are de-duped by ID, address, phone number, and name,
with a preference for keeping items from the <code>place</code> table over Google results.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /user/places</code> (authenticated) or <code>GET /place</code> (public)</p>
<h3 id='get-parameters'>GET parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>string</td>
<td>Search term</td>
</tr>
</tbody></table>
<h2 id='create-appointment-request-at-a-place'>Create appointment request at a place</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"echoi@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"425-555-1234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pumpkin"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cat"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Domestic shorthair"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"appointment_type_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"2017-12-15T08:00:00-06:00"</span><span class="p">],</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Testing"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eric Choi"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Creates an appointment request to the given place.</p>

<p>If the place is linked to an onboarded Pawprint vet, an email is automatically sent to the vet
with the appointment request, and the automated email will show up in the request&#39;s contact log.
An onboarded Pawprint vet can be associated with multiple places; the join table is <code>pawprint_vet_place</code>.</p>

<p>If the place is not linked to an onboarded Pawprint vet, the appointment request will show as a new
request on the admin dashboard, and one of the admins will handle it.</p>

<aside class="notice">
The requested time(s) are displayed in the user's time zone; however, the accepted time will appear in the admin's time zone.
For example, the requested times will appear as US/Eastern, but if the admin page is viewed in San Francisco,
the accepted time will appear as US/Pacific.
</aside>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /place/:placeid/appointment</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_name</td>
<td>String</td>
<td>The user&#39;s name</td>
</tr>
<tr>
<td>user_id</td>
<td>int?</td>
<td>The user&#39;s ID, if the user is logged in</td>
</tr>
<tr>
<td>email</td>
<td>String?</td>
<td>The user&#39;s email</td>
</tr>
<tr>
<td>phone</td>
<td>String?</td>
<td>The place&#39;s phone number</td>
</tr>
<tr>
<td>pet_id</td>
<td>int?</td>
<td>An ID from the <code>pet</code> table, if the user is logged in</td>
</tr>
<tr>
<td>pet_name</td>
<td>String</td>
<td>The pet&#39;s name</td>
</tr>
<tr>
<td>pet_species</td>
<td>String?</td>
<td>The pet&#39;s species, e.g. &quot;cat&quot;, &quot;dog&quot;</td>
</tr>
<tr>
<td>pet_breed</td>
<td>String?</td>
<td>The pet&#39;s breed, e.g. &quot;Pit bull mix&quot;</td>
</tr>
<tr>
<td>appointment_type_id</td>
<td>int</td>
<td>Appointment type ID from the <code>appointment_type</code> table</td>
</tr>
<tr>
<td>time</td>
<td>json</td>
<td>JSON list of requested times</td>
</tr>
<tr>
<td>notes</td>
<td>String?</td>
<td>Note to vet</td>
</tr>
</tbody></table>
<h2 id='create-place-entry-from-google-place-id'>Create place entry from Google Place ID</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJaxv59CO4t4kReMLN8Lgbqzo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16501</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Takes a Google Places ID and creates a <code>place</code> table entry for it, then returns the <code>place.id</code> of the newly created place.
If the Google Places ID already existed in the <code>place</code> table, then the existing <code>place.id</code> is returned.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST /place/google</code></p>
<h3 id='post-parameters-3'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>placesid</td>
<td>String</td>
<td>A Google Place ID.</td>
</tr>
</tbody></table>
<h1 id='places-v3'>Places V3</h1>
<p>Location-aware search. Why did Place v2 get skipped? There was already an internal place V2 in the backend, and so an internal place V3 was created. The new external-facing place API was versioned to V3 to follow suit.</p>
<h2 id='location-aware-search'>Location-aware search</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ45p0tN8UkFQR_Di6lOVS1LE"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eric P. Hartmann, DVM"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ45p0tN8UkFQR_Di6lOVS1LE"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.acupuncture5element.com/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contactMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2026 10th Ave E, Seattle, WA 98102, USA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(206) 769-6079"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_note"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"custom_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"geo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">47.6380563</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-122.3198314</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"pawprint_vet"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_vet_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ2dNI-GNYkFQRVF87976znKg"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Auburn Veterinary Hospital Inc"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ2dNI-GNYkFQRVF87976znKg"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.auburnveterinaryhospital.net/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contactMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"718 Auburn Way N, Auburn, WA 98002, USA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(253) 833-4510"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_note"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"custom_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"geo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">47.3139545</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-122.224466</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"pawprint_vet"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_vet_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ2dNI-GNYkFQRykqimLQ-EX4"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dr. Kimo Jow, DVM"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJ2dNI-GNYkFQRykqimLQ-EX4"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.auburnveterinaryhospital.net/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contactMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"718 Auburn Way N, Auburn, WA 98002, USA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(253) 833-4510"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_note"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"custom_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"geo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">47.3139545</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-122.224466</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"pawprint_vet"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_vet_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJmxj6ASv8j1QRi25CowW_qzQ"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"South Whidbey Animal Clinic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJmxj6ASv8j1QRi25CowW_qzQ"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.southwhidbeyac.com/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contactMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11197 WA-525, Clinton, WA 98236, USA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(360) 341-1200"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_note"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"custom_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"geo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">47.9917922</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-122.3978984</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"pawprint_vet"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_vet_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJBVTlRO9UkFQRmibpVVjksj8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dr. Anthony Brown"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJBVTlRO9UkFQRmibpVVjksj8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.vetnorthend.com/veterinarian/wa/tacoma/veterinarians"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contactMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3819 N 25th St, Tacoma, WA 98406, USA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(253) 777-0068"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_note"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"custom_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"geo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">47.2704067</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-122.4883595</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"pawprint_vet"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_vet_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27228</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eric's Place"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contactMethod"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Main Street, Bellevue WA 98004"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_note"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"custom_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"geo"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vet_logo"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_vet"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pawprint_vet_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This is a smarter search than before. This search is optionally location-aware and user-aware.</p>

<p><strong>Location awareness</strong>: If geocoordinates are passed in the <code>location</code> parameter, the search will be limited to a 50 km (30 mi) radius around that point. If not, then a global search is performed, and the results will probably not be what the user wanted.</p>

<p><strong>User awareness</strong>: The search can be performed anonymously, but if an auth token is part of the request, the results will also include any custom places created by that user. For example, if a user created a place named &quot;Eric&#39;s place&quot;, and then searched for &quot;Eric&quot;, then &quot;Eric&#39;s place&quot; will be part of the search results FOR THAT USER ONLY. However, this changes if an admin verifies the existence of that vet in the admin portal.</p>
<h4 id='nitty-gritty'>Nitty gritty</h4>
<p><strong>Verification level</strong>: - Each place can have one of four verification levels: <code>user</code>, <code>admin</code>, <code>google</code> and <code>partner</code>. 
Level  | Description
------ | -----------
user | Created by a user; not verified by an admin. These places are not showed to anyone except their creators.
admin | Verified by an admin via the admin portal, usually when taking care of a request.
google | The place wasn&#39;t in our database, but was added by a user and has information filled in from Google Place Details.
partner | The place came as a result of a list supplied by a partner (e.g. Banfield) or was scraped off an authoritative website.</p>

<p><strong>Merging of results</strong>: Results come from the Pawprint database and a Google Places text search. If <code>location</code> was passed, they are ordered by distance; otherwise they are ordered by Pawprint partner vets first, then Pawprint databases, then Google Places results. For the last type, <code>id</code> may be a Google Place ID instead of an row ID from the <code>place</code> table.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /v3/place</code></p>
<h3 id='query-string-parameters'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>string</td>
<td>The search term.</td>
</tr>
<tr>
<td>location</td>
<td>string?</td>
<td>Geocoordinates of the center of the search in <em>lat,lng</em> format, e.g. <code>location=47.620135,-122.19779</code></td>
</tr>
<tr>
<td>googlePlaceId</td>
<td>string?</td>
<td>Google Place ID of the center of the search. The service will get its lat/lng coordinates and search from there.</td>
</tr>
</tbody></table>
<h2 id='suggest-a-city'>Suggest a city</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aberdeen, WA, USA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJxag0MH8kklQRdZl18Pnt2as"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aberdeen, MD, USA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ChIJAeMIvYXBx4kRdLSNqBgdFj4"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Searches Google Places Autocomplete for cities for a given prefix, e.g. <code>prefix=Aberdeen</code>. Geocoordinates are not returned
because Google Places Autocomplete doesn&#39;t return them; when performing a location aware search, pass in the <code>placesid</code> instead
and the backend will get its coordinates automatically.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /v3/place/city</code></p>
<h3 id='query-string-parameters-2'>Query string parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>prefix</td>
<td>string</td>
<td>The search prefix.</td>
</tr>
</tbody></table>
<h2 id='merge-two-places'>Merge two places</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"keep"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27015</span><span class="p">,</span><span class="w">
    </span><span class="s2">"placesid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cH7jzcx8aoGvx"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint Demo Vet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"814 Mission St, San Francisco, CA 94302"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"website"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(650) 555-5555"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(650) 555-6666"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hi@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contactMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pawprint_note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pawprint vet"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"delete"</span><span class="p">:</span><span class="w"> </span><span class="mi">99999</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>ADMIN ONLY. Takes an update object (<code>keep</code>) and the ID of the place to delete.
The database entry for <code>keep</code> is patched with the object fields, then all table references to the place ID in <code>delete</code> are updated
to <code>keep.id</code>, and the row specified by <code>delete</code> is deleted. Prior to deletion, any fields that were empty in the kept place but not empty in the deleted place are copied to the kept place.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /admin/places/duplicates</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>keep</td>
<td>object</td>
<td>Object containing fields to update in the place to keep.</td>
</tr>
<tr>
<td>delete</td>
<td>int</td>
<td>ID of the place to delete</td>
</tr>
</tbody></table>
<h1 id='postcards'>Postcards</h1>
<p>Postcards are sent on the cadence specified in reminder_cadence.
Postcards are also batched so that no client receives postcards less than 2 weeks (default) apart.</p>
<h2 id='get-pending-postcards-for-approval'>Get pending postcards for approval</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"street_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Main Street"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"street_address2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Beverly Hills"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90210"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reminders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1849713</span><span class="p">,</span><span class="w">
                </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ein's Rabies 3 years is due on 01/03/2019"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1849714</span><span class="p">,</span><span class="w">
                </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ein's Bordetella Oral is due on 01/02/2019"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1849715</span><span class="p">,</span><span class="w">
                </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ein's DA2PPC is due on 01/02/2019"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-20T04:38:45.330Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Vet API. Gets all pending postcards for approval, from newest to oldest.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /vet/postcard/queue</code></p>
<h3 id='get-parameters'>GET parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>show_all</td>
<td>bool?</td>
<td>Whether or not to return all (approved, rejected and pending) postcards. Only pending postcards are returned by default.</td>
</tr>
<tr>
<td>dir</td>
<td>string?</td>
<td>Sort order for date. <code>asc</code> or <code>desc</code>. Defaults to <code>desc</code>.</td>
</tr>
</tbody></table>
<h2 id='approve-or-reject-a-postcard'>Approve or reject a postcard</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"approved"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Vet API. Approves or rejects a postcard. Approval will trigger the postcard to be mailed.
Rejection will prevent the postcard from showing up again, unless the queue endpoint was called with <code>show_all=true</code>.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /vet/postcard/queue/:postcard_id</code></p>
<h3 id='put-parameters'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>approved</td>
<td>bool</td>
<td>Whether or not to send the postcard.</td>
</tr>
</tbody></table>
<h1 id='reminders-v2'>Reminders v2</h1>
<p>V2 reminders. These can be one-shot reminders, or be scheduled to repeat at specific intervals
and with specified start/end dates. A user can have multiple reminders attached to it.
Timing details are stored in the <code>custom_reminder_v2</code> table, while per-user settings
are stored in the <code>user_reminder_v2</code> table. All operations on specific reminders
use <code>user_reminder_v2.id</code> as the parameter; only the creator can modify a reminder.</p>
<h2 id='get-all-reminders'>Get all reminders</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"reminders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reminder_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">39654</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67555</span><span class="p">,</span><span class="w">
            </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T21:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"marked_done"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">schedules</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">dw</span><span class="se">\"</span><span class="s2">:[2,4,6]}],</span><span class="se">\"</span><span class="s2">exceptions</span><span class="se">\"</span><span class="s2">:[]}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My reminder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Grain-free only"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">340</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reminder_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">311</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">39654</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67555</span><span class="p">,</span><span class="w">
            </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T21:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-25T21:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"marked_done"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"days"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
            </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My updated reminder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"z/d only"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">134402</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reminder_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">134402</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">37851</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67543</span><span class="p">,</span><span class="w">
            </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-01T08:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lepto vaccination"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Palmer Veterinary Clinic"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vet_reminder"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"marked_done"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets all active and non-active reminders for a user. Deleted reminders are omitted.
<strong>This also includes (non-ignored) reminders from the vet_reminder table.</strong></p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /user/v2/all_reminders</code></p>
<h2 id='get-specific-reminder'>Get specific reminder</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">340</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reminder_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">311</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_by"</span><span class="p">:</span><span class="w"> </span><span class="mi">39654</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67555</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T21:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-25T21:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"marked_done"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"days"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
    </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My updated reminder"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"z/d only"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets a specific reminder by <code>user_reminder_v2.id</code>.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /user/v2/reminder/:userreminderid</code></p>
<h2 id='create-a-reminder'>Create a reminder</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"pet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">67555</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">schedules</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">dw</span><span class="se">\"</span><span class="s2">:[7]}],</span><span class="se">\"</span><span class="s2">exceptions</span><span class="se">\"</span><span class="s2">:[]}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My reminder"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Grain-free only"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">340</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the <code>user_reminder_v2.id</code> of the newly created reminder. Only one of <code>schedule</code> or
the tuple (<code>frequency_unit</code>, <code>frequency_count</code>) should be specified. <code>schedule</code> is used
for day-of-week reminders while <code>frequency_unit</code> and <code>frequency_count</code> are used for everything else.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /user/v2/reminder</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pet_id</td>
<td>int</td>
<td>ID from the <code>pet</code> table.</td>
</tr>
<tr>
<td>start_date</td>
<td>string</td>
<td>When the first reminder should go off. For time zone reasons, this is a pass-through string.</td>
</tr>
<tr>
<td>until_date</td>
<td>string</td>
<td>When the reminder should end. For a one-shot reminder, leave this null and frequency_count=0. For a forever repeating reminder, leave this null and frequency_count&gt;0. For time zone reasons, this is a pass-through string.</td>
</tr>
<tr>
<td>frequency_unit</td>
<td>string</td>
<td>Unit of measure for <code>frequency_count</code>, e.g. <code>days</code>.</td>
</tr>
<tr>
<td>frequency_count</td>
<td>int</td>
<td>How often the reminder should repeat; combined with <code>frequency_unit</code>.</td>
</tr>
<tr>
<td>schedule</td>
<td>string</td>
<td>JSON object parsable by <a href="https://bunkat.github.io/later/">later.js</a>.</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Reminder title.</td>
</tr>
<tr>
<td>notes</td>
<td>string</td>
<td>Reminder notes.</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>ID from the <code>eventtype</code> table.</td>
</tr>
</tbody></table>
<h2 id='update-a-reminder'>Update a reminder</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"until_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-25T13:00:00-08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"frequency_unit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"frequency_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">schedules</span><span class="se">\"</span><span class="s2">:[{</span><span class="se">\"</span><span class="s2">dw</span><span class="se">\"</span><span class="s2">:[7]}],</span><span class="se">\"</span><span class="s2">exceptions</span><span class="se">\"</span><span class="s2">:[]}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My reminder"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Grain-free only"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Updates a reminder. Only the creator can update a reminder; otherwise HTTP 403/Forbidden is returned.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>PUT /user/v2/reminder/:userreminderid</code></p>
<h3 id='put-parameters'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>start_date</td>
<td>string</td>
<td>When the first reminder should go off. For time zone reasons, this is a pass-through string.</td>
</tr>
<tr>
<td>until_date</td>
<td>string</td>
<td>When the reminder should end. For a one-shot reminder, leave this null and frequency_count=0. For a forever repeating reminder, leave this null and frequency_count&gt;0. For time zone reasons, this is a pass-through string.</td>
</tr>
<tr>
<td>frequency_unit</td>
<td>string</td>
<td>Unit of measure for <code>frequency_count</code>, e.g. <code>days</code>.</td>
</tr>
<tr>
<td>frequency_count</td>
<td>int</td>
<td>How often the reminder should repeat; combined with <code>frequency_unit</code>.</td>
</tr>
<tr>
<td>schedule</td>
<td>string</td>
<td>JSON object parsable by <a href="https://bunkat.github.io/later/">later.js</a>.</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Reminder title.</td>
</tr>
<tr>
<td>notes</td>
<td>string</td>
<td>Reminder notes.</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>ID from the <code>eventtype</code> table.</td>
</tr>
</tbody></table>
<h2 id='delete-a-reminder'>Delete a reminder</h2>
<p>(Soft) Deletes a reminder. Only the creator can delete a reminder; otherwise HTTP 403/Forbidden is returned.
To deactivate a reminder, non-creators can use the <code>/v2/reminder/user/:userreminderid/settings</code> endpoint.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>DELETE /user/v2/reminder/:userreminderid</code></p>
<h2 id='update-settings'>Update settings</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"remove"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Both creators and non-creators can update their reminder settings. One or both parameters can be specified.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>PUT /user/v2/reminder/user/:userreminderid/settings</code></p>
<h3 id='put-parameters-2'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>active</td>
<td>boolean</td>
<td>Turns a reminder on/off, only for the calling user.</td>
</tr>
<tr>
<td>remove</td>
<td>boolean</td>
<td>Soft deletes a reminder, only for the calling user, even if they&#39;re not its creator.</td>
</tr>
</tbody></table>
<h2 id='update-settings-vet_reminder'>Update settings (vet_reminder)</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"done"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Both marks a <code>vet_reminder</code> as ignored or complete from the home page. One or both parameters can be specified.
Effectively, there is no difference in behavior if a reminder was ignored vs. marked as done.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>PUT /user/v2/reminder/vet/:vetreminderid/settings</code></p>
<h3 id='put-parameters-3'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>active</td>
<td>boolean</td>
<td>Ignores the reminder if set to <code>true</code>.</td>
</tr>
<tr>
<td>done</td>
<td>boolean</td>
<td>Marks the reminder as done if set to <code>true</code>.</td>
</tr>
</tbody></table>
<h1 id='requests-v1'>Requests v1</h1>
<p>Hopefully deprecated soon</p>
<h2 id='check-if-promo-code-is-valid'>Check if promo code is valid</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The code foo has expired."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="s2">"msg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Checks if a promo code is valid.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /user/request/:code</code></p>
<h1 id='requests-v2'>Requests v2</h1>
<p>This follows the pattern of POST /request/{producttype}/preview, which returns a preview invoice,
then a follow-up POST /request/{producttype}/order with the same request object to execute the transaction.</p>
<h2 id='get-all-products'>Get all products</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic record request"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic record request. Proof of vaccination for groomers and boarders."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rush request"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rush request; order will be processed within 48 hours"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.99"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full medical records request"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full medical records and your order will be processed within 48 hours"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional vet for full medical records"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.99"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free rush service"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free rush service provided to user"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full medical records request"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full medical records for 1 pet at 1 vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional pet at a vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional pet at a vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.99"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets all products in the product catalog.</p>

<aside class="notice">
Product IDs will not change; new products that are added will get new IDs, so you can
hard code product IDs into the app.
</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /v2/products</code></p>
<h2 id='basic-order-preview'>Basic order - preview</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"selected_vets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">2037</span><span class="p">,</span><span class="w"> </span><span class="mi">1984</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic records for Apple from Yorktown Animal Hospital: Gariboldi Rita T DVM"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic records for Apple from Animal Kind Veterinary Hospital"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the order preview for basic record requests (should be free).</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/request/basic/preview</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>selected_vets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>place</code> table.</td>
</tr>
</tbody></table>
<h2 id='basic-order-execute'>Basic order - execute</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"selected_vets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">2037</span><span class="p">,</span><span class="w"> </span><span class="mi">1984</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/sig.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"May be under my maiden name (Wilson)"</span><span class="p">,</span><span class="w"> </span><span class="s2">"May be under my husband's name (Russell)"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="mi">18613</span><span class="p">,</span><span class="w">
    </span><span class="mi">18614</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Returns an array of the newly created request IDs.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/request/basic/order</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>selected_vets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>place</code> table.</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>URL to the image file containing the client&#39;s signature.</td>
</tr>
<tr>
<td>note</td>
<td>array of strings</td>
<td>Array of notes to each vet, in the same order as selected_vets.</td>
</tr>
</tbody></table>
<h2 id='full-order-preview'>Full order - preview</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"selected_vets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">2037</span><span class="p">,</span><span class="w"> </span><span class="mi">1984</span><span class="w"> </span><span class="p">],</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request for full medical records for Apple from Yorktown Animal Hospital: Gariboldi Rita T DVM"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional request for medical records for Apple from Animal Kind Veterinary Hospital"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.99</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.98</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">16.48</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the order preview for full record requests.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/request/full/preview</code></p>
<h3 id='post-parameters-3'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>selected_vets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>place</code> table.</td>
</tr>
</tbody></table>
<h2 id='full-order-execute'>Full order - execute</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"selected_vets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">2037</span><span class="p">,</span><span class="w"> </span><span class="mi">1984</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/sig.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"May be under my maiden name (Wilson)"</span><span class="p">,</span><span class="w"> </span><span class="s2">"May be under my husband's name (Russell)"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="mi">18615</span><span class="p">,</span><span class="w">
    </span><span class="mi">18616</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Charges the customer&#39;s credit/debit card (see Payment section) and creates the record requests.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/request/full/order</code></p>
<h3 id='post-parameters-4'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>selected_vets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>place</code> table.</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>URL to the image file containing the client&#39;s signature.</td>
</tr>
<tr>
<td>note</td>
<td>array of strings</td>
<td>Array of notes to each vet, in the same order as selected_vets.</td>
</tr>
</tbody></table>
<h2 id='rush-upgrade-preview'>Rush upgrade - preview</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"request_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">17767</span><span class="p">,</span><span class="w"> </span><span class="mi">17768</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Upgrade request for Apple from Yorktown Animal Hospital: Gariboldi Rita T DVM"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.99</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Upgrade request for Apple from Animal Kind Veterinary Hospital"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.99</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.98</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.98</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the order preview for upgrading a basic record request to a rush request.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/request/rush/preview</code></p>
<h3 id='post-parameters-5'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>request_ids</td>
<td>array of ints</td>
<td>Array of IDs from the <code>request</code> table.</td>
</tr>
</tbody></table>
<h2 id='rush-upgrade-execute'>Rush upgrade - execute</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"request_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">17767</span><span class="p">,</span><span class="w"> </span><span class="mi">17768</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="s2">"strike_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tk_421"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Prioritizes the given requests and charges the customer&#39;s credit/debit card (see Payment section).
If <code>stripe_token</code> was passed, it is charged instead of the Stripe customer account tied to the user.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST /user/v2/pets/:petid/request/rush/order</code></p>
<h3 id='post-parameters-6'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>request_ids</td>
<td>array of ints</td>
<td>Array of IDs from the <code>request</code> table.</td>
</tr>
</tbody></table>
<h2 id='full-order-new-pricing-preview'>Full order (new pricing) - preview</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"2037"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"1984"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"promocode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mars"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request for full medical records for Apple from Yorktown Animal Hospital: Gariboldi Rita T DVM"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request for full medical records for Apple from Animal Kind Veterinary Hospital"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional pet: Bowser"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.99</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">29.97</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.00</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">32.97</span><span class="p">,</span><span class="w">
    </span><span class="s2">"discount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the order preview for full record requests. Pricing is as follows: $10 for each vet, and $10
for each pet after the first one (regardless of how many vets). So if you have 2 places and 2 pets, the
total cost comes out to $10 * 2 vets + $10 * 1 additional pet = $30.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>POST /user/v2/request/full/preview</code></p>
<h3 id='post-parameters-7'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vets</td>
<td>object</td>
<td>Keys are IDs from the <code>place</code> table; values are objects as described below</td>
</tr>
<tr>
<td>vets[place_id].pets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>pet</code> table.</td>
</tr>
<tr>
<td>promocode</td>
<td>string?</td>
<td>If specified, attempts to apply the promo code to the order. If the promo code didn&#39;t work, HTTP 400 is returned along with an error message.</td>
</tr>
<tr>
<td>stripe_token</td>
<td>string?</td>
<td>Stripe token that will be charged for payment (one-time use)</td>
</tr>
</tbody></table>
<h2 id='full-order-new-pricing-execute'>Full order (new pricing) - execute</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"2037"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"May be under my maiden name (Wilson)"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"1984"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"May be under my husband's name (Russell)"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/sig.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"checkout_notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Checkout note to Pawprint"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"promocode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mars"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"stripe_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tk_421"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="mi">18617</span><span class="p">,</span><span class="w">
    </span><span class="mi">18618</span><span class="p">,</span><span class="w">
    </span><span class="mi">18619</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Creates the request, which will show up in the admin portal as &#39;new&#39;. If <code>stripe_token</code> was passed,
the Stripe token is charged. Otherwise, the customer&#39;s credit/debit card (see Payment section) is charged.
Returns array of the newly created request IDs.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>POST /user/v2/request/full/order</code></p>
<h3 id='post-parameters-8'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vets</td>
<td>object</td>
<td>Keys are IDs from the <code>place</code> table; values are objects as described below</td>
</tr>
<tr>
<td>vets[place_id].pets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>pet</code> table.</td>
</tr>
<tr>
<td>vets[place_id].note</td>
<td>string</td>
<td>Note to this particular vet.</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>URL to the image file containing the client&#39;s signature.</td>
</tr>
<tr>
<td>checkout_notes</td>
<td>string?</td>
<td>Checkout note to Pawprint.</td>
</tr>
<tr>
<td>promocode</td>
<td>string?</td>
<td>If specified, attempts to apply the promo code to the order. If the promo code didn&#39;t work, HTTP 400 is returned along with an error message.</td>
</tr>
<tr>
<td>stripe_token</td>
<td>string?</td>
<td>Stripe token that will be charged for payment (one-time use)</td>
</tr>
</tbody></table>
<h2 id='web-basic-order-preview'>Web basic order - preview</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"2037"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"promocode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mars"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request for basic records for Apple and Bowser from Animal Care Center"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.99</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.99</span><span class="p">,</span><span class="w">
    </span><span class="s2">"discount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.99</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the order preview for basic record requests submitted from the web. Price is a flat $4.99 for unlimited pets from a vet.</p>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>POST /user/v2/request/web_basic/preview</code></p>
<h3 id='post-parameters-9'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vets</td>
<td>object</td>
<td>Keys are IDs from the <code>place</code> table; values are objects as described below</td>
</tr>
<tr>
<td>vets[place_id].pets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>pet</code> table.</td>
</tr>
<tr>
<td>promocode</td>
<td>string</td>
<td>If specified, attempts to apply the promo code to the order. If the promo code didn&#39;t work, HTTP 400 is returned along with an error message.</td>
</tr>
</tbody></table>
<h2 id='web-basic-order-execute'>Web basic order - execute</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"2037"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"May be under my maiden name (Wilson)"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/sig.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"checkout_notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Checkout note to Pawprint"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"promocode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mars"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="mi">18617</span><span class="p">,</span><span class="w">
    </span><span class="mi">18618</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Charges the customer&#39;s credit/debit card (see Payment section) and creates the record requests.
Returns array of the newly created request IDs.</p>
<h3 id='http-request-11'>HTTP Request</h3>
<p><code>POST /user/v2/request/web_basic/order</code></p>
<h3 id='post-parameters-10'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vets</td>
<td>object</td>
<td>Keys are IDs from the <code>place</code> table; values are objects as described below</td>
</tr>
<tr>
<td>vets[place_id].pets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>pet</code> table.</td>
</tr>
<tr>
<td>vets[place_id].note</td>
<td>string</td>
<td>Note to this particular vet.</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>URL to the image file containing the client&#39;s signature.</td>
</tr>
<tr>
<td>checkout_notes</td>
<td>string</td>
<td>Checkout note to Pawprint.</td>
</tr>
<tr>
<td>promocode</td>
<td>string</td>
<td>If specified, attempts to apply the promo code to the order. If the promo code didn&#39;t work, HTTP 400 is returned along with an error message.</td>
</tr>
</tbody></table>
<h2 id='web-full-order-preview'>Web full order - preview</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"2037"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"promocode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mars"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request for full records for Apple from Animal Care Center"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional full records for Bowser from Animal Care Center"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.99</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.98</span><span class="p">,</span><span class="w">
  </span><span class="s2">"discount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.98</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns the order preview for basic record requests submitted from the web. Price is a flat $9.99 for a pet at a vet
and $4.99 for additional pets.</p>
<h3 id='http-request-12'>HTTP Request</h3>
<p><code>POST /user/v2/request/web_full/preview</code></p>
<h3 id='post-parameters-11'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vets</td>
<td>object</td>
<td>Keys are IDs from the <code>place</code> table; values are objects as described below</td>
</tr>
<tr>
<td>vets[place_id].pets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>pet</code> table.</td>
</tr>
<tr>
<td>promocode</td>
<td>string</td>
<td>If specified, attempts to apply the promo code to the order. If the promo code didn&#39;t work, HTTP 400 is returned along with an error message.</td>
</tr>
</tbody></table>
<h2 id='web-full-order-execute'>Web full order - execute</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"vets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"2037"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"May be under my maiden name (Wilson)"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/sig.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"checkout_notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Checkout note to Pawprint"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"promocode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mars"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"stripe_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tk_421"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="mi">18617</span><span class="p">,</span><span class="w">
    </span><span class="mi">18618</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Creates the request, which will show up in the admin portal as &#39;new&#39;. If <code>stripe_token</code> was passed,
the Stripe token is charged. Otherwise, the customer&#39;s credit/debit card (see Payment section) is charged.
Returns array of the newly created request IDs.</p>
<h3 id='http-request-13'>HTTP Request</h3>
<p><code>POST /user/v2/request/web_full/order</code></p>
<h3 id='post-parameters-12'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vets</td>
<td>object</td>
<td>Keys are IDs from the <code>place</code> table; values are objects as described below</td>
</tr>
<tr>
<td>vets[place_id].pets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>pet</code> table.</td>
</tr>
<tr>
<td>vets[place_id].note</td>
<td>string</td>
<td>Note to this particular vet.</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>URL to the image file containing the client&#39;s signature.</td>
</tr>
<tr>
<td>checkout_notes</td>
<td>string</td>
<td>Checkout note to Pawprint.</td>
</tr>
<tr>
<td>promocode</td>
<td>string?</td>
<td>If specified, attempts to apply the promo code to the order. If the promo code didn&#39;t work, HTTP 400 is returned along with an error message.</td>
</tr>
<tr>
<td>stripe_token</td>
<td>string?</td>
<td>Stripe token that will be charged for payment (one-time use)</td>
</tr>
</tbody></table>
<h2 id='is-pet-linked'>Is pet linked</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"isPetLinked"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Checks if a pet is linked to a Pawprint vet associated with the given place.
Also handles cases where the Pawprint vet has multiple places/locations.</p>
<h3 id='http-request-14'>HTTP Request</h3>
<p><code>GET /user/pets/is_pet_linked/:petid/:placeid</code></p>
<h1 id='requests-v3'>Requests v3</h1>
<p>This follows the pattern of POST /request/{producttype}/preview, which returns a preview invoice,
then a follow-up POST /request/{producttype}/order with the same request object to execute the transaction.</p>
<h2 id='get-current-products'>Get current products</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"basic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic vaccination records"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic vaccination records for 1 pet at 1 vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.99"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"full"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full medical records"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full medical records for 1 pet at 1 vet"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
        </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_basic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic vaccination records"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic vaccination records for 1 pet at 1 vet (submitted via web)"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.99"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_full"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full vaccination records"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full medical records for 1 pet at 1 vet (submitted via web)"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Gets current products in the product catalog. Each slug can have multiple product IDs associated with it,
but only 1 product per slug will be returned. This allows us to change pricing or add new SKUs in the back-end
without having to reconfigure the front-end with new product IDs.</p>

<p>Current slugs are <code>basic</code>, <code>full</code>, <code>web_basic</code>, <code>web_full</code>, <code>wag</code>.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /v3/products</code></p>
<h2 id='preview-order'>Preview order</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"vets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"2037"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"1984"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"full"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"promocode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mars"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request for full medical records for Apple from Yorktown Animal Hospital: Gariboldi Rita T DVM"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request for full medical records for Apple from Animal Kind Veterinary Hospital"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request for full medical records for Bowser from Animal Kind Veterinary Hospital"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">29.97</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.00</span><span class="p">,</span><span class="w">
    </span><span class="s2">"discount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-5</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">27.97</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns an itemized order preview, with promo codes applied (if any).</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /user/v3/request/preview</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vets</td>
<td>object</td>
<td>Keys are IDs from the <code>place</code> table; values are objects as described below</td>
</tr>
<tr>
<td>vets[place_id].pets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>pet</code> table.</td>
</tr>
<tr>
<td>promocode</td>
<td>string?</td>
<td>If specified, attempts to apply the promo code to the order. If the promo code didn&#39;t work, HTTP 400 is returned along with an error message.</td>
</tr>
</tbody></table>
<h2 id='execute-order'>Execute order</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"vets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"2037"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">],</span><span class="w">
            </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"May be under my maiden name (Wilson)"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"1984"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">],</span><span class="w">
            </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"May be under my husband's name (Russell)"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"full"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/sig.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"checkout_notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Checkout note to Pawprint"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"promocode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mars"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"stripe_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tk_421"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="mi">18617</span><span class="p">,</span><span class="w">
    </span><span class="mi">18618</span><span class="p">,</span><span class="w">
    </span><span class="mi">18619</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Creates the requests, which will show up in the admin portal as &#39;new&#39;. In v3, <code>stripe_token</code> is mostly required, and
we won&#39;t be creating or charging Stripe Customer accounts. If a promocode is supplied but the total comes out to $0.00,
or if the product is free (e.g. <code>wag</code> request), then <code>stripe_token</code> is neither required nor charged.
Returns an array of the newly created request IDs.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /user/v3/request/order</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>slug</td>
<td>string</td>
<td>Name of the product type, e.g. <code>basic</code>, <code>full,</code>web_basic`, etc. See v3 Products call for the full list of slugs.</td>
</tr>
<tr>
<td>vets</td>
<td>object</td>
<td>Keys are IDs from the <code>place</code> table; values are objects as described below</td>
</tr>
<tr>
<td>vets[place_id].pets</td>
<td>array of ints</td>
<td>Array of IDs from the <code>pet</code> table.</td>
</tr>
<tr>
<td>vets[place_id].note</td>
<td>string</td>
<td>Note to this particular vet.</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>URL to the image file containing the client&#39;s signature.</td>
</tr>
<tr>
<td>checkout_notes</td>
<td>string?</td>
<td>Checkout note to Pawprint.</td>
</tr>
<tr>
<td>promocode</td>
<td>string?</td>
<td>If specified, attempts to apply the promo code to the order. If the promo code didn&#39;t work, HTTP 400 is returned along with an error message.</td>
</tr>
<tr>
<td>stripe_token</td>
<td>string?</td>
<td>Stripe token that will be charged for payment (one-time use)</td>
</tr>
</tbody></table>
<h1 id='sharing'>Sharing</h1>
<p>For inviting, onboarding and account linking.</p>
<h2 id='share-pet-records'>Share pet records</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"recipients"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com, demo2@getpawprint.com"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Shares pet records via email. The email contains the pet&#39;s name, vaccinations, and links to PDFs were both
user-uploaded and admin-uploaded (from a records request).</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /user/pets/:petid/share</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>recipients</td>
<td>string</td>
<td>Comma-separated list of recipient emails</td>
</tr>
</tbody></table>
<h2 id='check-pet-invite-code'>Check pet invite code</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">pet_id</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Checks if an invite code exists. This is when you share a pet. Returns the pet ID associated with the invite code.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /invite_code/:inviteCode</code></p>
<h2 id='create-pet-invite-code'>Create pet invite code</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"access"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456</span><span class="p">,</span><span class="w">
    </span><span class="s2">"access"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-01T12:00:00Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Creates a pet invite code for the purpose of sharing pet ownership with another user.
Access levels are 1 for full ownership and 2 for limited ownership; however, access levels are deprecated.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /user/pets/:petid/invite_code</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access</td>
<td>int</td>
<td>Deprecated. 1 for full ownership; 2 for limited ownership.</td>
</tr>
</tbody></table>
<h2 id='use-pet-invite-code'>Use pet invite code</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">pet_id</span><span class="p">:</span><span class="w"> </span><span class="mi">53540</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Uses a pet invite code. Note that this is a GET and not a POST; this is an old API.
When the pet invite code is used, a relationship is created in the <code>user_pet</code> table between the pet
and the calling user, and all pet reminders are copied to the user&#39;s reminders in <code>user_reminder_v2</code> as well.
The proper design would specify this as a POST and v2 may change the verb in the future.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET /user/invite_code/:code</code></p>
<h1 id='user'>User</h1>
<p>Functions that have to do with managing users&#39; profiles and settings.</p>
<h2 id='create-and-email-password-reset-token-v1'>Create and email password reset token (v1)</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo2@getpawprint.com"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">success</span><span class="w">
</span></code></pre>
<p>Sets a reset token on the account specified by the <code>email</code> parameter and sends a reset link to it.
The reset token is valid for <strong><em>1 hour</em></strong>.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /user/forgot</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Email address on the user&#39;s account</td>
</tr>
</tbody></table>
<h2 id='create-and-email-password-reset-token-v2'>Create and email password reset token (v2)</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo2@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"scenario"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_request"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">success</span><span class="w">
</span></code></pre>
<p>Sets a reset token on the account specified by the <code>email</code> parameter and sends a reset Branch link to it.
The reset token is valid for <strong><em>7 days</em></strong>.</p>

<p>The Branch link contains:
- <code>context</code>: <code>&#39;reset_password&#39;</code>, intended for app navigation
- <code>scenario</code>: optional parameter from the caller; allows for more flexibility in rendering/navigation. Defaults to <code>user_reset</code>.
- <code>email</code>: Intended for rendering; not required to call the password reset endpoint.
- <code>resetPasswordToken</code></p>

<p>If the Branch link is opened on a phone, either the app will be launched or the user will be redirected to the app store.
If it is opened on a desktop browser, the user will be redirected to <code>/getmobile?resetPasswordToken=${resetPasswordToken}</code>,
which in turn redirects to <code>/reset/${resetPasswordToken}</code> (triggered by the query string parameter).</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /reset</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string</td>
<td>Email address on the user&#39;s account</td>
</tr>
<tr>
<td>scenario</td>
<td>string?</td>
<td>Caller-defined optional parameter. Allows for more flexibility in rendering/navigation of password reset UIs. Defaults to <code>user_reset</code>.</td>
</tr>
</tbody></table>
<h2 id='render-reset-page-for-token'>Render reset page for token</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight plaintext"><code>(an HTML web page)
</code></pre>
<p>Checks the token specified in the <code>:token</code> parameter. If it is valid, the rendered web page
allows the user to reset their password. If not, then an error message is displayed.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET /reset/:token</code></p>
<h2 id='reset-password'>Reset password</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"passw0rd123"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">Password</span><span class="w"> </span><span class="err">updated</span><span class="w">
</span></code></pre>
<p>Sets a new password on the user account specified by <code>:token</code> (compares to <code>user.resetPasswordToken</code> field).</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST /reset/:token</code></p>
<h3 id='post-parameters-3'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>password</td>
<td>string</td>
<td>The new password</td>
</tr>
</tbody></table>
<h1 id='web-requests'>Web requests</h1>
<p>Save and retrieve progress for creating a web request</p>
<h2 id='create-a-user'>Create a user</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cecil"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Harvey"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+14255556174"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"street_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Main St"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"street_address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 101"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bellevue"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98004"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United States"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XOKQ-n5zjba1lM1-pOncpGHMaAxoqTGl"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns an external ID (unique random string) that identifies the <code>web_user</code> in subsequent requests;
this is so people can&#39;t easily guess random <code>web_user</code>s and modify their information.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /web_request/user</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>first_name</td>
<td>string?</td>
<td>User&#39;s first name.</td>
</tr>
<tr>
<td>last_name</td>
<td>string?</td>
<td>User&#39;s last name.</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Required. User&#39;s email address.</td>
</tr>
<tr>
<td>phone</td>
<td>string?</td>
<td>User&#39;s phone number.</td>
</tr>
<tr>
<td>street_address</td>
<td>string?</td>
<td>Line 1 of the user&#39;s street address.</td>
</tr>
<tr>
<td>street_address2</td>
<td>string?</td>
<td>Line 2 of the user&#39;s street address.</td>
</tr>
<tr>
<td>city</td>
<td>string?</td>
<td>User&#39;s city.</td>
</tr>
<tr>
<td>state</td>
<td>string?</td>
<td>User&#39;s state.</td>
</tr>
<tr>
<td>country</td>
<td>string?</td>
<td>User&#39;s country.</td>
</tr>
</tbody></table>
<h2 id='update-a-user'>Update a user</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cecil"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Harvey"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+14255556174"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"street_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Main St"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"street_address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 101"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bellevue"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98004"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United States"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XOKQ-n5zjba1lM1-pOncpGHMaAxoqTGl"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns a unique random string that identifies the <code>web_user</code> in subsequent requests (an external identifier);
this is so people can&#39;t easily guess random <code>web_user</code>s and modify their information. Note that email cannot be changed.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>PUT /web_request/user/:web_user_external_id</code></p>
<h3 id='post-parameters-2'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>first_name</td>
<td>string?</td>
<td>User&#39;s first name.</td>
</tr>
<tr>
<td>last_name</td>
<td>string?</td>
<td>User&#39;s last name.</td>
</tr>
<tr>
<td>phone</td>
<td>string?</td>
<td>User&#39;s phone number.</td>
</tr>
<tr>
<td>street_address</td>
<td>string?</td>
<td>Line 1 of the user&#39;s street address.</td>
</tr>
<tr>
<td>street_address2</td>
<td>string?</td>
<td>Line 2 of the user&#39;s street address.</td>
</tr>
<tr>
<td>city</td>
<td>string?</td>
<td>User&#39;s city.</td>
</tr>
<tr>
<td>state</td>
<td>string?</td>
<td>User&#39;s state.</td>
</tr>
<tr>
<td>country</td>
<td>string?</td>
<td>User&#39;s country.</td>
</tr>
</tbody></table>
<h2 id='create-a-pet'>Create a pet</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gizmo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dog"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yorkshire Terrier"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"M"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-01"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Creates a pet and returns the ID from <code>web_pet</code>.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /web_request/user/:web_user_external_id/pets</code></p>
<h3 id='post-parameters-3'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Required. Pet&#39;s name.</td>
</tr>
<tr>
<td>species</td>
<td>string?</td>
<td>Pet&#39;s species, e.g. &quot;Dog&quot;, &quot;Cat&quot;, &quot;Rabbit&quot;, etc.</td>
</tr>
<tr>
<td>breed</td>
<td>string?</td>
<td>Pet&#39;s breed, e.g. &quot;Chihuahua&quot; or &quot;Domestic Short Hair&quot;</td>
</tr>
<tr>
<td>gender</td>
<td>string?</td>
<td>&#39;M&#39; for male or &#39;F&#39; for female.</td>
</tr>
<tr>
<td>birthdate</td>
<td>datetime?</td>
<td>Pet&#39;s birth date</td>
</tr>
</tbody></table>
<h2 id='update-a-pet'>Update a pet</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gizmo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dog"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yorkshire Terrier"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"M"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-01"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Updates an existing pet by web_pet_id. If the user doesn&#39;t own the pet, then HTTP 403/Forbidden is returned.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>PUT /web_request/user/:web_user_external_id/pets/:web_pet_id</code></p>
<h3 id='put-parameters'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string?</td>
<td>Pet&#39;s name.</td>
</tr>
<tr>
<td>species</td>
<td>string?</td>
<td>Pet&#39;s species, e.g. &quot;Dog&quot;, &quot;Cat&quot;, &quot;Rabbit&quot;, etc.</td>
</tr>
<tr>
<td>breed</td>
<td>string?</td>
<td>Pet&#39;s breed, e.g. &quot;Chihuahua&quot; or &quot;Domestic Short Hair&quot;</td>
</tr>
<tr>
<td>gender</td>
<td>string?</td>
<td>&#39;M&#39; for male or &#39;F&#39; for female.</td>
</tr>
<tr>
<td>birthdate</td>
<td>datetime?</td>
<td>Pet&#39;s birth date</td>
</tr>
</tbody></table>
<h2 id='get-user-39-s-pets'>Get user&#39;s pets</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gizmo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dog"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yorkshire Terrier"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"M"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"birthdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-01"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>
<p>Returns a list of the user&#39;s existing pets.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET /web_request/user/:web_user_external_id/pets</code></p>
<h2 id='delete-a-web-pet-from-a-request'>Delete a web pet from a request</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Unlinks a web_pet from its web user and web_request, then deletes it.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>DELETE /web_request/user/:web_user_external_id/pets/:web_pet_id</code></p>
<h2 id='create-a-new-request'>Create a new request</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"web_user_external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aXdJG09jq1sTpiV"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"web_pet_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1337</span><span class="p">,</span><span class="w">
    </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_basic"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Need proof of vaccination"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"stripe_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tk_8STubeEqtr8i"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/signature_101.pdf"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"promocode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mars2018"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Used to be named Russell"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abZj4sT839fsbCdiut8qwV"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Creates a partial or full records request (without submitting). Submitting the request is a separate API call.
The request is assigned a unique random string, which is returned to the caller and can be used to
retrieve or update the session.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST /web_request</code></p>
<h3 id='post-parameters-4'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>web_user_external_id</td>
<td>int</td>
<td>Required. User ID created by the <code>/web_request/user</code> call.</td>
</tr>
<tr>
<td>web_pet_ids</td>
<td>array of ints</td>
<td>Optional. List of web_pet IDs.</td>
</tr>
<tr>
<td>place_id</td>
<td>int</td>
<td>Optional. ID from the <code>place</code> table.</td>
</tr>
<tr>
<td>slug</td>
<td>string</td>
<td>Optional. Slug from the <code>product</code> table.</td>
</tr>
<tr>
<td>product_id</td>
<td>int</td>
<td>(deprecated) Optional. ID from the <code>product</code> table.</td>
</tr>
<tr>
<td>reason</td>
<td>string?</td>
<td>Optional. User&#39;s reason for the records request.</td>
</tr>
<tr>
<td>stripe_token</td>
<td>string?</td>
<td>Optional. Payment information (not charged until the request is submitted).</td>
</tr>
<tr>
<td>signature</td>
<td>string?</td>
<td>Optional. Link to the user&#39;s electronic signature.</td>
</tr>
<tr>
<td>promocode</td>
<td>string?</td>
<td>Optional. Promotion code; its effect appears in previews and will be applied when the request is submitted.</td>
</tr>
<tr>
<td>note</td>
<td>string?</td>
<td>Optional. Note to vet.</td>
</tr>
</tbody></table>
<h2 id='update-a-request'>Update a request</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"web_pet_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1337</span><span class="p">,</span><span class="w">
    </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_basic"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Need proof of vaccination"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"stripe_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tk_8STubeEqtr8i"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/signature_101.pdf"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"promocode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mars2018"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Used to be named Russell"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Updates a partial or full records request (without submitting). Submitting the request is a separate API call.
Requests are assigned a unique random string which is used as the request identifier.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>PUT /web_request/:webrequestid</code></p>
<h3 id='put-parameters-2'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>web_pet_ids</td>
<td>array of ints?</td>
<td>Optional. List of web_pet IDs. The previously stored list is completely overwritten by this list.</td>
</tr>
<tr>
<td>place_id</td>
<td>int?</td>
<td>Optional. ID from the <code>place</code> table.</td>
</tr>
<tr>
<td>slug</td>
<td>string?</td>
<td>Optional. Slug from the <code>product</code> table.</td>
</tr>
<tr>
<td>product_id</td>
<td>int?</td>
<td>(deprecated) Optional. ID from the <code>product</code> table.</td>
</tr>
<tr>
<td>reason</td>
<td>string?</td>
<td>Optional. User&#39;s reason for the records request.</td>
</tr>
<tr>
<td>stripe_token</td>
<td>string?</td>
<td>Optional. Payment information (not charged until the request is submitted).</td>
</tr>
<tr>
<td>signature</td>
<td>string?</td>
<td>Optional. Link to the user&#39;s electronic signature.</td>
</tr>
<tr>
<td>promocode</td>
<td>string?</td>
<td>Optional. Promotion code; its effect appears in previews and will be applied when the request is submitted.</td>
</tr>
<tr>
<td>note</td>
<td>string?</td>
<td>Optional. Note to vet.</td>
</tr>
</tbody></table>
<h2 id='get-existing-request'>Get existing request</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"web_user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aXc984htjlspu"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Web"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webuser@getpawprint.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bellevue"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"web_pets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Webby"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dog"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"M"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chewy"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dog"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"F"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
    </span><span class="s2">"place_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1337</span><span class="p">,</span><span class="w">
    </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_basic"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Need proof of vaccination"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"stripe_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tk_8STubeEqtr8i"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/signature_101.pdf"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets an existing web request. Complete objects (instead of IDs) are returned for <code>web_user</code> and <code>web_pet</code>.
Requests are assigned a unique random string which is used as the request identifier.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>GET /web_request/:webrequestid</code></p>
<h2 id='get-consent-form'>Get consent form</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/buckets/pawprint/consent/consent_4253478.pdf"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Generates a consent form for a complete request. A request is complete if it contains:</p>

<ul>
<li>A complete web_user object</li>
<li>One or more complete pet objects

<ul>
<li>If one or more pet objects are not complete, request creation will not succeed</li>
</ul></li>
<li>A reason for the request</li>
<li>An electronic signature</li>
<li>A place</li>
</ul>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>GET /web_request/:webrequestid/consent</code></p>
<h2 id='preview-a-complete-request'>Preview a (complete) request</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request for full records for Apple from Animal Care Center"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Additional full records for Bowser from Animal Care Center"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.99</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.98</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"discount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.98</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Previews a complete request. A request is complete if it contains:</p>

<ul>
<li>A complete web_user object</li>
<li>One or more complete pet objects

<ul>
<li>If one or more pet objects are not complete, request creation will not succeed</li>
</ul></li>
<li>A reason for the request</li>
<li>An electronic signature</li>
<li>A place</li>
</ul>

<p>If the request is valid, then an order preview object is returned with a price breakdown.</p>
<h3 id='http-request-11'>HTTP Request</h3>
<p><code>GET /web_request/:webrequestid/preview</code></p>
<h2 id='get-consent-form-for-a-complete-request'>Get consent form for a (complete) request</h2>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pawprint-web-request-consent.s3.amazonaws.com/5HhfWf_34JyX_lzFjCrJ5rWWivpZJstM.pdf"</span><span class="w">
</span></code></pre>
<p>Validates a request (see above for rules), generates a consent form and returns the URL to the consent form. Subsequent calls
will overwrite the previous consent form for the request.</p>
<h3 id='http-request-12'>HTTP Request</h3>
<p><code>GET /web_request/:webrequestid/consent</code></p>
<h2 id='submit-a-complete-request'>Submit a (complete) request</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Validates a request (see above for rules), and performs the following actions:</p>

<ol>
<li>Checks for a Stripe token for payment, if it&#39;s a paid request</li>
<li>Charges the Stripe token (if applicable)</li>
<li>Create a &quot;ghost&quot; <code>user</code> from the <code>web_user</code> in the request. This has the same attributes as a regular user account, except the <code>type</code> is 5
and the user has no password. Hence, they will not be able to log in to the app, but they should be prompted to set a password
and finish setting up their account.</li>
<li>Create <code>pet</code>s from the <code>web_pet</code>s in the request. These are the same as any other pet in the database.</li>
<li>Create the appropriate <code>user_pet</code> relationships. These are the same as any other <code>user_pet</code> relationship in the database.</li>
<li>Create the <code>request</code> in the database, unless the DIY option was selected. This is the same as any other request in the database.</li>
</ol>
<h3 id='http-request-13'>HTTP Request</h3>
<p><code>POST /web_request/:webrequestid</code></p>
<h3 id='post-parameters-5'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>stripe_token</td>
<td>string?</td>
<td>Optional. Stripe token to charge if this was a paid request.</td>
</tr>
</tbody></table>
<h1 id='web-requests-onboarded-vets'>Web requests - Onboarded vets</h1>
<p>For making web requests for vets that have onboarded with Pawprint. Their accounts
should be linked, so we don&#39;t need to submit a request; we only need to verify the user
and then email the records.</p>
<h2 id='send-records-amp-recruiting-email-deprecated'>Send records &amp; recruiting email (Deprecated)</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Sends an email to the vet user, with 1 of 2 possible payloads.</p>

<p><strong>When the vet_user is not linked to a Pawprint user:</strong>
- Vaccination records from the <code>vet_pet_history</code> table and items from the <code>vet_invoice</code> table
- CTA message to download the Pawprint app
- Branch link with the following:
  - <code>context</code>: <code>web_request_signup</code>
  - <code>email</code>: email address to prepopulate in the account creation page in the app
  - <code>vet_user_id</code>: <code>vet_user.id</code> value</p>

<p><strong>When the vet_user is linked to a Pawprint user:</strong>
- Same email as going into the app and selecting &quot;Share medical records&quot; on the home screen</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /vet_user/:vet_user_id/send_records</code></p>
<h2 id='find-vet-integrations-for-email-phone'>Find vet integrations for email/phone</h2>
<p>See &quot;Find vet integrations for email/phone&quot; in Activation V2.</p>
<h2 id='create-vet_user-pin'>Create vet_user PIN</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Creates a PIN for the vet_user account, valid for 1 hour, and then sends it via SMS to the vet_user&#39;s
phone number on file.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /vet_user/:vet_user_id/pin</code></p>
<h2 id='verify-pin-and-send-pet-records'>Verify PIN and send pet records</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"pin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"012345"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email_sent"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@getpawprint.com"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="p">{</span><span class="w">
</span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalid_pin"</span><span class="p">,</span><span class="w">
</span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="p">{</span><span class="w">
</span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no_email"</span><span class="p">,</span><span class="w">
</span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Submits a PIN for verification. If the PIN matches the PIN on the given vet_user account and isn&#39;t expired,
pet health records are sent to the given email.
If the <code>email</code> parameter was not specified, the <code>vet_user</code> is checked for an email address, and records are sent to that email.</p>

<p>If the PIN doesn&#39;t match or is expired, HTTP 401 is returned with <code>status: invalid</code>.</p>

<aside class="notice">
We don't have writeback access to vet PMSes to update the email address. However, the records email
will contain a Branch link encouraging the user to sign up, and they can sign up for a Pawprint account
with any email they want.
</aside>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>PUT /vet_user/:vet_user_id/pin</code></p>
<h3 id='put-parameters'>PUT parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pin</td>
<td>string</td>
<td>PIN that was generated</td>
</tr>
<tr>
<td>email</td>
<td>string?</td>
<td>Email address to send records to.</td>
</tr>
</tbody></table>
<h2 id='submit-branded-request'>Submit branded request</h2>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wag_full"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/signature.png"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">(none)</span><span class="w">
</span></code></pre>
<p>Possibilities:</p>

<p><strong><em><code>slug</code> is <code>web_basic</code> or <code>wag_basic</code>:</em></strong></p>

<p>Sends an email containing records of each active vet_pet associated with the vet_user account.
No check is done on the Pawprint <code>user</code> table.</p>

<p><strong><em><code>slug</code> is <code>web_full</code> or <code>wag_full</code>:</em></strong></p>

<p>A consent signature URL is required in the <code>signature</code> parameter in this case.</p>

<ul>
<li><em>vet_user is linked to a Pawprint account:</em> Creates a records request for each linked pet.</li>
<li><em>vet_user is not linked to a Pawprint account but matches the email on one:</em>
Returns an error message telling the user to contact us to resolve the situation manually.
This situation can be detected before this endpoint is called by calling <code>GET /activation/email</code> to check an email
for an existing Pawprint account, then <code>GET /activation/vet_integrations</code> for existing <code>vet_user</code> accounts.</li>
<li><em>vet_user is not linked to a Pawprint account and no email match:</em>
Automatically creates a Pawprint account from the vet_user account and onboards all their active pets,
then creates a records request for each pet that was onboarded.</li>
</ul>

<p>Wag! requests stats are tracked in the <code>wag_request</code> table.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST /vet_user/:vet_user_id/request</code></p>
<h3 id='post-parameters'>POST parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>slug</td>
<td>string</td>
<td>Product slug, e.g. <code>web_basic</code> or <code>wag_full</code>.</td>
</tr>
<tr>
<td>signature</td>
<td>string?</td>
<td>Required if slug is <code>web_full</code> or <code>wag_full</code>. URL of consent signature file.</td>
</tr>
</tbody></table>
<h1 id='vetstoria'>Vetstoria</h1>
<p>Vetstoria integration. After booking an appointment in Vetstoria, their clients are redirected to a URL on the Pawprint site.
Each partner hospital has a redirect URL configured on the Vetstoria side, and has a site hash that is stored in the Pawprint database.
Site hashes are obtained from our partner account on Vetstoria.</p>
<h2 id='get-vetstoria-booking-details'>Get Vetstoria booking details</h2>
<blockquote>
<p>Request example
(none)</p>

<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"banner_image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.aws.amazon.com/pawprint/pawprint-images/partner_logo.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(555) 555-5555"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"janesmith@getpawprint.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"bookings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4X_ilj39-cA41nb0c9rip9"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Milo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dog"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-20"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9:15 am"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/Los_Angeles"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wellness Exam"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Just moved here from Chicago"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m-49u4uVnHLk56rm47nu"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pumpkin"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cat"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"appointment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-20"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9:30 am"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/Los_Angeles"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Consultation"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Just moved here from Chicago"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">],</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Gets appointment information from Vetstoria and returns it to the caller (Pawprint landing page), and also silently creates intakes
in the Pawprint database. A Vetstoria booking ID may return multiple appointments. The <code>place_id</code> parameter will be hard coded into
the redirect URL that we give to Vetstoria per partner hospital, and <code>booking_id</code> is an identifier generated on their end.
The result is that both parameters will end up in the URL when they redirect to Pawprint.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /partners/vetstoria/:place_id/:booking_id</code></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
          </div>
      </div>
    </div>
  </body>
</html>
